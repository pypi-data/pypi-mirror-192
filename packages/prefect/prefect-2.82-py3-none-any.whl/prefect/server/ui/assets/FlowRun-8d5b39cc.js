import{d as C,r as D,ak as P,c as s,Y as L,a0 as A,al as B,am as N,an as V,a as n,w as o,a3 as f,a4 as Z,Z as j,ao as q,o as l,u as e,ap as E,f as u,aq as w,ar as K,b as i,as as O,at as U,au as Y,av as $}from"./index-ac647112-08d053b9.js";import{u as z}from"./usePageTitle-b14d9551.js";import"./index-dfea5a9b.js";import{r as G}from"./routes-5c579cbb.js";import"./meta-26546594.js";const ee=C({__name:"FlowRun",setup(H){const m=Z(),p=D("Logs"),c=P("flowRunId"),d=s(()=>{const t=["Logs","Task Runs","Subflow Runs","Parameters"];return j.xl||t.push("Details"),t}),_=L(),y=A(_.flowRuns.getFlowRun,[c],{interval:5e3}),a=s(()=>y.response),v=s(()=>{var t;return(t=a.value)==null?void 0:t.deploymentId}),R=B(v);N(c,(t,r)=>{t!==r&&(p.value="Logs")});const k=s(()=>{var t;return((t=a.value)==null?void 0:t.parameters)??{}}),g=s(()=>{var t;return((t=R.value)==null?void 0:t.parameterOpenApiSchema)??{}}),b=s(()=>q(k.value,g.value));function x(){m.push(G.flowRuns())}const T=s(()=>{var t;return(t=a.value)==null?void 0:t.stateType});V(T);const h=s(()=>a.value?`Flow Run: ${a.value.name}`:"Flow Run");return z(h),(t,r)=>{const F=f("p-tabs"),I=f("p-layout-well");return l(),n(I,{class:"flow-run"},{header:o(()=>[e(a)?(l(),n(e(E),{key:0,"flow-run-id":e(a).id,onDelete:x},null,8,["flow-run-id"])):u("",!0)]),well:o(()=>[e(a)?(l(),n(e(w),{key:0,"flow-run":e(a),alternate:""},null,8,["flow-run"])):u("",!0)]),default:o(()=>[e(a)?(l(),n(e(K),{key:0,"flow-run":e(a)},null,8,["flow-run"])):u("",!0),i(F,{selected:p.value,"onUpdate:selected":r[0]||(r[0]=S=>p.value=S),tabs:e(d)},{details:o(()=>[e(a)?(l(),n(e(w),{key:0,"flow-run":e(a)},null,8,["flow-run"])):u("",!0)]),logs:o(()=>[e(a)?(l(),n(e(O),{key:0,"flow-run":e(a)},null,8,["flow-run"])):u("",!0)]),"task-runs":o(()=>[e(a)?(l(),n(e(U),{key:0,"flow-run-id":e(a).id},null,8,["flow-run-id"])):u("",!0)]),"subflow-runs":o(()=>[e(a)?(l(),n(e(Y),{key:0,"flow-run-id":e(a).id},null,8,["flow-run-id"])):u("",!0)]),parameters:o(()=>[i(e($),{language:"json",snippet:e(b)},null,8,["snippet"])]),_:1},8,["selected","tabs"])]),_:1})}}});export{ee as default};
