import{K as L,d as h,c as C,o as l,a as p,w as u,b as a,u as e,e as c,f as y,s as M,g as v,h as N,n as $,t as O,p as d,r as V,Z as w,i as U,j as A,k as b,M as B,T as F,l as K,R as j,N as D,I as T,m as E,O as W,$ as q,q as H,v as J,J as Q,S as Z,x as G,y as z,V as X}from"./index-ac647112-08d053b9.js";import{r as Y}from"./index-dfea5a9b.js";import{i as ee}from"./colorMode-82c139ca.js";import{r as i}from"./routes-5c579cbb.js";import{U as g,A as te}from"./ApiRoute-f22472f7.js";import"./meta-26546594.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))_(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const f of s.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&_(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function _(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();const I=Symbol("canInjectionKey");function oe(){return L(I)}const se=h({__name:"ContextSidebar",setup(r){const t=oe(),n=C(()=>t.access.work_pools&&t.read.work_pool);return(_,o)=>(l(),p(e(M),{class:"context-sidebar"},{footer:u(()=>[a(e(c),{title:"Settings",icon:"CogIcon",to:e(i).settings()},null,8,["to"])]),default:u(()=>[a(e(c),{title:"Flow Runs",icon:"FlowRun",to:e(i).flowRuns()},null,8,["to"]),a(e(c),{title:"Flows",icon:"Flow",to:e(i).flows()},null,8,["to"]),a(e(c),{title:"Deployments",icon:"LocationMarkerIcon",to:e(i).deployments()},null,8,["to"]),e(n)?(l(),p(e(c),{key:0,title:"Work Pools",icon:"DatabaseIcon",to:e(i).workPools()},null,8,["to"])):y("",!0),e(n)?y("",!0):(l(),p(e(c),{key:1,title:"Work Queues",icon:"DatabaseIcon",to:e(i).workQueues()},null,8,["to"])),a(e(c),{title:"Blocks",icon:"CubeIcon",to:e(i).blocks()},null,8,["to"]),a(e(c),{title:"Notifications",icon:"BellIcon",to:e(i).notifications()},null,8,["to"]),a(e(c),{title:"Task Run Concurrency",icon:"Task",to:e(i).concurrencyLimits()},null,8,["to"])]),_:1}))}}),ne={class:"app-router-view"},ae=h({__name:"AppRouterView",async setup(r){let t,n;const _=([t,n]=v(()=>g.get("apiUrl")),t=await t,n(),t),o=N({baseUrl:_}),s=([t,n]=v(()=>g.get("flags")),t=await t,n(),t),f=$([...O,...s]),P=W();d(I,f),d(D,f),d(T,o),d(E,P);const m=V(!1),k=C(()=>w.lg||m.value);function x(){m.value=!m.value}function R(){m.value=!1}return U(()=>document.body.classList.toggle("body-scrolling-disabled",k.value&&!w.lg)),(fe,_e)=>(l(),A("div",ne,[e(w).lg?y("",!0):(l(),p(e(B),{key:0,class:"app-router-view__mobile-menu"},{"upper-links":u(()=>[a(e(b),{icon:"PrefectGradient",class:"app-router-view__prefect-icon"})]),"bottom-links":u(()=>[a(e(b),{icon:"MenuIcon",class:"app-router-view__menu-icon",onClick:x})]),_:1})),e(k)?(l(),p(se,{key:1,class:"app-router-view__sidebar",onClick:R})):y("",!0),a(e(j),{class:"app-router-view__view"},{default:u(({Component:S})=>[a(F,{name:"app-router-view-fade",mode:"out-in"},{default:u(()=>[(l(),p(K(S)))]),_:2},1024)]),_:1})]))}});class re extends te(H){}const ce=q(new re);async function ie(){try{await ce.getHealth()}catch(r){const t=await g.get("apiUrl").then(n=>n);J(`Can't connect to Server API at ${t}. Check that it's accessible from your machine.`,"error",{timeout:!1}),console.warn(r)}}const le={class:"app","data-teleport-target":"app"},ue=h({__name:"App",setup(r){return ie(),Q(),(t,n)=>(l(),A("div",le,[(l(),p(Z,null,{default:u(()=>[a(ae)]),_:1}))]))}});ee();function pe(){const r=G(ue);r.use(Y),r.use(z),r.use(X),r.mount("#app")}pe();
