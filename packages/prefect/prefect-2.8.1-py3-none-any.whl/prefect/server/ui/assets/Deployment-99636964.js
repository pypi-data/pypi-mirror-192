import{d as N,ak as S,c as r,Y as C,aN as I,a0 as R,aF as F,am as P,a as o,w as a,a3 as i,a4 as Q,Z as A,o as s,u as e,aO as B,f as d,aP as c,b as u,aQ as V,aR as W,aS as Z,aT as j,av as J,aK as K,aU as M}from"./index-ac647112-08d053b9.js";import{u as Y}from"./useToast-b76c85d7.js";import{u as $}from"./usePageTitle-b14d9551.js";import"./index-dfea5a9b.js";import{r as q}from"./routes-5c579cbb.js";import"./meta-26546594.js";const te=N({__name:"Deployment",setup(z){const m=S("deploymentId"),y=r(()=>[m.value]),f=Q(),_=C(),v=Y(),h={interval:3e5},b=r(()=>{var n,l;return[{label:"Details",hidden:A.xl},{label:"Runs"},{label:"Parameters",hidden:(n=t.value)==null?void 0:n.deprecated},{label:"Infra Overrides",hidden:(l=t.value)==null?void 0:l.deprecated},{label:"Description"}]}),k=I(b),p=R(_.deployments.getDeployment,[m.value],h),t=r(()=>p.response);function w(){f.push(q.deployments())}const D=r(()=>{var n;return(n=t.value)!=null&&n.infrastructureOverrides?JSON.stringify(t.value.infrastructureOverrides,void 0,2):"{}"}),{filter:T}=F({deployments:{id:y}}),U=r(()=>t.value?`Deployment: ${t.value.name}`:"Deployment");return $(U),P(t,()=>{var n,l;!((n=t.value)!=null&&n.workQueueName)&&!((l=t.value)!=null&&l.deprecated)&&v(M.info.deploymentMissingWorkQueue,"default",{timeout:!1})}),(n,l)=>{const g=i("p-content"),O=i("p-tabs"),x=i("p-layout-well");return s(),o(x,{class:"deployment"},{header:a(()=>[e(t)?(s(),o(e(B),{key:0,deployment:e(t),onUpdate:e(p).refresh,onDelete:w},null,8,["deployment","onUpdate"])):d("",!0)]),well:a(()=>[e(t)?(s(),o(e(c),{key:0,deployment:e(t),alternate:"",onUpdate:e(p).refresh},null,8,["deployment","onUpdate"])):d("",!0)]),default:a(()=>[e(t)?(s(),o(O,{key:0,tabs:e(k)},{description:a(()=>[u(g,{secondary:""},{default:a(()=>[e(t).deprecated?(s(),o(e(V),{key:0})):e(t).description?(s(),o(e(W),{key:1,description:e(t).description},null,8,["description"])):(s(),o(e(Z),{key:2,deployment:e(t)},null,8,["deployment"]))]),_:1})]),parameters:a(()=>[u(e(j),{deployment:e(t)},null,8,["deployment"])]),"infra-overrides":a(()=>[e(t)?(s(),o(e(J),{key:0,language:"json",snippet:e(D)},null,8,["snippet"])):d("",!0)]),details:a(()=>[u(e(c),{deployment:e(t),onUpdate:e(p).refresh},null,8,["deployment","onUpdate"])]),runs:a(()=>[u(e(K),{"flow-run-filter":e(T)},null,8,["flow-run-filter"])]),_:1},8,["tabs"])):d("",!0)]),_:1})}}});export{te as default};
