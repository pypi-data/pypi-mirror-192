import{d as D,ak as y,Y as h,c as e,ay as p,an as x,u as t,a as A,w as n,f as C,a3 as c,a4 as S,Z as B,o as N,b as u,az as F,aA as i,aB as L,av as O}from"./index-ac647112-08d053b9.js";import{u as V}from"./usePageTitle-b14d9551.js";import"./index-dfea5a9b.js";import{r as Z}from"./routes-5c579cbb.js";import"./meta-26546594.js";const q=D({__name:"TaskRun",setup(j){const k=S(),l=y("taskRunId"),r=h(),f=e(()=>{const s=["Logs","Task Inputs"];return B.xl||s.push("Details"),s}),m=e(()=>l.value?[l.value]:null),d=p(r.taskRuns.getTaskRun,m,{interval:3e4}),a=e(()=>d.response),o=e(()=>{var s;return(s=a.value)==null?void 0:s.flowRunId}),R=e(()=>o.value?[o.value]:null),_=p(r.flowRuns.getFlowRun,R),v=e(()=>{var s;return(s=a.value)!=null&&s.taskInputs?JSON.stringify(a.value.taskInputs,void 0,2):"{}"});function w(){_.refresh(),k.push(Z.flowRun(o.value))}const g=e(()=>{var s;return(s=a.value)==null?void 0:s.stateType});x(g);const T=e(()=>a.value?`Task Run: ${a.value.name}`:"Task Run");return V(T),(s,z)=>{const I=c("p-tabs"),b=c("p-layout-well");return t(a)?(N(),A(b,{key:0,class:"task-run"},{header:n(()=>[u(t(F),{"task-run-id":t(a).id,onDelete:w},null,8,["task-run-id"])]),well:n(()=>[u(t(i),{alternate:"","task-run":t(a)},null,8,["task-run"])]),default:n(()=>[u(I,{tabs:t(f)},{details:n(()=>[u(t(i),{"task-run":t(a)},null,8,["task-run"])]),logs:n(()=>[u(t(L),{"task-run":t(a)},null,8,["task-run"])]),"task-inputs":n(()=>[u(t(O),{language:"json",snippet:t(v)},null,8,["snippet"])]),_:1},8,["tabs"])]),_:1})):C("",!0)}}});export{q as default};
