(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{210:function(e,t,a){},311:function(e,t,a){},313:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(35),o=a(8),s=a.n(o),i=a(5),c=a(10),l=a.n(c),d=a(14),u=a(20),b=a(17),j=a(130),p=a(68),f=a.n(p),h=function(){var e=sessionStorage.getItem("sessionId");return null==e&&(e=Object(j.v4)(),sessionStorage.setItem("sessionId",e)),e},x=function(e){"undefined"!==typeof e&&e?s.a.defaults.headers.common.Authorization="Token "+e:delete s.a.defaults.headers.common.Authorization},v=function(e,t){s.a.get(e,{responseType:"blob"}).then((function(e){f()(e.data,t)}))},m=null;localStorage.getItem("token")&&(m=localStorage.getItem("token"),x(m));var O={token:m,username:"",user:{pk:0,username:"",first_name:"",last_name:"",email:""}},g=Object(u.b)({name:"auth",initialState:O,reducers:{setToken:function(e,t){e.token=t.payload,x(e.token),e.token?localStorage.setItem("token",e.token):localStorage.removeItem("token")},setUsername:function(e,t){e.username=t.payload?t.payload:"",e.username&&""!==e.username?localStorage.setItem("username",e.username):localStorage.removeItem("username")},setUserInfo:function(e,t){e.user=t.payload}}}),y=g.reducer,k=g.actions,w=k.setToken,N=k.setUsername,S=(k.setUserInfo,function(e){return e.auth.token}),T=function(e){return e.auth.username},P=Object(u.b)({name:"version",initialState:{fetchingIsPro:!0,isPro:!1,welcome:""},reducers:{setVersion:function(e,t){var a=t.payload.isPro;e.isPro=a,e.fetchingIsPro=!1},setWelcome:function(e,t){e.welcome=t.payload}}}),C=P.reducer,E=P.actions,F=E.setVersion,R=(E.setWelcome,function(e){return e.version.isPro}),D=a(22),I=(a(210),a(1));function L(){return Object(I.jsx)("div",{style:{color:"white",padding:"5px",float:"right"},children:Object(I.jsxs)("a",{href:"/login",className:"btn btn-primary btn-sm ",children:[Object(I.jsx)("i",{className:"fa fa-sign-in","aria-hidden":"true"})," Log in"]})})}var A=a(335);function H(e){var t=e.username,a=Object(i.b)(),n=Object(A.a)();return Object(I.jsx)("div",{children:Object(I.jsxs)("div",{className:"dropdown",style:{float:"right"},children:[Object(I.jsx)("a",{className:"btn btn-secondary btn-sm dropdown-toggle",style:{margin:"5px"},href:"#",role:"button",id:"dropdownMenuLink","data-bs-toggle":"dropdown","aria-expanded":"false",children:t}),Object(I.jsxs)("ul",{className:"dropdown-menu dropdown-menu-end","aria-labelledby":"dropdownMenuLink",children:[Object(I.jsx)("li",{children:Object(I.jsxs)("a",{className:"dropdown-item",href:"/account",children:[Object(I.jsx)("i",{className:"fa fa-user","aria-hidden":"true"})," Account"]})}),Object(I.jsx)("li",{children:Object(I.jsx)("hr",{className:"dropdown-divider"})}),Object(I.jsx)("li",{children:Object(I.jsxs)("a",{className:"dropdown-item",onClick:function(){return a(function(e){return function(){var t=Object(d.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=4,s.a.post("/api/v1/auth/logout/");case 4:b.b.success("Log out successfull"),a(w("")),a(N("")),e.push("/"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),b.b.error("Problem during log out");case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(n))},children:[Object(I.jsx)("i",{className:"fa fa-sign-out","aria-hidden":"true"})," Log out"]})})]})]})})}function _(e){var t=e.isPro,a=e.username;return Object(I.jsxs)("header",{className:"navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0",children:[Object(I.jsxs)("a",{className:"navbar-brand col-md-3 col-lg-3 me-0 px-3",href:"/",children:[Object(I.jsx)("i",{className:"fa fa-home","aria-hidden":"true"})," "," ",Object(I.jsx)("img",{alt:"Mercury",src:"/example/to/replace/static/mercury_logo.svg",style:{height:"24px"}})]}),t&&""===a&&Object(I.jsx)(L,{}),t&&""!==a&&Object(I.jsx)(H,{username:a})]})}var W=a(9),M=a(72),U=Object(u.b)({name:"app",initialState:{view:"app",files:[],filesState:"unknown",showSideBar:!0},reducers:{setView:function(e,t){e.view=t.payload},setFilesState:function(e,t){e.filesState=t.payload},setFiles:function(e,t){e.files=t.payload},setShowSideBar:function(e,t){e.showSideBar=t.payload},toggleShowSideBar:function(e){e.showSideBar=!e.showSideBar}}}),B=U.reducer,z=U.actions,J=z.setView,K=z.setFilesState,V=z.setFiles,q=z.setShowSideBar,Y=(z.toggleShowSideBar,function(e){return e.app.view}),G=function(e){return e.app.filesState},X=function(e){return e.app.files},Q=function(e){return e.app.showSideBar};function Z(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}var $=Object(u.b)({name:"notebooks",initialState:{notebooks:[],loadingState:"loading",selectedNotebook:{},loadingStateSelected:"loading",watchModeCounter:0,slidesHash:""},reducers:{setNotebooks:function(e,t){e.notebooks=t.payload},setLoadingState:function(e,t){e.loadingState=t.payload},setSelectedNotebook:function(e,t){t.payload.state.startsWith("WATCH")&&e.selectedNotebook.file_updated_at===t.payload.file_updated_at||(e.selectedNotebook=t.payload),t.payload.state.startsWith("WATCH")&&(e.watchModeCounter+=1)},setLoadingStateSelected:function(e,t){e.loadingStateSelected=t.payload},setSlidesHash:function(e,t){e.slidesHash=t.payload}}}),ee=$.reducer,te=$.actions,ae=(te.setNotebooks,te.setLoadingState,te.setSelectedNotebook),ne=te.setLoadingStateSelected,re=te.setSlidesHash,oe=function(e){return e.notebooks.selectedNotebook},se=function(e){return e.notebooks.loadingStateSelected},ie=function(e){return e.notebooks.watchModeCounter},ce=function(e){return e.notebooks.slidesHash},le=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var a=Object(d.a)(l.a.mark((function a(n){var r,o,i,c,d,u;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t||(n(re("")),n(ke())),r=Z(),o=r.width,n(q(o>992)),t||n(ne("loading")),i="/api/v1/notebooks/".concat(e,"/"),a.next=8,s.a.get(i);case 8:c=a.sent,d=c.data,u=JSON.parse(d.params),n(ae(Object(W.a)(Object(W.a)({},d),{},{params:u}))),t||n(ne("loaded")),a.next=19;break;case 15:a.prev=15,a.t0=a.catch(0),t||n(ne("error")),console.error("Problem during loading selected notebook (".concat(e,"). ").concat(a.t0));case 19:case"end":return a.stop()}}),a,null,[[0,15]])})));return function(e){return a.apply(this,arguments)}}()},de=Object(u.b)({name:"tasks",initialState:{currentTask:{},historicTask:{},previousTask:{},exportingToPDF:!1,exportToPDFJobId:"",exportToPDFCounter:0,executionHistory:[]},reducers:{setCurrentTask:function(e,t){e.currentTask=t.payload},setHistoricTask:function(e,t){e.historicTask=t.payload},setPreviousTask:function(e,t){e.previousTask=t.payload},copyCurrentToPreviousTask:function(e){e.previousTask=e.currentTask},setExportingToPDF:function(e,t){e.exportingToPDF=t.payload},setExportToPDFJobId:function(e,t){e.exportToPDFJobId=t.payload},resetExportToPDFCounter:function(e){e.exportToPDFCounter=0},increaseExportToPDFCounter:function(e){e.exportToPDFCounter+=1},stopPDFExport:function(e){e.exportingToPDF=!1,e.exportToPDFJobId="",e.exportToPDFCounter=0},setExecutionHistory:function(e,t){e.executionHistory=t.payload},clearExecutionHistory:function(e){e.executionHistory=[]}}}),ue=de.reducer,be=de.actions,je=be.setCurrentTask,pe=be.setHistoricTask,fe=be.setPreviousTask,he=be.copyCurrentToPreviousTask,xe=be.setExportingToPDF,ve=be.setExportToPDFJobId,me=be.resetExportToPDFCounter,Oe=be.increaseExportToPDFCounter,ge=be.stopPDFExport,ye=be.setExecutionHistory,ke=be.clearExecutionHistory,we=function(e){return e.tasks.currentTask},Ne=function(e){return e.tasks.historicTask},Se=function(e){return e.tasks.previousTask},Te=function(e){return e.tasks.exportingToPDF},Pe=function(e){return e.tasks.exportToPDFJobId},Ce=function(e){return e.tasks.exportToPDFCounter},Ee=function(e){return e.tasks.executionHistory},Fe=function(e){return function(){var t=Object(d.a)(l.a.mark((function t(a){var n,r,o,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=h(),t.prev=1,r="/api/v1/latest_task/".concat(e,"/").concat(n),t.next=5,s.a.get(r);case 5:o=t.sent,i=o.data,a(je(i)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),a(je({}));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},Re=function(){try{var e,t,a=document.getElementById("main-iframe"),n=null===a||void 0===a||null===(e=a.contentWindow)||void 0===e||null===(t=e.location)||void 0===t?void 0:t.hash;if(n)return n}catch(r){}return""},De=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(){var a=Object(d.a)(l.a.mark((function a(n){var r,o,i,c;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(pe({})),t&&n(ke()),r=h(),a.prev=3,o="/api/v1/execution_history/".concat(e,"/").concat(r),a.next=7,s.a.get(o);case 7:i=a.sent,c=i.data,n(ye(c)),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(3),n(ke());case 15:case"end":return a.stop()}}),a,null,[[3,12]])})));return function(e){return a.apply(this,arguments)}}()},Ie=Object(u.b)({name:"widgets",initialState:{widgets:{}},reducers:{setWidgetValue:function(e,t){var a=t.payload,n=a.key,r=a.value;e.widgets[n]=r},clearWidgets:function(e){e.widgets={}}}}),Le=Ie.reducer,Ae=Ie.actions,He=Ae.setWidgetValue,_e=(Ae.clearWidgets,function(e){return e.widgets.widgets});function We(e){var t=e.widgetKey,a=e.label,n=e.value,r=e.disabled,o=Object(i.b)();return Object(I.jsxs)("div",{className:"form-group form-check form-switch mb-3",children:[Object(I.jsx)("input",{className:"form-check-input",type:"checkbox",id:"checkbox-".concat(a),disabled:r,onChange:function(){o(He({key:t,value:!n}))},checked:null!=n&&n}),Object(I.jsx)("label",{className:"form-check-label",htmlFor:"checkbox-".concat(a),children:a})]})}var Me=a(132),Ue=a.n(Me);function Be(e){var t=e.widgetKey,a=e.label,n=e.value,r=e.min,o=e.max,s=e.step,c=e.disabled,l=Object(i.b)(),d=void 0,u=void 0,b=1;return r&&(d=r),o&&(u=o),s&&(b=s),Object(I.jsxs)("div",{className:"form-group mb-3",children:[Object(I.jsx)("label",{htmlFor:"checkbox-".concat(a),children:a}),Object(I.jsx)(Ue.a,{className:"form-control",disabled:c,value:n,min:d,max:u,step:b,onChange:function(e){l(He({key:t,value:e}))},onBlur:function(e){r&&n&&n<r&&l(He({key:t,value:r})),o&&n&&n>o&&l(He({key:t,value:o}))}})]})}var ze=a(51);function Je(e){var t=e.widgetKey,a=e.label,n=e.value,r=e.min,o=e.max,s=e.step,c=(e.vertical,e.disabled),l=Object(i.b)(),d=0,u=100,b=1;r&&(d=r),o&&(u=o),s&&(b=s);var j=null!=n&&void 0!==n&&2===n.length?n:[d,u];return Object(I.jsxs)("div",{className:"form-group mb-3",children:[Object(I.jsx)("label",{htmlFor:"range-slider-".concat(a),children:a}),Object(I.jsx)("div",{style:{paddingTop:"12px",display:"flex",justifyContent:"center",flexWrap:"wrap"},children:Object(I.jsx)(ze.Range,{disabled:c,values:j,step:b,min:d,max:u,onChange:function(e){l(He({key:t,value:e}))},renderTrack:function(e){var t=e.props,a=e.children;return Object(I.jsx)("div",{onMouseDown:t.onMouseDown,onTouchStart:t.onTouchStart,style:Object(W.a)(Object(W.a)({},t.style),{},{height:"36px",display:"flex",width:"100%"}),children:Object(I.jsxs)("div",{ref:t.ref,style:{height:"5px",width:"100%",borderRadius:"4px",background:Object(ze.getTrackBackground)({values:j,colors:["#ccc",c?"rgba(0, 0, 0, 0.3)":"#2684ff","#ccc"],min:d,max:u}),alignSelf:"center"},children:[a,Object(I.jsxs)("div",{style:{display:"inline-block",width:"100%",fontSize:"12px",paddingTop:"13px"},children:[Object(I.jsx)("div",{style:{float:"left"},children:d}),Object(I.jsx)("div",{style:{float:"right"},children:u})]})]})})},renderThumb:function(e){var t=e.index,a=e.props,n=e.isDragged;return Object(I.jsxs)("div",Object(W.a)(Object(W.a)({},a),{},{style:Object(W.a)(Object(W.a)({},a.style),{},{height:"18px",width:"18px",border:"None !important",borderRadius:"4px",backgroundColor:"#FFF",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0px 2px 6px #AAA",outline:"none"}),children:[Object(I.jsx)("div",{style:{position:"absolute",top:"-24px",color:"#fff",fontWeight:"bold",fontSize:"12px",fontFamily:"Arial,Helvetica Neue,Helvetica,sans-serif",padding:"2px",borderRadius:"3px",backgroundColor:c?"rgba(0, 0, 0, 0.3)":"#2684ff"},children:j[t]}),Object(I.jsx)("div",{style:{height:"12px",width:"3px",backgroundColor:n?"#2684ff":"#CCC"}})]}))}})})]})}var Ke=a(82);function Ve(e){var t=e.widgetKey,a=e.label,n=e.value,r=e.choices,o=e.multi,s=e.disabled,c=Object(i.b)(),l={menu:function(e){return Object(W.a)(Object(W.a)({},e),{},{zIndex:100})}},d={value:"",label:""},u=[{value:"",label:""}],b=r.map((function(e){return n&&e===n&&!o&&(d={value:e,label:e}),{value:e,label:e}}));return o&&(u=[],r.map((function(e){return n&&n.includes(e)&&o&&u.push({value:e,label:e}),{value:e,label:e}}))),Object(I.jsxs)("div",{className:"form-group mb-3",children:[Object(I.jsx)("label",{htmlFor:"select-".concat(a),children:a}),Object(I.jsx)(Ke.a,{id:"select-".concat(a),isDisabled:s,name:a||"Select",styles:l,value:o?u:d,options:b,isMulti:o,onChange:function(e){if(e)if(function(e){return void 0!==e.value}(e))c(He({key:t,value:e.value}));else{var a=Array.from(e.values()).filter((function(e){return void 0!==e}));c(He({key:t,value:a.map((function(e){return e.value}))}))}}})]})}function qe(e){var t=e.widgetKey,a=e.label,n=e.value,r=e.min,o=e.max,s=e.step,c=(e.vertical,e.disabled),l=Object(i.b)(),d=0,u=100,b=1;r&&(d=r),o&&(u=o),s&&(b=s);var j=[null!==n?n:u];return Object(I.jsxs)("div",{className:"form-group mb-3",children:[Object(I.jsx)("label",{htmlFor:"slider-".concat(a),children:a}),Object(I.jsx)("div",{style:{paddingTop:"12px",display:"flex",justifyContent:"center",flexWrap:"wrap"},children:Object(I.jsx)(ze.Range,{disabled:c,values:j,step:b,min:d,max:u,onChange:function(e){l(He({key:t,value:e[0]}))},renderTrack:function(e){var t=e.props,a=e.children;return Object(I.jsx)("div",{onMouseDown:t.onMouseDown,onTouchStart:t.onTouchStart,style:Object(W.a)(Object(W.a)({},t.style),{},{height:"36px",display:"flex",width:"100%"}),children:Object(I.jsxs)("div",{ref:t.ref,style:{height:"5px",width:"100%",borderRadius:"4px",background:Object(ze.getTrackBackground)({values:j,colors:[c?"rgba(0, 0, 0, 0.3)":"#2684ff","#ccc"],min:d,max:u}),alignSelf:"center"},children:[a,Object(I.jsxs)("div",{style:{display:"inline-block",width:"100%",fontSize:"12px",paddingTop:"13px"},children:[Object(I.jsx)("div",{style:{float:"left"},children:d}),Object(I.jsx)("div",{style:{float:"right"},children:u})]})]})})},renderThumb:function(e){var t=e.props,a=e.isDragged;return Object(I.jsxs)("div",Object(W.a)(Object(W.a)({},t),{},{style:Object(W.a)(Object(W.a)({},t.style),{},{height:"18px",width:"18px",border:"None",borderRadius:"4px",backgroundColor:"#FFF",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0px 2px 6px #AAA",outline:"none"}),children:[Object(I.jsx)("div",{style:{position:"absolute",top:"-24px",color:"#fff",fontWeight:"bold",fontSize:"12px",fontFamily:"Arial,Helvetica Neue,Helvetica,sans-serif",padding:"2px",borderRadius:"3px",backgroundColor:c?"rgba(0, 0, 0, 0.3)":"#2684ff"},children:j[0]}),Object(I.jsx)("div",{style:{height:"12px",width:"3px",backgroundColor:a?"#2684ff":"#CCC"}})]}))}})})]})}function Ye(e){return"checkbox"===e.input}function Ge(e){return"numeric"===e.input}function Xe(e){return"slider"===e.input}function Qe(e){return"range"===e.input}function Ze(e){return"file"===e.input}function $e(e){return"text"===e.input}function et(e){return"markdown"===e.output}var tt=a(94),at=a(133),nt=a.n(at),rt=a(134),ot=a.n(rt),st=a(135),it=a.n(st);function ct(e){var t=e.widgetKey,a=e.label,n=e.maxFileSize,r=e.disabled,o=Object(i.b)(),c="100MB";return n&&(c=n),Object(I.jsxs)("div",{className:"form-group mb-3",children:[Object(I.jsx)("label",{htmlFor:"file-".concat(a),children:a}),Object(I.jsx)("div",{children:Object(I.jsx)(tt.FilePond,{disabled:r,maxFileSize:c,onprocessfile:function(e,a){o(He({key:t,value:a.serverId}))},server:{url:"".concat(s.a.defaults.baseURL,"/api/v1/fp"),process:"/process/",revert:function(){var e=Object(d.a)(l.a.mark((function e(a,n,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.delete("".concat(s.a.defaults.baseURL,"/api/v1/fp/revert"),{data:a});case 3:o(He({key:t,value:[]})),n(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),r("Problem with uploaded file removal");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a,n){return e.apply(this,arguments)}}()},labelIdle:'Drag & Drop your file or <span class="filepond--label-action">Browse</span>'})})]})}function lt(e){var t=e.widgetKey,a=e.label,n=e.value,r=e.rows,o=e.disabled,s=Object(i.b)(),c=r||1,l=function(e){return e.replace(/["'(){}[\]`^]/gim,"")};return Object(I.jsxs)("div",{className:"form-group mb-3",children:[Object(I.jsx)("label",{htmlFor:"textarea-".concat(a),children:a}),1===c&&Object(I.jsx)("input",{className:"form-control",type:"text",id:"text-".concat(a),value:n||"",onChange:function(e){s(He({key:t,value:l(e.target.value)}))},disabled:o}),c>1&&Object(I.jsx)("textarea",{className:"form-control",id:"text-area-".concat(a),rows:c,value:n||"",onChange:function(e){s(He({key:t,value:l(e.target.value)}))},disabled:o})]})}Object(tt.registerPlugin)(nt.a,ot.a,it.a);var dt=a(333),ut=a(334),bt=a(177),jt=a(179),pt=a(178);function ft(e){var t=e.value;return Object(I.jsx)("div",{className:"form-group mb-3",children:Object(I.jsx)(dt.a,{rehypePlugins:[bt.a,ut.a,jt.a,pt.a],children:t})})}function ht(e){var t=e.disabled,a=Object(i.b)(),r=Object(i.c)(Ee),o=Object(i.c)(Ne),s=Object(i.c)(we);if(Object(n.useEffect)((function(){if(r.length>0){var e=r[r.length-1];if(!o.id&&s.id===e.id)for(var t=0,n=Object.entries(JSON.parse(s.params));t<n.length;t++){var i=Object(D.a)(n[t],2),c=i[0],l=i[1];null!==l&&a(He({key:c,value:l}))}}}),[a,r,o,s]),0===r.length)return Object(I.jsx)("div",{});var c={menu:function(e){return Object(W.a)(Object(W.a)({},e),{},{zIndex:100})}},l={value:"",label:""},d=1,u=r.map((function(e){var t="Run ".concat(d);return d+=1,o.id?o.id&&o.id===e.id&&(l={value:"".concat(d-2),label:t}):l={value:"".concat(d-2),label:t},{value:"".concat(d-2),label:t}}));return Object(I.jsx)("div",{children:Object(I.jsxs)("div",{className:"form-group mb-3",children:[Object(I.jsx)("label",{htmlFor:"select-execution-history",children:"Execution history"}),Object(I.jsx)(Ke.a,{id:"select-execution-history",isDisabled:t,name:"Select",styles:c,value:l,options:u,isMulti:!1,onChange:function(e){if(e){var t=r[parseInt(e.value)];a(pe(t));for(var n=0,o=Object.entries(JSON.parse(t.params));n<o.length;n++){var s=Object(D.a)(o[n],2),i=s[0],c=s[1];null!==c&&a(He({key:i,value:c}))}}}})]})})}function xt(e){var t=e.notebookTitle,a=e.notebookId,r=e.notebookSchedule,o=e.taskCreatedAt,c=(e.loadingState,e.waiting),u=e.widgetsParams,j=e.watchMode,p=e.notebookPath,f=e.displayEmbed,x=e.showFiles,m=e.isPresentation,O=e.notebookParseErrors,g=Object(i.b)(),y=Object(i.c)(_e);Object(n.useEffect)((function(){if(u)for(var e=0,t=Object.entries(u);e<t.length;e++){var a=Object(D.a)(t[e],2),n=a[0],r=a[1];"file"===r.input?g(He({key:n,value:[]})):"text"===r.input?g(He({key:n,value:r.value?r.value:""})):et(r)||g(He({key:n,value:r.value}))}}),[g,u]);var k=[],w=[];if(u)for(var N=0,S=Object.entries(u);N<S.length;N++){var T=Object(D.a)(S[N],2),P=T[0],C=T[1];"select"===C.input?k.push(Object(I.jsx)(Ve,{widgetKey:P,disabled:c,label:null===C||void 0===C?void 0:C.label,value:y[P],choices:null===C||void 0===C?void 0:C.choices,multi:null===C||void 0===C?void 0:C.multi},P)):Ye(C)?k.push(Object(I.jsx)(We,{widgetKey:P,disabled:c,label:null===C||void 0===C?void 0:C.label,value:y[P]},P)):Ge(C)?k.push(Object(I.jsx)(Be,{widgetKey:P,disabled:c,label:null===C||void 0===C?void 0:C.label,value:y[P],min:null===C||void 0===C?void 0:C.min,max:null===C||void 0===C?void 0:C.max,step:null===C||void 0===C?void 0:C.step},P)):Xe(C)?k.push(Object(I.jsx)(qe,{widgetKey:P,disabled:c,label:null===C||void 0===C?void 0:C.label,value:y[P],min:null===C||void 0===C?void 0:C.min,max:null===C||void 0===C?void 0:C.max,step:null===C||void 0===C?void 0:C.step,vertical:null===C||void 0===C?void 0:C.vertical},P)):Qe(C)?k.push(Object(I.jsx)(Je,{widgetKey:P,disabled:c,label:null===C||void 0===C?void 0:C.label,value:y[P],min:null===C||void 0===C?void 0:C.min,max:null===C||void 0===C?void 0:C.max,step:null===C||void 0===C?void 0:C.step,vertical:null===C||void 0===C?void 0:C.vertical},P)):Ze(C)?(k.push(Object(I.jsx)(ct,{widgetKey:P,disabled:c,label:null===C||void 0===C?void 0:C.label,maxFileSize:null===C||void 0===C?void 0:C.maxFileSize},P)),w.push(P)):$e(C)?k.push(Object(I.jsx)(lt,{widgetKey:P,disabled:c,label:null===C||void 0===C?void 0:C.label,value:y[P],rows:null===C||void 0===C?void 0:C.rows},P)):et(C)&&k.push(Object(I.jsx)(ft,{value:C.value},P))}var E=function(){if(0===w.length)return!0;var e,t=Object(M.a)(w);try{for(t.s();!(e=t.n()).done;){var a=e.value;if(!Object.prototype.hasOwnProperty.call(y,a))return!1;if(0===y[a].length)return!1}}catch(n){t.e(n)}finally{t.f()}return!0},F={};return f&&(F={padding:"0px"}),Object(I.jsx)("nav",{id:"sidebarMenu",className:"col-lg-3 d-md-block bg-light sidebar",style:Object(W.a)(Object(W.a)({},F),{},{overflowY:"auto"}),children:Object(I.jsxs)("div",{className:"position-sticky p-3",children:[Object(I.jsxs)("h4",{children:[t,Object(I.jsx)("button",{className:"btn btn-sm  btn-outline-primary",type:"button",style:{float:"right",zIndex:"101"},onClick:function(){return g(q(!1))},"data-toggle":"tooltip","data-placement":"right",title:"Hide sidebar",children:Object(I.jsx)("i",{className:"fa fa-chevron-left","aria-hidden":"true"})})]}),Object(I.jsx)("div",{style:{padding:"0px"},children:Object(I.jsxs)("form",{children:[k,Object(I.jsxs)("div",{className:"form-group mb-3",children:[Object(I.jsxs)("button",{type:"button",className:"btn btn-success",style:{marginRight:"10px",width:"47%"},onClick:function(){g(he()),g(function(e){return function(){var t=Object(d.a)(l.a.mark((function t(a,n){var r,o,i,c,d,u,b;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n().widgets.widgets,o=h(),i=Re(),a(re(i)),t.prev=4,c={session_id:o,params:JSON.stringify(r)},d="/api/v1/execute/".concat(e),t.next=9,s.a.post(d,c);case 9:u=t.sent,b=u.data,a(je(b)),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(4),console.error("Problem during notebook execution. ".concat(t.t0));case 17:case"end":return t.stop()}}),t,null,[[4,14]])})));return function(e,a){return t.apply(this,arguments)}}()}(a))},disabled:c||!E(),children:[Object(I.jsx)("i",{className:"fa fa-play","aria-hidden":"true"})," Run"]}),Object(I.jsxs)("div",{className:"dropdown",style:{width:"47%",float:"right"},children:[Object(I.jsx)("button",{className:"btn btn-primary dropdown-toggle",style:{margin:"0px",width:"100%"},type:"button","data-bs-toggle":"dropdown",disabled:c,children:"Download"}),Object(I.jsxs)("ul",{className:"dropdown-menu dropdown-menu-end",children:[Object(I.jsx)("li",{children:Object(I.jsxs)("a",{style:{cursor:"pointer"},className:"dropdown-item",onClick:function(){v("".concat(s.a.defaults.baseURL).concat(p),"".concat(t,".html"))},children:[Object(I.jsx)("i",{className:"fa fa-file-code-o","aria-hidden":"true"})," ","Download as HTML"]})}),Object(I.jsx)("li",{children:Object(I.jsx)("hr",{className:"dropdown-divider"})}),Object(I.jsx)("li",{children:Object(I.jsxs)("button",{type:"button",className:"dropdown-item",onClick:function(){g(function(e,t){return function(){var a=Object(d.a)(l.a.mark((function a(n){var r,o,i,c;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n(xe(!0)),n(me()),n(ve("")),r=h(),o={session_id:r,notebook_id:e,notebook_path:t},a.next=9,s.a.post("/api/v1/export_pdf/",o);case 9:i=a.sent,c=i.data,n(ve(c.job_id)),a.next=18;break;case 14:a.prev=14,a.t0=a.catch(0),b.b.error("The error occured during PDF export. ".concat(a.t0)),n(ge());case 18:case"end":return a.stop()}}),a,null,[[0,14]])})));return function(e){return a.apply(this,arguments)}}()}(a,p))},children:[Object(I.jsx)("i",{className:"fa fa-file-pdf-o","aria-hidden":"true"})," ","Download as PDF"]})})]})]})]}),w&&!E()&&Object(I.jsxs)("div",{className:"alert alert-danger mb-3",role:"alert",children:[Object(I.jsx)("i",{className:"fa fa-file","aria-hidden":"true"})," Please upload all required files."]}),"Please provide title"===t&&Object(I.jsxs)("div",{className:"alert alert-warning mb-3",role:"alert",children:[Object(I.jsx)("i",{className:"fa fa-exclamation-triangle","aria-hidden":"true"})," ",Object(I.jsx)("b",{children:"Please add YAML config to your notebook as a first raw cell."}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),"Example:",Object(I.jsxs)("pre",{children:["---",Object(I.jsx)("br",{}),"title: Report title",Object(I.jsx)("br",{}),"author: Your name",Object(I.jsx)("br",{}),"description: My amazing report",Object(I.jsx)("br",{}),"---"]}),Object(I.jsxs)("button",{type:"button",className:"btn btn-primary",onClick:function(){return window.open("https://github.com/mljar/mercury#convert-notebook-to-web-app-with-yaml","_blank")},children:[Object(I.jsx)("i",{className:"fa fa-book","aria-hidden":"true"})," Read more"]})]}),""!==r&&Object(I.jsxs)("div",{className:"alert alert-success mb-3",role:"alert",children:[Object(I.jsxs)("p",{children:[Object(I.jsx)("i",{className:"fa fa-clock-o","aria-hidden":"true"})," Scheduled notebook at '",r,"'."]}),o&&Object(I.jsxs)("p",{children:[" ",Object(I.jsx)("i",{className:"fa fa-calendar","aria-hidden":"true"})," Last execution at ",o,"."]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("i",{className:"fa fa-refresh","aria-hidden":"true"})," Website refresh every minute."]})]}),c&&Object(I.jsxs)("div",{className:"alert alert-primary mb-3",role:"alert",children:[Object(I.jsx)("i",{className:"fa fa-cogs","aria-hidden":"true"})," Notebook is executed. Please wait."]}),j&&Object(I.jsxs)("div",{className:"alert alert-secondary mb-3",role:"alert",children:[Object(I.jsx)("i",{className:"fa fa-refresh","aria-hidden":"true"})," Notebook in watch mode. All changes to Notebook will be automatically visible in Mercury."]}),m&&Object(I.jsxs)("div",{className:"alert alert-primary mb-3",role:"alert",children:[Object(I.jsx)("i",{className:"fa fa-television","aria-hidden":"true"})," Click on presentation and press ",Object(I.jsx)("b",{children:"F"})," for full screen. Press"," ",Object(I.jsx)("b",{children:"Esc"})," to quit.",Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)("i",{className:"fa fa-arrows","aria-hidden":"true"})," Click on presentation and press ",Object(I.jsx)("b",{children:"Esc"})," to navigate slides."]}),O&&Object(I.jsxs)("div",{className:"alert alert-danger mb-3",role:"alert",children:[Object(I.jsx)("i",{className:"fa fa-exclamation-circle","aria-hidden":"true"})," ",Object(I.jsx)("b",{children:"Errors in the YAML"}),Object(I.jsx)("br",{}),O]})]})}),Object(I.jsx)("hr",{style:{marginTop:"50px",marginBottom:"20px"}}),Object(I.jsxs)("div",{children:[!j&&Object(I.jsx)(ht,{disabled:c}),Object(I.jsxs)("button",{className:"btn btn-sm btn-outline-danger",onClick:function(){g(function(e){return function(){var t=Object(d.a)(l.a.mark((function t(a){var n,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=h(),r="/api/v1/clear_tasks/".concat(e,"/").concat(n),t.next=5,s.a.post(r);case 5:a(je({})),a(pe({})),a(fe({})),a(ye([])),b.b.success("All previous tasks deleted. The default view of the app is displayed."),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),b.b.error("Trying to clear previous tasks. The error occured. ".concat(t.t0));case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}(a)),g(le(a))},style:{border:"none"},disabled:c,title:"Click to clear all previous runs of the notebook",children:[Object(I.jsx)("i",{className:"fa fa-times-circle","aria-hidden":"true"})," Clear runs"]})]}),x&&Object(I.jsxs)("div",{children:[Object(I.jsx)("hr",{}),Object(I.jsxs)("button",{className:"btn btn-sm btn-outline-secondary",style:{border:"none"},onClick:function(){g(J("app"))},children:[Object(I.jsx)("i",{className:"fa fa-laptop","aria-hidden":"true"})," App"]}),Object(I.jsxs)("button",{className:"btn btn-sm btn-outline-secondary",style:{border:"none"},onClick:function(){g(J("files"))},children:[Object(I.jsx)("i",{className:"fa fa-folder-open-o","aria-hidden":"true"})," Output Files"]})]})]})})}var vt=a(49);function mt(e){var t=e.loadingState,a=e.notebookPath,r=e.waiting,o=e.errorMsg,i=e.watchMode,c=e.displayEmbed,l=e.isPro,d=e.username,u=e.slidesHash,b=e.columnsWidth,j=function(){var e=Object(n.useState)(Z()),t=Object(D.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){function e(){r(Z())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),a}().height,p=c?j-10:j-58;return Object(I.jsx)("main",{className:"ms-sm-auto col-lg-".concat(b),style:{paddingTop:"0px",paddingRight:"0px",paddingLeft:"0px"},children:Object(I.jsx)(vt.a,{tag:"div",blocking:r,children:Object(I.jsxs)("div",{children:["loading"===t&&!i&&Object(I.jsx)("p",{children:"Loading notebook. Please wait ..."}),"error"===t&&!l&&Object(I.jsx)("p",{style:{margin:"20px"},children:"Problem while loading notebook. Please try again later or contact Mercury administrator."}),"error"===t&&l&&""===d&&Object(I.jsxs)("p",{style:{margin:"20px"},children:[Object(I.jsx)("h5",{children:"Please log in to see the notebook"}),Object(I.jsxs)("a",{href:"/login",className:"btn btn-primary btn-sm ",children:[Object(I.jsx)("i",{className:"fa fa-sign-in","aria-hidden":"true"})," Log in"]})]}),"error"===t&&l&&""!==d&&Object(I.jsx)("p",{style:{margin:"20px"},children:"Problem while loading notebook. Please try again later or contact Mercury administrator."}),o&&Object(I.jsxs)("div",{className:"alert alert-danger mb-3",role:"alert",children:[Object(I.jsx)("b",{children:"Notebook is executed with errors."}),Object(I.jsx)("p",{children:o})]}),""===o&&"loading"!==t&&Object(I.jsx)("iframe",{width:"100%",height:p,src:"".concat(s.a.defaults.baseURL).concat(a).concat(u),title:"display",id:"main-iframe"},a)]})})})}var Ot=function(e){var t=e.notebookId,a=Object(i.b)(),r=Object(i.c)(oe),o=Object(i.c)(ie);return Object(n.useEffect)((function(){"WATCH_READY"!==r.state&&"WATCH_WAIT"!==r.state&&"WATCH_ERROR"!==r.state||setTimeout((function(){a(le(t,!0)),a(Fe(t))}),2e3)}),[a,r,t,o]),Object(I.jsx)("div",{})};function gt(e){var t,a=e.files,n=e.filesState,r=e.waiting,o=Object(i.b)(),c=[],l=Object(M.a)(a);try{var d=function(){var e=t.value,a=e.split("/").pop();e&&a&&c.push(Object(I.jsxs)("div",{children:[Object(I.jsx)("i",{className:"fa fa-file-text-o","aria-hidden":"true",style:{paddingRight:"5px"}})," ",Object(I.jsx)("b",{children:a}),Object(I.jsxs)("button",{style:{float:"right"},type:"button",className:"btn btn-primary",onClick:function(){return t="".concat(s.a.defaults.baseURL).concat(e),n=a,void s.a.get(t,{responseType:"blob"}).then((function(e){f()(e.data,n)}));var t,n},children:[Object(I.jsx)("i",{className:"fa fa-download","aria-hidden":"true"})," Download"]}),Object(I.jsx)("hr",{})]},e))};for(l.s();!(t=l.n()).done;)d()}catch(u){l.e(u)}finally{l.f()}return Object(I.jsxs)("main",{className:"col-md-9 ms-sm-auto col-lg-9",style:{padding:"20px"},children:[Object(I.jsxs)("div",{className:"col-8",children:[Object(I.jsxs)("h3",{style:{paddingBottom:"10px"},children:[Object(I.jsx)("i",{className:"fa fa-folder-open-o","aria-hidden":"true"})," Output Files"]}),Object(I.jsx)(vt.a,{tag:"div",blocking:r,children:Object(I.jsxs)("div",{children:["loaded"===n&&c,"unknown"===n&&Object(I.jsx)("p",{children:"Please run the notebook to produce output files ..."}),"loading"===n&&Object(I.jsx)("p",{children:"Loading files please wait ..."}),"error"===n&&Object(I.jsx)("div",{className:"alert alert-danger mb-3",role:"alert",children:"There was an error during loading files. Please try to run the app again or contact the administrator."})]})})]}),Object(I.jsxs)("button",{className:"btn btn-secondary btn-sm",onClick:function(){o(J("app"))},children:[Object(I.jsx)("i",{className:"fa fa-arrow-left","aria-hidden":"true"})," Back to App"]})]})}function yt(){return Object(I.jsx)("a",{href:"https://mljar.com/mercury",target:"_blank",rel:"noreferrer",children:Object(I.jsx)("div",{className:"poweredby",children:Object(I.jsx)("div",{children:Object(I.jsx)("img",{alt:"Mercury",src:"/example/to/replace/static/mercury_logo.svg",style:{height:"20px"}})})})})}function kt(e){for(var t=e.slug,a=e.widgetsParams,r=e.notebookPath,o=e.columnsWidth,c=e.taskSessionId,u=Object(n.useState)(JSON.stringify({msg:"Example output"})),b=Object(D.a)(u,2),j=b[0],p=b[1],f=Object(i.c)(_e),h={},x=0,v=Object.entries(a);x<v.length;x++){var m=Object(D.a)(v[x],2),O=m[0];m[1].input&&(h[O]=f[O])}function g(){return(g=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.get("get/".concat(c));case 3:t=e.sent,a=t.data,p(JSON.stringify(a)),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}Object(n.useEffect)((function(){c&&function(){g.apply(this,arguments)}()}),[c,r]);var y="id-with-some-random-string";c&&(y=c);var k='curl -X POST -H "Content-Type: application/json" -d \''.concat(JSON.stringify(h),"' ").concat(s.a.defaults.baseURL,"/run/").concat(t);return Object(I.jsxs)("div",{className:"ms-sm-auto col-lg-".concat(o),style:{border:"none",paddingTop:"0px",paddingRight:"0px",paddingLeft:"0px",padding:"10px"},children:[Object(I.jsx)("h4",{children:"Notebook as REST API"}),Object(I.jsx)("p",{children:"This notebook can be executed as REST API. Please see the examples below on how to access the notebook."}),Object(I.jsxs)("div",{className:"alert alert-secondary",role:"alert",children:[Object(I.jsx)("h5",{children:"POST request to execute the notebook"}),Object(I.jsx)("textarea",{disabled:!0,style:{width:"100%"},rows:3,value:k}),"The above request should return a JSON with `id`. The `id` should be used in the GET request to fetch the result.",Object(I.jsx)("br",{}),"Example response:",Object(I.jsx)("pre",{children:'{"id": "'.concat(y,'"}')})]}),Object(I.jsxs)("div",{className:"alert alert-secondary",role:"alert",children:[Object(I.jsx)("h5",{children:"GET request to get execution result in JSON"}),Object(I.jsx)("textarea",{disabled:!0,style:{width:"100%"},rows:1,value:"curl ".concat(s.a.defaults.baseURL,"/get/").concat(y)})]}),Object(I.jsxs)("div",{className:"alert alert-primary",role:"alert",children:[Object(I.jsx)("h5",{children:"Response"}),Object(I.jsx)("pre",{children:j})]})]})}function wt(e){var t=e.notebookId,a=Object(i.b)(),r=Object(i.c)(oe);return Object(n.useEffect)((function(){setTimeout((function(){a(le(t,!0)),a(Fe(t))}),6e4)}),[a,t,r]),Object(I.jsx)("div",{})}function Nt(){var e=Object(i.b)(),t=Object(i.c)(Ce),a=Object(i.c)(Pe),r=Object(i.c)(Te);return Object(n.useEffect)((function(){""!==a&&r&&(t<120?setTimeout((function(){e(function(e){return function(){var t=Object(d.a)(l.a.mark((function t(a){var n,r,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n="/api/v1/get_pdf/".concat(e),t.next=4,s.a.get(n);case 4:r=t.sent,(o=r.data).ready?(a(ge()),""!==o.error?b.b.error(o.error):v("".concat(s.a.defaults.baseURL).concat(o.url),"".concat(o.title))):a(Oe()),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),b.b.error("The error occured during PDF export. ".concat(t.t0)),a(ge());case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(a))}),1e3):(e(ge()),b.b.error("Problem with PDF export. Please try again later or ask your admin for help.",{autoClose:6e3})))}),[e,t,a,r]),Object(I.jsx)("div",{})}var St=function(e){e.isSingleApp;var t,a,r,o=e.notebookId,c=e.displayEmbed,u=Object(i.b)(),b=Object(i.c)(oe),j=Object(i.c)(se),p=Object(i.c)(we),f=Object(i.c)(Ne),x=Object(i.c)(Se),v=Object(i.c)(Y),m=Object(i.c)(X),O=Object(i.c)(G),g=Object(i.c)(R),y=Object(i.c)(T),k=Object(i.c)(S),w=Object(i.c)(ce),N=Object(i.c)(Q),P=Object(i.c)(Te),C=function(){return!(!p.state||"CREATED"!==p.state)||!(!p.state||"RECEIVED"!==p.state)},E=function(){return"WATCH_READY"===b.state||"WATCH_WAIT"===b.state||"WATCH_ERROR"===b.state};Object(n.useEffect)((function(){u(le(o)),u(Fe(o)),u(De(o)),u(fe({}))}),[u,o,k]),Object(n.useEffect)((function(){C()&&setTimeout((function(){u(Fe(o)),u(De(o,!1))}),1e3)}),[u,p,o]),Object(n.useEffect)((function(){var e;"files"===v&&p.id&&p.state&&"DONE"===p.state&&p.result&&u((e=p.id,function(){var t=Object(d.a)(l.a.mark((function t(a){var n,r,o,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(K("loading")),a(V([])),n=h(),r="/api/v1/output_files/".concat(n,"/").concat(e),t.next=7,s.a.get(r);case 7:o=t.sent,i=o.data,a(V(i)),a(K("loaded")),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),a(K("error")),console.error("Problem during loading output files. ".concat(t.t0));case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()))}),[u,v,p.id,p.state,p.result]);var F=b.default_view_path;p.state&&"DONE"===p.state&&p.result&&(F=p.result);var L="";p.state&&p.result&&"ERROR"===p.state&&(L=p.result),f.state&&"DONE"===f.state&&f.result&&(F=f.result),f.state&&f.result&&"ERROR"===f.state&&(L=f.result),F===b.default_view_path&&x.state&&"DONE"===x.state&&x.result&&(F=x.result);var A=!1;return b.output&&b.output.toLowerCase().startsWith("rest")&&(A=!0),Object(I.jsxs)("div",{className:"App",children:[!c&&Object(I.jsx)(_,{isPro:g,username:y}),Object(I.jsxs)(vt.a,{blocking:P,message:"Exporting to PDF. Please wait ...",children:[P&&Object(I.jsx)(Nt,{}),Object(I.jsx)("div",{className:"container-fluid",children:Object(I.jsxs)("div",{className:"row",children:[Object(I.jsx)(Ot,{notebookId:o}),void 0!==b.schedule&&""!==b.schedule&&Object(I.jsx)(wt,{notebookId:o}),N&&Object(I.jsx)(xt,{notebookTitle:b.title,notebookId:o,notebookSchedule:b.schedule,taskCreatedAt:p.created_at,loadingState:j,waiting:C(),widgetsParams:null===b||void 0===b||null===(t=b.params)||void 0===t?void 0:t.params,watchMode:E(),notebookPath:F,displayEmbed:c,showFiles:function(e){if(e)for(var t=0,a=Object.entries(e);t<a.length;t++){var n=Object(D.a)(a[t],2)[1];if("dir"===n.output)return!0}return!1}(null===b||void 0===b||null===(a=b.params)||void 0===a?void 0:a.params),isPresentation:void 0!==b.output&&"slides"===b.output,notebookParseErrors:b.errors}),!N&&Object(I.jsx)("div",{children:Object(I.jsx)("button",{className:"btn btn-sm  btn-outline-primary",type:"button",style:{position:"absolute",top:c?"5px":"50px",left:"5px",zIndex:"100"},onClick:function(){return u(q(!0))},"data-toggle":"tooltip","data-placement":"right",title:"Show sidebar",children:Object(I.jsx)("i",{className:"fa fa-chevron-right","aria-hidden":"true"})})}),A&&Object(I.jsx)(kt,{slug:b.slug,widgetsParams:null===b||void 0===b||null===(r=b.params)||void 0===r?void 0:r.params,notebookPath:F,columnsWidth:N?9:12,taskSessionId:p.session_id}),"app"===v&&Object(I.jsx)(mt,{loadingState:j,notebookPath:F,errorMsg:L,waiting:C(),watchMode:E(),displayEmbed:c,isPro:g,username:y,slidesHash:w,columnsWidth:N?9:12}),"files"===v&&Object(I.jsx)(gt,{files:m,filesState:O,waiting:C()})]})})]}),c&&Object(I.jsx)(yt,{})]})};function Tt(){var e=Object(i.b)();return Object(n.useEffect)((function(){h(),e(function(){var e=Object(d.a)(l.a.mark((function e(t){var a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=4,s.a.get("/api/v1/version/");case 4:a=e.sent,n=a.data,t(F(n)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("Problem during loading Mercury version. ".concat(e.t0)),s.a.isAxiosError(e.t0)&&401===(null===(r=e.t0.response)||void 0===r?void 0:r.status)&&(t(w(null)),t(N(null)),window.location.reload());case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()),localStorage.getItem("token")&&e(w(localStorage.getItem("token"))),localStorage.getItem("username")&&e(N(localStorage.getItem("username")))}),[]),Object(I.jsx)(St,{isSingleApp:!0,notebookId:1,displayEmbed:!0})}var Pt=function(e){var t=e.store;e.history;return Object(I.jsx)(i.a,{store:t,children:Object(I.jsx)(Tt,{})})},Ct=a(13),Et=a(176),Ft=a(27);var Rt,Dt=Object(Et.a)(),It=Object(Ft.b)({notebooks:ee,tasks:ue,widgets:Le,version:C,app:B,auth:y}),Lt=Object(Ct.a)(Object(u.c)()),At=(a(303),a(304),a(306),a(307),a(308),a(309),a(310),a(311),Object(u.a)({reducer:It,middleware:Lt,preloadedState:Rt}));"http://localhost:3000"===window.location.origin?s.a.defaults.baseURL="http://127.0.0.1:8000":s.a.defaults.baseURL=window.location.origin,window.location.origin.startsWith("https://hf.space")&&(s.a.defaults.baseURL=window.location.href),s.a.defaults.baseURL=s.a.defaults.baseURL.split("+")[0],s.a.defaults.baseURL=s.a.defaults.baseURL.split("?")[0],s.a.defaults.baseURL=s.a.defaults.baseURL.split("#")[0],document.addEventListener("DOMContentLoaded",(function(){return Object(r.render)(Object(I.jsxs)("div",{children:[Object(I.jsx)(Pt,{store:At,history:Dt}),Object(I.jsx)(b.a,{position:"top-right",autoClose:3e3,hideProgressBar:!0,newestOnTop:!0,closeOnClick:!0,pauseOnHover:!0})]}),document.getElementById("root"))}))}},[[313,1,2]]]);
//# sourceMappingURL=main.da4563c7.chunk.js.map