(self.webpackChunk_JUPYTERLAB_CORE_OUTPUT=self.webpackChunk_JUPYTERLAB_CORE_OUTPUT||[]).push([[7825],{85685:(e,t,o)=>{var n={"./beige.css":[74701,4701],"./black.css":[64574,4574],"./blood.css":[36585,6585],"./fonts/league-gothic/league-gothic.css":[28961,8961],"./fonts/source-sans-pro/source-sans-pro.css":[50137,137],"./league.css":[64697,4697],"./moon.css":[88594,8594],"./night.css":[78679,8679],"./serif.css":[32501,2501],"./simple.css":[65388,5388],"./sky.css":[19887,9887],"./solarized.css":[18323,8323],"./white.css":[95504,5504]};function i(e){if(!o.o(n,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],i=t[0];return o.e(t[1]).then((()=>o.t(i,23)))}i.keys=()=>Object.keys(n),i.id=85685,e.exports=i},87825:(e,t,o)=>{"use strict";o.r(t),o.d(t,{IRetroShell:()=>u,RiseApp:()=>h,RiseShell:()=>g,default:()=>S});var n={};o.r(n),o.d(n,{default:()=>y});var i=o(7729),l=o(75677),r=o(79013),s=o(9056),a=o(79645),d=o(62390),c=o(75890);const u=new a.Token("jupyterlab-rise-application:IRiseShell");class g extends c.Widget{constructor(){super(),this._updated=new d.Signal(this),this.layout=new c.BoxLayout,this.id="main",this._currentWidget=null}get updated(){return this._updated}activateById(e){}add(e,t,o){this.layout.widgets.length,c.BoxLayout.setStretch(e,1),this.layout.addWidget(e),this._currentWidget=e}get currentWidget(){return this._currentWidget}widgets(e){return(0,s.iter)(this.layout.widgets)}onUpdateRequest(e){super.onUpdateRequest(e),this._updated.emit()}}class h extends i.JupyterFrontEnd{constructor(e={}){var t,o;if(super(Object.assign(Object.assign({},e),{shell:null!==(t=e.shell)&&void 0!==t?t:new g})),this.name="Rise",this.namespace=this.name,this.version=null!==(o=r.PageConfig.getOption("appVersion"))&&void 0!==o?o:"unknown",e.mimeExtensions)for(const t of(0,l.as)(e.mimeExtensions))this.registerPlugin(t)}get paths(){return{urls:{base:r.PageConfig.getOption("baseUrl"),notFound:r.PageConfig.getOption("notFoundUrl"),app:r.PageConfig.getOption("appUrl"),static:r.PageConfig.getOption("staticUrl"),settings:r.PageConfig.getOption("settingsUrl"),themes:r.PageConfig.getOption("themesUrl"),doc:r.PageConfig.getOption("docUrl"),translations:r.PageConfig.getOption("translationsApiUrl")},directories:{appSettings:r.PageConfig.getOption("appSettingsDir"),schemas:r.PageConfig.getOption("schemasDir"),static:r.PageConfig.getOption("staticDir"),templates:r.PageConfig.getOption("templatesDir"),themes:r.PageConfig.getOption("themesDir"),userSettings:r.PageConfig.getOption("userSettingsDir"),serverRoot:r.PageConfig.getOption("serverRoot"),workspaces:r.PageConfig.getOption("workspacesDir")}}}registerPluginModule(e){let t=e.default;Object.prototype.hasOwnProperty.call(e,"__esModule")||(t=e),Array.isArray(t)||(t=[t]),t.forEach((e=>{try{this.registerPlugin(e)}catch(e){console.error(e)}}))}registerPluginModules(e){e.forEach((e=>{this.registerPluginModule(e)}))}}var m,b=o(57490),f=o(9123),v=o(59633),p=o(78074),k=o(59349);!function(e){e.riseSmartExec="RISE:smart-exec",e.riseFirstSlide="RISE:firstSlide",e.riseLastSlide="RISE:lastSlide",e.riseToggleOverview="RISE:toggleOverview",e.riseToggleAllButtons="RISE:toggleAllRiseButtons",e.riseFullScreen="RISE:fullscreenHelp",e.riseHelp="RISE:riseHelp",e.riseChalkboardClear="RISE:chalkboard-clear",e.riseChalkboardReset="RISE:chalkboard-reset",e.riseChalkboardToggle="RISE:chalkboard-toggleChalkboard",e.riseChalkboardToggleNotes="RISE:chalkboard-toggleNotesCanvas",e.riseChalkboardColorPrev="RISE:chalkboard-colorPrev",e.riseChalkboardColorNext="RISE:chalkboard-colorNext",e.riseChalkboardDownload="RISE:chalkboard-download",e.riseNotesOpen="RISE:notes-open",e.riseShowConfig="RISE:show-configuration"}(m||(m={}));const C={id:"rise-extension:opener",autoStart:!0,requires:[f.IDocumentManager],optional:[v.ISettingRegistry,p.ITranslator,b.ICommandPalette],activate:(e,t,o,n,i)=>{var l,s;const a=(null!=n?n:p.nullTranslator).load("rise"),c=new URL(window.location.toString()),u=parseInt(null!==(l=c.searchParams.get("activeCellIndex"))&&void 0!==l?l:"0",10);c.searchParams.delete("activeCellIndex"),c.searchParams.delete("fullscreen"),window.history.pushState(null,"",c.toString()),Promise.all([null!==(s=null==o?void 0:o.load("jupyterlab-rise:plugin"))&&void 0!==s?s:Promise.resolve(null),e.started,e.restored]).then((async([o])=>{const n=r.PageConfig.getOption("notebookPath"),l=t.open(n);_.registerCommands(e.commands,a),i&&[m.riseFullScreen,m.riseHelp,m.riseNotesOpen,m.riseFirstSlide,m.riseLastSlide,m.riseShowConfig,m.riseChalkboardToggle,m.riseChalkboardClear,m.riseChalkboardReset,m.riseChalkboardColorNext,m.riseChalkboardColorPrev].forEach((e=>{i.addItem({command:e,category:"Rise"})})),l.context.ready.then((()=>{var t,i,r;"dirty"===(r={name:"dirty",newValue:null===(i=null===(t=l.model)||void 0===t?void 0:t.dirty)||void 0===i||i,oldValue:!0}).name&&!1===r.newValue&&r.oldValue&&(console.log(`Convert notebook ${n} to slideshow.`),l.content.activeCellIndex=u,_.loadConfiguration(o,l.model),_.revealMode(l,e.commands,a).catch((e=>{console.error("Fail to update the notebook with Reveal.JS.",e)})),d.Signal.disconnectAll(void 0))})),l.toolbar.hide(),e.shell.add(l)}))}};var _;!function(e){const t={autolaunch:!1,start_slideshow_at:"selected",auto_select:"code",auto_select_fragment:!0,show_buttons_on_startup:!0,header:void 0,footer:void 0,backimage:void 0,overlay:void 0,restore_timeout:500,auto_select_timeout:450,sync_timeout:250,theme:"simple",transition:"linear",slideNumber:!0,width:"100%",height:"100%",controls:!0,progress:!0,history:!0,scroll:!1,center:!0,margin:.1,minScale:1,help:!1,enable_chalkboard:!1,enable_leap_motion:!1};let n,i=Object.assign({},t);function l(){}function s(e){const t=(e.metadata.get("slideshow")||{}).slide_type;return void 0===t||"-"===t?"":t}function a(e){return"slide"===s(e)}function d(e){return"subslide"===s(e)}function u(e){return"fragment"===s(e)}function g(e){return"skip"===s(e)}function h(e){return"notes"===s(e)}function f(e){const t=i.auto_select,o="code"===t?"code":"first"===t?null:void 0;if(void 0===o)return;const l=i.auto_select_fragment;setTimeout((()=>{const t=function(e,t=null,o=!1){if(!e)return null;const[i,l,r]=function(){const e=n.getCurrentSlide();if(!e)return[0,0,0];const t=e.id.split("-");return[Number(t[1]),Number(t[2]),e.querySelectorAll("div.fragment.visible").length]}();let[s,c,m]=[-1,0,0];const b=e.cells;for(let e=0;e<b.length;e++){const n=b.get(e);if(!(g(n)||h(n)||(a(n)&&(s+=1,c=0),s=Math.max(s,0),d(n)&&(c+=1),s!==i||c!==l)||(u(n)&&(m+=1),o&&m!==r||null!==t&&n.type!==t)))return e}return null}(e.model,o,l);t&&(e.activeCellIndex=t)}),i.auto_select_timeout)}function v(){var e,t;const o=i.scroll,n=document.querySelector(".reveal"),l=null!==(t=null===(e=document.querySelector("section.present"))||void 0===e?void 0:e.querySelectorAll("section"))&&void 0!==t?t:[];if(!0===o&&n){const e=.95*n.getBoundingClientRect().height;[...l].filter((t=>t.getBoundingClientRect().height>e)).forEach((e=>{e.style.height="calc(95vh)",e.style.overflowY="scroll",e.style.marginTop="20px"}))}}e.loadConfiguration=function(e=null,o=null){var n,l,r;const s=null!==(n=null==e?void 0:e.composite)&&void 0!==n?n:{};i=Object.assign(Object.assign(Object.assign(Object.assign({},t),s),null!==(l=null==o?void 0:o.metadata.get("livereveal"))&&void 0!==l?l:{}),null!==(r=null==o?void 0:o.metadata.get("rise"))&&void 0!==r?r:{})},e.registerCommands=function(e,t){e.addCommand(m.riseSmartExec,{caption:t.__("execute cell, and move to the next if on the same slide"),execute:l}),e.addCommand(m.riseShowConfig,{label:t.__("Dump RISE configuration"),caption:t.__("Output RISE configuration in console, for debugging mostly"),execute:()=>{console.log("RISE configuration",i)}});const o={};o[m.riseFirstSlide]=()=>n.slide(0),o[m.riseLastSlide]=()=>n.slide(Number.MAX_VALUE),o[m.riseToggleOverview]=()=>n.toggleOverview(),o[m.riseToggleAllButtons]=C,o[m.riseFullScreen]=()=>{!async function(){var e;document.fullscreenElement?document.exitFullscreen&&await document.exitFullscreen():await(null===(e=document.querySelector("div.reveal"))||void 0===e?void 0:e.requestFullscreen())}()},o[m.riseHelp]=()=>{y(e,t)},o[m.riseChalkboardClear]=()=>{var e;return null===(e=window.RevealChalkboard)||void 0===e?void 0:e.clear()},o[m.riseChalkboardReset]=()=>{var e;return null===(e=window.RevealChalkboard)||void 0===e?void 0:e.reset()},o[m.riseChalkboardToggle]=()=>{var e;return null===(e=window.RevealChalkboard)||void 0===e?void 0:e.toggleChalkboard()},o[m.riseChalkboardToggleNotes]=()=>{var e;return null===(e=window.RevealChalkboard)||void 0===e?void 0:e.toggleNotesCanvas()},o[m.riseChalkboardColorNext]=()=>{var e;return null===(e=window.RevealChalkboard)||void 0===e?void 0:e.colorNext()},o[m.riseChalkboardColorPrev]=()=>{var e;return null===(e=window.RevealChalkboard)||void 0===e?void 0:e.colorPrev()},o[m.riseChalkboardDownload]=()=>{var e;return null===(e=window.RevealChalkboard)||void 0===e?void 0:e.download()},o[m.riseNotesOpen]=()=>{n.getPlugin("notes").open()};const r=R(t);for(const t of Object.keys(o)){const n=o[t];e.addCommand(t,{label:r[t],caption:r[t],execute:n})}};let p=null;function C(){for(const e of["#help_b","#toggle-chalkboard","#toggle-notes"]){const t=document.querySelector(e);t&&(t.style.visibility="hidden"===t.style.visibility?"visible":"hidden")}}let _=!1;function w(e){e.deselectAll()}async function y(e,t){const o=R(t);function n(t){const n=e.keyBindings.find((e=>e.command===t));return`<li><kbd>${n?k.CommandRegistry.formatKeystroke(n.keys.join(" ")):""}</kbd> : ${o[t]}</li>`}const i=document.createElement("div");i.insertAdjacentHTML("afterbegin",`<p>\n  <ul>\n    ${n(m.riseHelp)}\n    <li><kbd>${k.CommandRegistry.formatKeystroke("Alt R")}</kbd>: ${t.__("enter/exit RISE")}</li>\n    <li><kbd>${k.CommandRegistry.formatKeystroke("Space")}</kbd>: ${t.__("next")}</li>\n    <li><kbd>${k.CommandRegistry.formatKeystroke("Shift Space")}</kbd>: ${t.__("previous")}</li>\n    <li><kbd>${k.CommandRegistry.formatKeystroke("Shift Enter")}</kbd>: ${t.__("eval and select next cell if visible")}</li>\n    ${n(m.riseFirstSlide)}\n    ${n(m.riseLastSlide)}\n    ${n(m.riseToggleOverview)}\n    ${n(m.riseNotesOpen)}\n    <li><kbd>${k.CommandRegistry.formatKeystroke(",")}</kbd>: ${o[m.riseToggleAllButtons]}</li>\n    <li><kbd>${k.CommandRegistry.formatKeystroke("/")}</kbd>: ${t.__("black screen")}</li>\n    <li><strong>${t.__("less useful")}:</strong></li>\n    <ul>\n      <li><kbd>${k.CommandRegistry.formatKeystroke("PageUp")}</kbd>: ${t.__("up")}</li>\n      <li><kbd>${k.CommandRegistry.formatKeystroke("PageDown")}</kbd>: ${t.__("down")}</li>\n      <li><kbd>${k.CommandRegistry.formatKeystroke("ArrowLeft")}</kbd>: ${t.__("left")} <em>(${t.__("note: Space preferred")})</em></li>\n      <li><kbd>${k.CommandRegistry.formatKeystroke("ArrowRight")}</kbd>: ${t.__("right")} <em>(${t.__("note: Shift Space preferred")})</em></li>\n    </ul>\n    <li><strong>${t.__("with chalkboard enabled")}:</strong></li>\n    <ul>\n      ${n(m.riseChalkboardToggle)}\n      ${n(m.riseChalkboardToggleNotes)}\n      ${n(m.riseChalkboardColorNext)}\n      ${n(m.riseChalkboardColorPrev)}\n      ${n(m.riseChalkboardDownload)}\n      ${n(m.riseChalkboardReset)}\n      ${n(m.riseChalkboardClear)}\n    </ul>\n  </ul>\n  ${t.__("NOTE: of course you have to use these shortcuts in command mode.")}\n</p>`),await(0,b.showDialog)({title:t.__("Reveal Shortcuts Help"),body:new c.Widget({node:i}),buttons:[b.Dialog.warnButton({label:t.__("OK")})]})}e.revealMode=async function(e,t,l){(async function(e,t){document.body.classList.add("rise-enabled");const l=e.content;e.addClass("reveal"),l.addClass("slides");const s=i.theme;document.body.classList.add(`theme-${s}`),await o(85685)(`./${s}.css`);const a=r.PathExt.dirname(e.sessionContext.path);document.head.insertAdjacentHTML("beforeend",`<link rel="stylesheet" href="${r.PageConfig.getBaseUrl()}files/${a}/rise.css" id="rise-custom-css" />`);const d=r.PathExt.basename(e.sessionContext.path),c=d.lastIndexOf("."),u=`${a}/${-1===c?d:d.substr(0,c)}.css`;document.head.insertAdjacentHTML("beforeend",`<link rel="stylesheet" href="${r.PageConfig.getBaseUrl()}files/${u}" id="rise-notebook-css" />`);const g=(await o.e(921).then(o.t.bind(o,20921,23))).default,h=["controls","progress","history","width","height","margin","minScale","transition","slideNumber","center","help"],m={help:!1,keyboard:{13:null,27:null,35:null,36:null,38:null,40:null,66:null,70:null,72:null,74:null,75:null,76:null,78:null,79:null,80:null,84:null,87:null,188:C},plugins:[]},b=(await o.e(2148).then(o.bind(o,72148))).default;m.plugins.push(b);for(const e of h)m[e]=i[e];var k;i.enable_chalkboard&&("chalkboard"in i&&(m.chalkboard=i.chalkboard),await o.e(3496).then(o.t.bind(o,73496,23)),await o.e(4987).then(o.t.bind(o,94987,23)),m.plugins.push(window.RevealChalkboard)),_?n.configure(m):(await g.initialize(m),n=g,_=!0),n.addEventListener("ready",(t=>{w(e.content),v(),f(e.content)})),n.addEventListener("slidechanged",(t=>{w(e.content),v(),f(e.content)})),n.addEventListener("fragmentshown",(t=>{f(e.content)})),n.addEventListener("fragmenthidden",(t=>{f(e.content)})),function(){var e;const t=document.querySelectorAll(".output"),o=null!==(e=window.MutationObserver)&&void 0!==e?e:window.WebKitMutationObserver;p=new o((function(e){e.forEach((e=>{e.addedNodes&&e.addedNodes.length&&(n.sync(),v())}))}));const i={childList:!0,characterData:!1,attributes:!1,subtree:!1};[...t].forEach((e=>{null==p||p.observe(e,i)}))}(),k=t,"selected"===i.start_slideshow_at?n.slide(k[0],k[1]):n.slide(0,0),v(),setTimeout((()=>n.sync()),i.sync_timeout),function(){var e;const t=i.overlay,o=i.header,n=i.footer,l=i.backimage;let r="";t?r=t:(o&&(r+=`<div id='rise-header' style='position: absolute; top: 0px;'>${o}</div>`),l&&(r+=`<img id='rise-backimage' style='width: 100%; height: 100%;' src='${l}' />`),n&&(r+=`<div id='rise-footer' style='position: absolute; bottom: 0px;'>${n}</div>`)),null===(e=document.querySelector("div.reveal"))||void 0===e||e.insertAdjacentHTML("beforeend",`<div id='rise-overlay'>${r}</div>`)}(),i.show_buttons_on_startup||setTimeout(C,2e3)})(e,function(e){if(!e.model)return[0,0];let t=-1,o=-1;function n(n){t++,o=-1;const i=document.createElement("section");return n?e.node.insertBefore(i,n.nextSibling):e.node.insertBefore(i,e.node.firstChild),i}function i(e){o++;const n=document.createElement("section");return n.id=`slide-${t}-${o}`,e.appendChild(n),n}function l(e){const t=document.createElement("div");return t.classList.add("fragment"),e.appendChild(t),t}let r=n(null),a=i(r),d=a;const c=e.activeCellIndex;let u=[0,0],g=!1;const h=e.model.cells;for(let m=0;m<h.length;m++){const b=s(h.get(m)),f=e.node.children[t+1];if(g?"slide"===b?(r=n(r),d=a=i(r)):"subslide"===b?d=a=i(r):"fragment"===b&&(d=l(a)):"notes"!==b&&"skip"!==b&&(g=!0),m===c&&(u=[t,o]),"notes"===b){const e=document.createElement("aside");e.classList.add("notes"),e.append(f),a.appendChild(e)}else d.appendChild(f);"skip"===b&&f.classList.add("reveal-skip")}return u}(e.content)),function(e,t,o){const n=document.createElement("i");n.setAttribute("id","help_b"),n.setAttribute("title",o.__("Reveal Shortcuts Help")),n.classList.add("fa-question","fa-4x","fa"),n.addEventListener("click",(()=>{y(t,o)})),e.node.insertAdjacentElement("afterend",n)}(e,t,l)};const S={};function R(e){return 0===Object.keys(S).length&&(S[m.riseFirstSlide]=e.__("jump to first slide"),S[m.riseLastSlide]=e.__("jump to last slide"),S[m.riseToggleOverview]=e.__("toggle overview"),S[m.riseToggleAllButtons]=e.__("show/hide buttons"),S[m.riseFullScreen]=e.__("show fullscreen help"),S[m.riseHelp]=e.__("show this help dialog"),S[m.riseChalkboardClear]=e.__("clear full size chalkboard"),S[m.riseChalkboardReset]=e.__("reset chalkboard data on current slide"),S[m.riseChalkboardToggle]=e.__("toggle full size chalkboard"),S[m.riseChalkboardToggleNotes]=e.__("toggle notes (slide-local)"),S[m.riseChalkboardColorNext]=e.__("cycle to next pen color"),S[m.riseChalkboardColorPrev]=e.__("cycle to previous pen color"),S[m.riseChalkboardDownload]=e.__("download recorded chalkboard drawing"),S[m.riseNotesOpen]=e.__("open speaker notes window")),S}}(_||(_={}));const w={id:"rise-extension:paths",autoStart:!0,provides:i.JupyterFrontEnd.IPaths,activate:e=>{if(!(e instanceof h))throw new Error(`${w.id} must be activated in Rise.`);return e.paths}},y=[w,C],S=n}}]);
//# sourceMappingURL=7825.js.map