[tox]

[testenv]
# install pytest in the virtualenv where commands will be executed
deps =
    pytest
    pytest-lazy-fixture
    # git+https://git.geomar.de/digital-earth/dasf/dasf-progress-api@master

extras =
    dev

passenv =
    DE_BACKEND_HOST
    DE_BACKEND_PORT
    DE_BACKEND_NAMESPACE

commands =
    mypy demessaging
    isort --check demessaging
    black --check demessaging
    blackdoc --check demessaging
    flake8 demessaging
    pytest -vx
    pytest -v --doctest-modules demessaging --ignore demessaging/types/xarray.py --ignore demessaging/NetCDFDecoder.py
