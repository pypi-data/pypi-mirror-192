(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{95282:function(t,e,n){"use strict";function r(t){this.message=t}r.prototype=new Error,r.prototype.name="InvalidCharacterError";var o="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(t){var e=String(t).replace(/=+$/,"");if(e.length%4==1)throw new r("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,o,u=0,i=0,c="";o=e.charAt(i++);~o&&(n=u%4?64*n+o:o,u++%4)?c+=String.fromCharCode(255&n>>(-2*u&6)):0)o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(o);return c};function u(t){var e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Illegal base64url string!"}try{return function(t){return decodeURIComponent(o(t).replace(/(.)/g,(function(t,e){var n=e.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(e)}catch(t){return o(e)}}function i(t){this.message=t}i.prototype=new Error,i.prototype.name="InvalidTokenError",e.Z=function(t,e){if("string"!=typeof t)throw new i("Invalid token specified");var n=!0===(e=e||{}).header?0:1;try{return JSON.parse(u(t.split(".")[n]))}catch(t){throw new i("Invalid token specified: "+t.message)}}},66757:function(t,e,n){"use strict";var r=n(19319),o=n(94178),u=n(67240),i="localStorage"in n.g&&n.g.localStorage?n.g.localStorage:r;function c(t,e){return 1===arguments.length?a(t):f(t,e)}function a(t){const e=i.getItem(t);return o(e)}function f(t,e){try{return i.setItem(t,JSON.stringify(e)),!0}catch(n){return!1}}c.set=f,c.get=a,c.remove=function(t){return i.removeItem(t)},c.clear=function(){return i.clear()},c.backend=function(t){return t&&(i=t),i},c.on=u.on,c.off=u.off,t.exports=c},94178:function(t){"use strict";t.exports=function(t){const e=function(t){try{return JSON.parse(t)}catch(e){return t}}(t);return void 0===e?null:e}},19319:function(t){"use strict";var e={};t.exports={getItem:function(t){return t in e?e[t]:null},setItem:function(t,n){return e[t]=n,!0},removeItem:function(t){return!!(t in e)&&delete e[t]},clear:function(){return e={},!0}}},67240:function(t,e,n){"use strict";var r=n(94178),o={};function u(t){t||(t=n.g.event);var e=o[t.key];e&&e.forEach((function(e){e(r(t.newValue),r(t.oldValue),t.url||t.uri)}))}t.exports={on:function(t,e){o[t]?o[t].push(e):o[t]=[e],n.g.addEventListener?n.g.addEventListener("storage",u,!1):n.g.attachEvent?n.g.attachEvent("onstorage",u):n.g.onstorage=u},off:function(t,e){var n=o[t];n.length>1?n.splice(n.indexOf(e),1):o[t]=[]}}},34376:function(t,e,n){t.exports=n(8641)},34108:function(t,e,n){"use strict";n.d(e,{Z:function(){return v}});var r=n(77837),o=n(62243),u=n(29385),i=n(82394),c=n(38860),a=n.n(c),f=n(95282),s=n(66757),p=n.n(s),l=n(55361),d=n(9736),h=n(59e3),v=function(){function t(e){(0,o.Z)(this,t),this.token=e,(0,i.Z)(this,"decodedToken",void 0),(0,i.Z)(this,"logout",t.logout),this.decodedToken={expires:0,token:null};try{this.decodedToken=e?(0,f.Z)(e):(0,f.Z)((0,l.LP)())}catch(n){}}return(0,u.Z)(t,[{key:"authorizationString",get:function(){if(this.decodedToken.token)return"Bearer ".concat(this.decodedToken.token)}},{key:"expiresAt",get:function(){return new Date(1e3*this.decodedToken.expires)}},{key:"isExpired",get:function(){return new Date>this.expiresAt}},{key:"isValid",get:function(){return this.decodedToken.token&&!this.isExpired}}],[{key:"isLoggedIn",value:function(){return(new t).isValid}},{key:"storeToken",value:function(){var t=(0,r.Z)(a().mark((function t(e){var n,r=arguments;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.length>1&&void 0!==r[1]?r[1]:null,(0,l.o4)(e),!n){t.next=5;break}return t.next=5,n();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"logout",value:function(){var t=(0,r.Z)(a().mark((function t(){var e,n=arguments;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=n.length>0&&void 0!==n[0]?n[0]:null,t.prev=1,!e){t.next=7;break}return t.next=5,e();case 5:t.next=9;break;case 7:return t.next=9,(0,h.nL)("/sign-in");case 9:t.next=13;break;case 11:t.prev=11,t.t0=t.catch(1);case 13:p().clear(),(0,d.kX)(),(0,l.gy)();case 16:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(){return t.apply(this,arguments)}}()}]),t}()},41788:function(t,e,n){"use strict";n.d(e,{Z:function(){return P}});var r=n(77837),o=n(26304),u=n(62243),i=n(29385),c=n(80022),a=n(99177),f=n(93189),s=n(15544),p=n(82394),l=n(38860),d=n.n(l),h=n(82684),v=n(56663),g=n.n(v),y=n(34108),w=n(55361),b=n(30332),k=n(9736),_=n(59e3),m=n(28598),O=["auth"];function Z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Z(Object(n),!0).forEach((function(e){(0,p.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function E(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,s.Z)(t);if(e){var o=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,f.Z)(this,n)}}function P(t){return function(e){(0,a.Z)(f,e);var n=E(f);function f(){var t;(0,u.Z)(this,f);for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t=n.call.apply(n,[this].concat(r)),(0,p.Z)((0,c.Z)(t),"state",{auth:new y.Z(t.props.token)}),t}return(0,i.Z)(f,[{key:"componentDidMount",value:function(){this.setState({auth:new y.Z(this.props.token)})}},{key:"render",value:function(){var e=this.props,n=(e.auth,(0,o.Z)(e,O));return(0,m.jsx)(t,x({auth:this.state.auth},n))}}],[{key:"getInitialProps",value:function(){var e=(0,r.Z)(d().mark((function e(n){var r,o,u,i,c,a,f,s,p;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=g()(n),o=(0,k.ex)(n),u=o.id,i=r[w.Mv],c=r[b.qt],a=new y.Z(i),f=x(x({},n),{},{auth:a,currentGroupId:u,theme:c}),k.YB&&a.isExpired&&(console.log("OAuth token has expired."),s=x(x({},n.query),{},{redirect_url:n.asPath}),(0,_.nL)("/sign-in?".concat((0,_.uM)(s)),n.res)),!t.getInitialProps){e.next=12;break}return e.next=10,t.getInitialProps(f);case 10:return p=e.sent,e.abrupt("return",x(x({},p),{},{auth:a,currentGroupId:u,theme:c}));case 12:return e.abrupt("return",f);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),f}(h.Component)}},76449:function(t,e,n){"use strict";n.r(e);var r=n(77837),o=n(38860),u=n.n(o),i=n(82684),c=n(34376),a=n(41788),f=function(){var t=(0,c.useRouter)();(0,i.useEffect)((function(){t.replace("/settings/workspace/preferences")}),[t])};f.getInitialProps=(0,r.Z)(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{});case 1:case"end":return t.stop()}}),t)}))),e.default=(0,a.Z)(f)},91427:function(t,e,n){"use strict";n.d(e,{J3:function(){return a},L8:function(){return i},Od:function(){return l},U2:function(){return p},Uu:function(){return c},kP:function(){return f},t8:function(){return s},zg:function(){return u}});var r=n(66757),o=n.n(r);var u="pipeline_editor_after_hidden",i="pipeline_editor_after_width",c="pipeline_editor_before_hidden",a="pipeline_editor_before_width",f="data_output_block_uuids";function s(t,e){return o().set(t,e),e}function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=o().get(t);return"undefined"!==typeof n&&null!==n?n:(s(t,e),e)}function l(t){var e=p(t);return o().remove(t),e}},9736:function(t,e,n){"use strict";n.d(e,{PR:function(){return v},YB:function(){return f},av:function(){return g},ex:function(){return d},kX:function(){return h}});var r=n(39421),o=n(56663),u=n.n(o),i=n(66757),c=n.n(i),a=n(55361);n(91427);var f=!1,s="current_group_id",p="current_group",l="current_user";function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(t){var e=u()(t),n=e.current_group_id;return{id:n}}var o=c().get(p),i=r.Z.get(s,a.Hu);if(o&&i)return o}function h(){c().remove(l)}function v(){return c().get(l)}function g(t){c().set(l,t)}},59e3:function(t,e,n){"use strict";n.d(e,{iV:function(){return i},nL:function(){return a},uM:function(){return c}});var r=n(75582),o=n(34376),u=n.n(o);function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e={},n=t;if(t||(n=window.location.search),n){var o=new URLSearchParams(n.split("?").slice(1).join(""));Array.from(o.keys()).forEach((function(t){var n=t.match(/\[\]/),u=o.getAll(t);if(1!==u.length||n)e[t]=u;else{var i=(0,r.Z)(u,1);e[t]=i[0]}}))}return e}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.entries(t).reduce((function(t,e){var n=(0,r.Z)(e,2),o=n[0],u=n[1];if(Array.isArray(u)){var i=o;return i.match(/\[\]/)||(i="".concat(i,"[]")),t.concat(u.map((function(t){return"".concat(i,"=").concat(encodeURIComponent(t))})))}return t.concat("".concat(o,"=").concat(encodeURIComponent(u)))}),[]).join("&")}var a=function(t,e){e?(e.writeHead(302,{Location:t}),e.end()):u().push(t)}},73406:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings",function(){return n(76449)}])},80022:function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,{Z:function(){return r}})},62243:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,{Z:function(){return r}})},29385:function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,{Z:function(){return o}})},15544:function(t,e,n){"use strict";function r(t){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},r(t)}n.d(e,{Z:function(){return r}})},99177:function(t,e,n){"use strict";function r(t,e){return r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r(t,e)}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}n.d(e,{Z:function(){return o}})},93189:function(t,e,n){"use strict";n.d(e,{Z:function(){return u}});var r=n(12539),o=n(80022);function u(t,e){if(e&&("object"===r(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.Z)(t)}}},function(t){t.O(0,[9774,2888,179],(function(){return e=73406,t(t.s=e);var e}));var e=t.O();_N_E=e}]);