[tool.poetry]
name = "datapipe-app"
version = "0.3.2-dev.2"
description = ""
authors = ["Andrey Tatarinov <a@tatarinov.co>"]

readme = "README.md"

packages = [
    { include = "datapipe_app" },
]

include = [
    "datapipe_app/frontend/**/*"
]

[tool.poetry.dependencies]
python = ">=3.8,<3.11"
fastapi = ">=0.69.0"
uvicorn = {extras = ["standard"], version = ">= 0.17.0"}
click = ">=7.1.2"
termcolor = "^2.1.0"

datapipe-core = {version=">=0.11.12-dev.1, <0.12", allow-prereleases = true}
# datapipe-core = {path="../datapipe"}

opentelemetry-instrumentation-fastapi = "0.35b0"

opentelemetry-exporter-gcp-trace = {version="^1.3.0", optional=true}
opentelemetry-exporter-jaeger = {version="^1.8.0", optional=true}

[tool.poetry.extras]
gcp = ["opentelemetry-exporter-gcp-trace"]
jaeger = ["opentelemetry-exporter-jaeger"]

[tool.poetry.scripts]
datapipe = 'datapipe_app.cli:main'

[tool.poetry.dev-dependencies]
mypy = "*"
sqlalchemy = {extras = ["mypy"], version = "*"}
alembic = "*"
black = "*"

[build-system]
requires = ["poetry-core>=1.0.0"]
build-backend = "poetry.core.masonry.api"
