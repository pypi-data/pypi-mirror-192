(this.webpackJsonpstreamlit_file_browser=this.webpackJsonpstreamlit_file_browser||[]).push([[0],{124:function(e,n,t){"use strict";t.r(n);var a=t(4),l=t.n(a),o=t(45),r=t.n(o),i=t(8),c=t(0),s=t(1),d=t(10),u=t(2),E=t(3),m=t(16),F=t(33),f=t.n(F),h=t(5),D=function(e){var n=e.selectedItems,t=e.isFolder,a=e.icons,o=e.nameFilter,r=e.canCreateFolder,i=e.onCreateFolder,c=e.canRenameFile,s=e.onRenameFile,d=e.canRenameFolder,u=e.onRenameFolder,E=e.canDeleteFile,m=e.onDeleteFile,F=e.canDeleteFolder,f=e.onDeleteFolder,D=e.canDownloadFile,g=e.onDownloadFile,C=e.canDownloadFolder,O=e.onDownloadFolder,p=e.canChooseFile,L=e.onChooseFile,_=e.canChooseFolder,R=e.onChooseFolder,v=[];if(n.length){var w=n.filter((function(e){return e.action}));if(w.length===n.length&&1===Object(h.a)(new Set(w)).length){var b;switch(w[0].action){case"delete":b="Deleting ...";break;case"rename":b="Renaming ...";break;default:b="Moving ..."}v=l.a.createElement("div",{className:"item-actions"},a.Loading," ",b)}else{t&&r&&!o&&v.push(l.a.createElement("li",{key:"action-add-folder"},l.a.createElement("a",{onClick:i,href:"#",role:"button"},a.Folder,"\xa0Add Subfolder")));var k=n.find((function(e){return!e.keyDerived}));k||t||!c||1!==n.length?!k&&t&&d&&v.push(l.a.createElement("li",{key:"action-rename"},l.a.createElement("a",{onClick:u,href:"#",role:"button"},a.Rename,"\xa0Rename"))):v.push(l.a.createElement("li",{key:"action-rename"},l.a.createElement("a",{onClick:s,href:"#",role:"button"},a.Rename,"\xa0Rename"))),k||t||!E?!k&&t&&F&&v.push(l.a.createElement("li",{key:"action-delete"},l.a.createElement("a",{onClick:f,href:"#",role:"button"},a.Delete,"\xa0Delete"))):v.push(l.a.createElement("li",{key:"action-delete"},l.a.createElement("a",{onClick:m,href:"#",role:"button"},a.Delete,"\xa0Delete"))),(!t&&D||t&&C)&&v.push(l.a.createElement("li",{key:"action-download"},l.a.createElement("a",{onClick:t?O:g,href:"#",role:"button"},a.Download,"\xa0Download"))),(!t&&p||t&&_)&&v.push(l.a.createElement("li",{key:"action-choose"},l.a.createElement("a",{onClick:t?R:L,href:"#",role:"button"},l.a.createElement("i",{className:"fa fa-plus","aria-hidden":"true"}),"\xa0Choose"))),v=v.length?l.a.createElement("ul",{className:"item-actions"},v):l.a.createElement("div",{className:"item-actions"},"\xa0")}}else r&&!o&&v.push(l.a.createElement("li",{key:"action-add-folder"},l.a.createElement("a",{onClick:i,href:"#",role:"button"},a.Folder,"\xa0Add Folder"))),v=v.length?l.a.createElement("ul",{className:"item-actions"},v):l.a.createElement("div",{className:"item-actions"},"\xa0");return v};D.defaultProps={selectedItems:[],isFolder:!1,icons:{},nameFilter:"",canCreateFolder:!1,onCreateFolder:null,canRenameFile:!1,onRenameFile:null,canRenameFolder:!1,onRenameFolder:null,canDeleteFile:!1,onDeleteFile:null,canDeleteFolder:!1,onDeleteFolder:null,canDownloadFile:!1,onDownloadFile:null,canDownloadFolder:!1,onDownloadFolder:null,canChooseFile:!1,onChooseFile:null,canChooseFolder:!1,onChooseFolder:null};var g,C=D;t(119),t(120);!function(e){e.SELECT_FILE="SELECT_FILE",e.SELECT_FOLDER="SELECT_FOLDER",e.DOWNLOAD="DOWNLOAD",e.DELETE_FILE="DELETE_FILE",e.DELETE_FOLDER="DELETE_FOLDER",e.RENAME_FOLDER="RENAME_FOLDER",e.RENAME_FILE="RENAME_FILE",e.CREATE_FILE="CREATE_FILE",e.CREATE_FOLDER="CREATE_FOLDER",e.MOVE_FILE="MOVE_FILE",e.MOVE_FOLDER="MOVE_FOLDER",e.CHOOSE_FILE="CHOOSE_FILE"}(g||(g={}));var O=function(e){return m.a.setComponentValue(e)},p=function(e){Object(u.a)(t,e);var n=Object(E.a)(t);function t(e){var a;return Object(c.a)(this,t),(a=n.call(this,e)).args=void 0,a.folderOpenHandler=function(e){return a.ajustHeight()},a.folderCloseHandler=function(e){return a.ajustHeight()},a.fileSelectedHandler=function(e){var n=a.args.files.find((function(n){return n.path===e.key}));n&&O({type:g.SELECT_FILE,target:n})},a.downlandHandler=function(e){var n=a.args.files.filter((function(n){return e.includes(n.path)}));n.forEach((function(e){var n,t=new URL(e.path,"".concat(a.args.artifacts_site,"/download/artifacts/")).toString(),l=t.substring(t.lastIndexOf("/")+1),o=document.createElement("a");o.target="_blank",o.href=t,o.download=l,document.body.appendChild(o),o.click(),null===(n=o.parentNode)||void 0===n||n.removeChild(o)})),n.length&&O({type:g.DOWNLOAD,target:n})},a.chooseHandler=function(e){var n=a.args.files.filter((function(n){return e.includes(n.path)}));n.length&&O({type:g.CHOOSE_FILE,target:n})},a.convertFiles=function(e){return e.map((function(e){return{key:e.path,modified:(n=e.update_time,+new Date-n),size:e.size};var n}))},a.noop=function(){return l.a.createElement(l.a.Fragment,null)},a.render=function(){var e=Object(d.a)(a);return l.a.createElement("div",null,l.a.createElement(f.a,Object.assign({},a.args,{showActionBar:!0,canFilter:!0,detailRenderer:a.noop,icons:F.Icons.FontAwesome(4),files:a.convertFiles(a.args.files),onFolderOpen:a.folderOpenHandler,onFolderClose:a.folderCloseHandler,onSelect:a.fileSelectedHandler,onDownloadFile:a.downlandHandler,actionRenderer:function(){for(var n=arguments.length,t=new Array(n),a=0;a<n;a++)t[a]=arguments[a];return C(Object(i.a)(Object(i.a)({},t[0]),{canChooseFile:e.args.show_choose_file,canDownloadFile:e.args.show_download_file&&e.args.artifacts_site,onChooseFile:function(n){return e.chooseHandler(t[0].selectedItems.map((function(e){return e.key})))}}))}})))},a.args=e.args,a}return Object(s.a)(t,[{key:"ajustHeight",value:function(e){var n=document.getElementById("root");if(n){var t=Math.min(n.clientHeight,n.scrollHeight,n.offsetHeight);m.a.setFrameHeight(t-(e||0)),setTimeout(m.a.setFrameHeight,1)}}},{key:"componentDidMount",value:function(){this.ajustHeight()}},{key:"componentDidUpdate",value:function(){this.ajustHeight()}}]),t}(m.b),L=Object(m.c)(p);r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(L,null)),document.getElementById("root"))},51:function(e,n,t){e.exports=t(124)}},[[51,1,2]]]);
//# sourceMappingURL=main.66c8bd0b.chunk.js.map