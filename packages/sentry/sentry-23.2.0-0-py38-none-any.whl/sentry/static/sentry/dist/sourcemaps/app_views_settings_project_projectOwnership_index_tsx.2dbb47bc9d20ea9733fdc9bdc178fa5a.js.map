{"version":3,"file":"chunks/app_views_settings_project_projectOwnership_index_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///./app/utils/routeTitle.tsx","webpack:///./app/views/asyncView.tsx","webpack:///./app/views/settings/project/permissionAlert.tsx","webpack:///./app/views/settings/project/projectOwnership/addCodeOwnerModal.tsx","webpack:///./app/views/settings/project/projectOwnership/rulesPanel.tsx","webpack:///./app/views/settings/project/projectOwnership/codeowners.tsx","webpack:///./app/views/settings/project/projectOwnership/index.tsx"],"sourcesContent":["function routeTitleGen(\n  routeName: string,\n  orgSlug: string,\n  withSentry: boolean = true,\n  projectSlug?: string\n): string {\n  const tmplBase = `${routeName} - ${orgSlug}`;\n  const tmpl = projectSlug ? `${tmplBase} - ${projectSlug}` : tmplBase;\n\n  return withSentry ? `${tmpl} - Sentry` : tmpl;\n}\n\nexport default routeTitleGen;\n","import AsyncComponent from 'sentry/components/asyncComponent';\nimport SentryDocumentTitle from 'sentry/components/sentryDocumentTitle';\n\ntype AsyncViewState = AsyncComponent['state'];\ntype AsyncViewProps = AsyncComponent['props'];\n\nexport default class AsyncView<\n  P extends AsyncViewProps = AsyncViewProps,\n  S extends AsyncViewState = AsyncViewState\n> extends AsyncComponent<P, S> {\n  getTitle() {\n    return '';\n  }\n\n  render() {\n    return (\n      <SentryDocumentTitle title={this.getTitle()}>\n        {this.renderComponent() as React.ReactChild}\n      </SentryDocumentTitle>\n    );\n  }\n}\n","import Access from 'sentry/components/acl/access';\nimport {Alert} from 'sentry/components/alert';\nimport {t} from 'sentry/locale';\n\ntype Props = React.ComponentPropsWithoutRef<typeof Alert> &\n  Pick<React.ComponentProps<typeof Access>, 'access'>;\n\nconst PermissionAlert = ({access = ['project:write'], ...props}: Props) => (\n  <Access access={access}>\n    {({hasAccess}) =>\n      !hasAccess && (\n        <Alert data-test-id=\"project-permission-alert\" type=\"warning\" {...props}>\n          {t(\n            'These settings can only be edited by users with the organization owner, manager, or admin role.'\n          )}\n        </Alert>\n      )\n    }\n  </Access>\n);\n\nexport default PermissionAlert;\n","import {Fragment} from 'react';\nimport styled from '@emotion/styled';\n\nimport {addErrorMessage} from 'sentry/actionCreators/indicator';\nimport {ModalRenderProps} from 'sentry/actionCreators/modal';\nimport {Alert} from 'sentry/components/alert';\nimport AsyncComponent from 'sentry/components/asyncComponent';\nimport {Button} from 'sentry/components/button';\nimport SelectField from 'sentry/components/forms/fields/selectField';\nimport Form from 'sentry/components/forms/form';\nimport Link from 'sentry/components/links/link';\nimport LoadingIndicator from 'sentry/components/loadingIndicator';\nimport {Panel, PanelBody} from 'sentry/components/panels';\nimport {IconCheckmark, IconNot} from 'sentry/icons';\nimport {t, tct} from 'sentry/locale';\nimport {space} from 'sentry/styles/space';\nimport {\n  CodeOwner,\n  CodeownersFile,\n  Integration,\n  Organization,\n  Project,\n  RepositoryProjectPathConfig,\n} from 'sentry/types';\nimport {getIntegrationIcon} from 'sentry/utils/integrationUtil';\n\ntype Props = {\n  organization: Organization;\n  project: Project;\n  onSave?: (data: CodeOwner) => void;\n} & ModalRenderProps &\n  AsyncComponent['props'];\n\ntype State = {\n  codeMappingId: string | null;\n  codeMappings: RepositoryProjectPathConfig[];\n  codeownersFile: CodeownersFile | null;\n  error: boolean;\n  errorJSON: {raw?: string} | null;\n  integrations: Integration[];\n  isLoading: boolean;\n} & AsyncComponent['state'];\n\nclass AddCodeOwnerModal extends AsyncComponent<Props, State> {\n  getDefaultState() {\n    return {\n      ...super.getDefaultState(),\n      codeownersFile: null,\n      codeMappingId: null,\n      isLoading: false,\n      error: false,\n      errorJSON: null,\n    };\n  }\n\n  getEndpoints(): ReturnType<AsyncComponent['getEndpoints']> {\n    const {organization, project} = this.props;\n    const endpoints: ReturnType<AsyncComponent['getEndpoints']> = [\n      [\n        'codeMappings',\n        `/organizations/${organization.slug}/code-mappings/`,\n        {query: {project: project.id}},\n      ],\n      [\n        'integrations',\n        `/organizations/${organization.slug}/integrations/`,\n        {query: {features: ['codeowners']}},\n      ],\n    ];\n    return endpoints;\n  }\n\n  fetchFile = async (codeMappingId: string) => {\n    const {organization} = this.props;\n    this.setState({\n      codeMappingId,\n      codeownersFile: null,\n      error: false,\n      errorJSON: null,\n      isLoading: true,\n    });\n    try {\n      const data: CodeownersFile = await this.api.requestPromise(\n        `/organizations/${organization.slug}/code-mappings/${codeMappingId}/codeowners/`,\n        {\n          method: 'GET',\n        }\n      );\n      this.setState({codeownersFile: data, isLoading: false});\n    } catch (_err) {\n      this.setState({isLoading: false});\n    }\n  };\n\n  addFile = async () => {\n    const {organization, project} = this.props;\n    const {codeownersFile, codeMappingId, codeMappings} = this.state;\n\n    if (codeownersFile) {\n      const postData: {\n        codeMappingId: string | null;\n        raw: string;\n      } = {\n        codeMappingId,\n        raw: codeownersFile.raw,\n      };\n\n      try {\n        const data = await this.api.requestPromise(\n          `/projects/${organization.slug}/${project.slug}/codeowners/`,\n          {\n            method: 'POST',\n            data: postData,\n          }\n        );\n\n        const codeMapping = codeMappings.find(\n          mapping => mapping.id === codeMappingId?.toString()\n        );\n\n        this.handleAddedFile({...data, codeMapping});\n      } catch (err) {\n        if (err.responseJSON.raw) {\n          this.setState({error: true, errorJSON: err.responseJSON, isLoading: false});\n        } else {\n          addErrorMessage(Object.values(err.responseJSON).flat().join(' '));\n        }\n      }\n    }\n  };\n\n  handleAddedFile(data: CodeOwner) {\n    this.props.onSave && this.props.onSave(data);\n    this.props.closeModal();\n  }\n\n  sourceFile(codeownersFile: CodeownersFile) {\n    return (\n      <Panel>\n        <SourceFileBody>\n          <IconCheckmark size=\"md\" isCircled color=\"green200\" />\n          {codeownersFile.filepath}\n          <Button size=\"sm\" href={codeownersFile.html_url} external>\n            {t('Preview File')}\n          </Button>\n        </SourceFileBody>\n      </Panel>\n    );\n  }\n\n  errorMessage(baseUrl) {\n    const {errorJSON, codeMappingId, codeMappings} = this.state;\n    const codeMapping = codeMappings.find(mapping => mapping.id === codeMappingId);\n    const {integrationId, provider} = codeMapping as RepositoryProjectPathConfig;\n    const errActors = errorJSON?.raw?.[0].split('\\n').map((el, i) => <p key={i}>{el}</p>);\n    return (\n      <Alert type=\"error\" showIcon>\n        {errActors}\n        {codeMapping && (\n          <p>\n            {tct(\n              'Configure [userMappingsLink:User Mappings] or [teamMappingsLink:Team Mappings] for any missing associations.',\n              {\n                userMappingsLink: (\n                  <Link\n                    to={`${baseUrl}/${provider?.key}/${integrationId}/?tab=userMappings&referrer=add-codeowners`}\n                  />\n                ),\n                teamMappingsLink: (\n                  <Link\n                    to={`${baseUrl}/${provider?.key}/${integrationId}/?tab=teamMappings&referrer=add-codeowners`}\n                  />\n                ),\n              }\n            )}\n          </p>\n        )}\n        {tct(\n          '[addAndSkip:Add and Skip Missing Associations] will add your codeowner file and skip any rules that having missing associations. You can add associations later for any skipped rules.',\n          {addAndSkip: <strong>Add and Skip Missing Associations</strong>}\n        )}\n      </Alert>\n    );\n  }\n\n  noSourceFile() {\n    const {codeMappingId, isLoading} = this.state;\n    if (isLoading) {\n      return (\n        <Container>\n          <LoadingIndicator mini />\n        </Container>\n      );\n    }\n    if (!codeMappingId) {\n      return null;\n    }\n    return (\n      <Panel>\n        <NoSourceFileBody>\n          {codeMappingId ? (\n            <Fragment>\n              <IconNot size=\"md\" color=\"red200\" />\n              {t('No codeowner file found.')}\n            </Fragment>\n          ) : null}\n        </NoSourceFileBody>\n      </Panel>\n    );\n  }\n\n  renderBody() {\n    const {Header, Body, Footer} = this.props;\n    const {codeownersFile, error, errorJSON, codeMappings, integrations} = this.state;\n    const {organization} = this.props;\n    const baseUrl = `/settings/${organization.slug}/integrations`;\n\n    return (\n      <Fragment>\n        <Header closeButton>{t('Add Code Owner File')}</Header>\n        <Body>\n          {!codeMappings.length ? (\n            !integrations.length ? (\n              <Fragment>\n                <div>\n                  {t('Install a GitHub or GitLab integration to use this feature.')}\n                </div>\n                <Container style={{paddingTop: space(2)}}>\n                  <Button priority=\"primary\" size=\"sm\" to={baseUrl}>\n                    Setup Integration\n                  </Button>\n                </Container>\n              </Fragment>\n            ) : (\n              <Fragment>\n                <div>\n                  {t(\n                    \"Configure code mapping to add your CODEOWNERS file. Select the integration you'd like to use for mapping:\"\n                  )}\n                </div>\n                <IntegrationsList>\n                  {integrations.map(integration => (\n                    <Button\n                      key={integration.id}\n                      to={`${baseUrl}/${integration.provider.key}/${integration.id}/?tab=codeMappings&referrer=add-codeowners`}\n                    >\n                      {getIntegrationIcon(integration.provider.key)}\n                      <IntegrationName>{integration.name}</IntegrationName>\n                    </Button>\n                  ))}\n                </IntegrationsList>\n              </Fragment>\n            )\n          ) : null}\n          {codeMappings.length > 0 && (\n            <Form\n              apiMethod=\"POST\"\n              apiEndpoint=\"/code-mappings/\"\n              hideFooter\n              initialData={{}}\n            >\n              <StyledSelectField\n                name=\"codeMappingId\"\n                label={t('Apply an existing code mapping')}\n                options={codeMappings.map((cm: RepositoryProjectPathConfig) => ({\n                  value: cm.id,\n                  label: cm.repoName,\n                }))}\n                onChange={this.fetchFile}\n                required\n                inline={false}\n                flexibleControlStateSize\n                stacked\n              />\n\n              <FileResult>\n                {codeownersFile ? this.sourceFile(codeownersFile) : this.noSourceFile()}\n                {error && errorJSON && this.errorMessage(baseUrl)}\n              </FileResult>\n            </Form>\n          )}\n        </Body>\n        <Footer>\n          <Button\n            disabled={codeownersFile ? false : true}\n            aria-label={t('Add File')}\n            priority=\"primary\"\n            onClick={this.addFile}\n          >\n            {t('Add File')}\n          </Button>\n        </Footer>\n      </Fragment>\n    );\n  }\n}\n\nexport default AddCodeOwnerModal;\nexport {AddCodeOwnerModal};\n\nconst StyledSelectField = styled(SelectField)`\n  border-bottom: None;\n  padding-right: 16px;\n`;\nconst FileResult = styled('div')`\n  width: inherit;\n`;\nconst NoSourceFileBody = styled(PanelBody)`\n  display: grid;\n  padding: 12px;\n  grid-template-columns: 30px 1fr;\n  align-items: center;\n`;\nconst SourceFileBody = styled(PanelBody)`\n  display: grid;\n  padding: 12px;\n  grid-template-columns: 30px 1fr 100px;\n  align-items: center;\n`;\n\nconst IntegrationsList = styled('div')`\n  display: grid;\n  gap: ${space(1)};\n  justify-items: center;\n  margin-top: ${space(2)};\n`;\n\nconst IntegrationName = styled('p')`\n  padding-left: 10px;\n`;\n\nconst Container = styled('div')`\n  display: flex;\n  justify-content: center;\n`;\n","import styled from '@emotion/styled';\n\nimport TextArea from 'sentry/components/forms/controls/textarea';\nimport {Panel, PanelBody, PanelHeader} from 'sentry/components/panels';\nimport TimeSince from 'sentry/components/timeSince';\nimport {IconGithub, IconGitlab, IconSentry} from 'sentry/icons';\nimport {t} from 'sentry/locale';\nimport {space} from 'sentry/styles/space';\n\ntype Props = {\n  'data-test-id': string;\n  dateUpdated: string | null;\n  raw: string;\n  type: 'codeowners' | 'issueowners';\n  controls?: React.ReactNode[];\n  placeholder?: string;\n  provider?: string;\n  repoName?: string;\n};\n\nfunction RulesPanel({\n  raw,\n  dateUpdated,\n  provider,\n  repoName,\n  type,\n  placeholder,\n  controls,\n  ['data-test-id']: dataTestId,\n}: Props) {\n  function renderIcon() {\n    switch (provider ?? '') {\n      case 'github':\n        return <IconGithub size=\"sm\" />;\n      case 'gitlab':\n        return <IconGitlab size=\"sm\" />;\n      default:\n        return <IconSentry size=\"sm\" />;\n    }\n  }\n\n  function renderTitle() {\n    switch (type) {\n      case 'codeowners':\n        return 'CODEOWNERS';\n      case 'issueowners':\n        return 'Ownership Rules';\n      default:\n        return null;\n    }\n  }\n\n  return (\n    <Panel data-test-id={dataTestId}>\n      <PanelHeader hasButtons>\n        <Container>\n          {renderIcon()}\n          {renderTitle()}\n          {repoName && <div>{`- ${repoName}`}</div>}\n        </Container>\n        <Container>\n          {dateUpdated && (\n            <SyncDate>\n              {t('Last %s', type === 'codeowners' ? t('synced') : t('edited'))}{' '}\n              <TimeSince date={dateUpdated} />\n            </SyncDate>\n          )}\n          {controls}\n        </Container>\n      </PanelHeader>\n\n      <PanelBody>\n        <InnerPanelBody>\n          <StyledTextArea\n            monospace\n            readOnly\n            value={raw}\n            spellCheck=\"false\"\n            autoComplete=\"off\"\n            autoCorrect=\"off\"\n            autoCapitalize=\"off\"\n            placeholder={placeholder}\n          />\n        </InnerPanelBody>\n      </PanelBody>\n    </Panel>\n  );\n}\n\nexport default RulesPanel;\n\nconst Container = styled('div')`\n  display: flex;\n  align-items: center;\n  gap: ${space(0.75)};\n`;\n\nconst InnerPanelBody = styled(PanelBody)`\n  height: auto;\n`;\n\nconst StyledTextArea = styled(TextArea)`\n  height: 350px !important;\n  overflow: auto;\n  outline: 0;\n  width: 100%;\n  resize: none;\n  margin: 0;\n  word-break: break-all;\n  white-space: pre-wrap;\n  line-height: ${space(3)};\n  border: none;\n  box-shadow: none;\n  color: transparent;\n  text-shadow: 0 0 0 #9386a0;\n\n  &:hover,\n  &:focus,\n  &:active {\n    border: none;\n    box-shadow: none;\n  }\n`;\n\nconst SyncDate = styled('div')`\n  font-weight: normal;\n  text-transform: none;\n`;\n","import {Component, Fragment} from 'react';\n\nimport {addErrorMessage, addSuccessMessage} from 'sentry/actionCreators/indicator';\nimport {Client} from 'sentry/api';\nimport {Button} from 'sentry/components/button';\nimport Confirm from 'sentry/components/confirm';\nimport {IconDelete, IconSync} from 'sentry/icons';\nimport {t} from 'sentry/locale';\nimport {CodeOwner, CodeownersFile, Organization, Project} from 'sentry/types';\nimport withApi from 'sentry/utils/withApi';\nimport RulesPanel from 'sentry/views/settings/project/projectOwnership/rulesPanel';\n\ntype Props = {\n  api: Client;\n  codeowners: CodeOwner[];\n  disabled: boolean;\n  onDelete: (data: CodeOwner) => void;\n  onUpdate: (data: CodeOwner) => void;\n  organization: Organization;\n  project: Project;\n};\n\nclass CodeOwnersPanel extends Component<Props> {\n  handleDelete = async (codeowner: CodeOwner) => {\n    const {api, organization, project, onDelete} = this.props;\n    const endpoint = `/api/0/projects/${organization.slug}/${project.slug}/codeowners/${codeowner.id}/`;\n    try {\n      await api.requestPromise(endpoint, {\n        method: 'DELETE',\n      });\n      onDelete(codeowner);\n      addSuccessMessage(t('Deletion successful'));\n    } catch {\n      // no 4xx errors should happen on delete\n      addErrorMessage(t('An error occurred'));\n    }\n  };\n\n  handleSync = async (codeowner: CodeOwner) => {\n    const {api, organization, project, onUpdate} = this.props;\n    try {\n      const codeownerFile: CodeownersFile = await api.requestPromise(\n        `/organizations/${organization.slug}/code-mappings/${codeowner.codeMappingId}/codeowners/`,\n        {\n          method: 'GET',\n        }\n      );\n\n      const data = await api.requestPromise(\n        `/projects/${organization.slug}/${project.slug}/codeowners/${codeowner.id}/`,\n        {\n          method: 'PUT',\n          data: {raw: codeownerFile.raw},\n        }\n      );\n      onUpdate({...codeowner, ...data});\n      addSuccessMessage(t('CODEOWNERS file sync successful.'));\n    } catch (_err) {\n      addErrorMessage(t('An error occurred trying to sync CODEOWNERS file.'));\n    }\n  };\n  render() {\n    const {codeowners, disabled} = this.props;\n    return codeowners.map(codeowner => {\n      const {dateUpdated, provider, codeMapping, ownershipSyntax} = codeowner;\n      return (\n        <Fragment key={codeowner.id}>\n          <RulesPanel\n            data-test-id=\"codeowners-panel\"\n            type=\"codeowners\"\n            raw={ownershipSyntax || ''}\n            dateUpdated={dateUpdated}\n            provider={provider}\n            repoName={codeMapping?.repoName}\n            controls={[\n              <Button\n                key=\"sync\"\n                icon={<IconSync size=\"xs\" />}\n                size=\"xs\"\n                onClick={() => this.handleSync(codeowner)}\n                disabled={disabled}\n                aria-label={t('Sync')}\n              />,\n              <Confirm\n                onConfirm={() => this.handleDelete(codeowner)}\n                message={t('Are you sure you want to remove this CODEOWNERS file?')}\n                key=\"confirm-delete\"\n                disabled={disabled}\n              >\n                <Button\n                  key=\"delete\"\n                  icon={<IconDelete size=\"xs\" />}\n                  aria-label={t('Delete')}\n                  size=\"xs\"\n                />\n              </Confirm>,\n            ]}\n          />\n        </Fragment>\n      );\n    });\n  }\n}\n\nexport default withApi(CodeOwnersPanel);\n","import {Fragment} from 'react';\nimport {RouteComponentProps} from 'react-router';\nimport styled from '@emotion/styled';\n\nimport {openEditOwnershipRules, openModal} from 'sentry/actionCreators/modal';\nimport Access from 'sentry/components/acl/access';\nimport Feature from 'sentry/components/acl/feature';\nimport {Alert} from 'sentry/components/alert';\nimport {Button} from 'sentry/components/button';\nimport Form from 'sentry/components/forms/form';\nimport JsonForm from 'sentry/components/forms/jsonForm';\nimport ExternalLink from 'sentry/components/links/externalLink';\nimport {t, tct} from 'sentry/locale';\nimport {space} from 'sentry/styles/space';\nimport {CodeOwner, IssueOwnership, Organization, Project} from 'sentry/types';\nimport routeTitleGen from 'sentry/utils/routeTitle';\nimport AsyncView from 'sentry/views/asyncView';\nimport SettingsPageHeader from 'sentry/views/settings/components/settingsPageHeader';\nimport PermissionAlert from 'sentry/views/settings/project/permissionAlert';\nimport AddCodeOwnerModal from 'sentry/views/settings/project/projectOwnership/addCodeOwnerModal';\nimport CodeOwnersPanel from 'sentry/views/settings/project/projectOwnership/codeowners';\nimport RulesPanel from 'sentry/views/settings/project/projectOwnership/rulesPanel';\n\ntype Props = {\n  organization: Organization;\n  project: Project;\n} & RouteComponentProps<{projectId: string}, {}>;\n\ntype State = {\n  codeowners?: CodeOwner[];\n  ownership?: null | IssueOwnership;\n} & AsyncView['state'];\n\nclass ProjectOwnership extends AsyncView<Props, State> {\n  getTitle() {\n    const {project} = this.props;\n    return routeTitleGen(t('Issue Owners'), project.slug, false);\n  }\n\n  getEndpoints(): ReturnType<AsyncView['getEndpoints']> {\n    const {organization, project} = this.props;\n    const endpoints: ReturnType<AsyncView['getEndpoints']> = [\n      ['ownership', `/projects/${organization.slug}/${project.slug}/ownership/`],\n    ];\n    if (organization.features.includes('integrations-codeowners')) {\n      endpoints.push([\n        'codeowners',\n        `/projects/${organization.slug}/${project.slug}/codeowners/`,\n        {query: {expand: ['codeMapping', 'ownershipSyntax']}},\n      ]);\n    }\n    return endpoints;\n  }\n\n  handleAddCodeOwner = () => {\n    openModal(modalProps => (\n      <AddCodeOwnerModal\n        {...modalProps}\n        organization={this.props.organization}\n        project={this.props.project}\n        onSave={this.handleCodeOwnerAdded}\n      />\n    ));\n  };\n\n  getPlaceholder() {\n    return `#example usage\npath:src/example/pipeline/* person@sentry.io #infra\nmodule:com.module.name.example #sdks\nurl:http://example.com/settings/* #product\ntags.sku_class:enterprise #enterprise`;\n  }\n\n  getDetail() {\n    return tct(\n      `Auto-assign issues to users and teams. To learn more, [link:read the docs].`,\n      {\n        link: (\n          <ExternalLink href=\"https://docs.sentry.io/product/error-monitoring/issue-owners/\" />\n        ),\n      }\n    );\n  }\n\n  handleOwnershipSave = (text: string | null) => {\n    this.setState(prevState => ({\n      ...(prevState.ownership\n        ? {\n            ownership: {\n              ...prevState.ownership,\n              raw: text || '',\n            },\n          }\n        : {}),\n    }));\n  };\n\n  handleCodeOwnerAdded = (data: CodeOwner) => {\n    const {codeowners} = this.state;\n    const newCodeowners = [data, ...(codeowners || [])];\n    this.setState({codeowners: newCodeowners});\n  };\n\n  handleCodeOwnerDeleted = (data: CodeOwner) => {\n    const {codeowners} = this.state;\n    const newCodeowners = (codeowners || []).filter(\n      codeowner => codeowner.id !== data.id\n    );\n    this.setState({codeowners: newCodeowners});\n  };\n\n  handleCodeOwnerUpdated = (data: CodeOwner) => {\n    const codeowners = this.state.codeowners || [];\n    const index = codeowners.findIndex(item => item.id === data.id);\n    this.setState({\n      codeowners: [...codeowners.slice(0, index), data, ...codeowners.slice(index + 1)],\n    });\n  };\n\n  renderCodeOwnerErrors = () => {\n    const {project, organization} = this.props;\n    const {codeowners} = this.state;\n\n    const errMessageComponent = (message, values, link, linkValue) => (\n      <Fragment>\n        <ErrorMessageContainer>\n          <span>{message}</span>\n          <b>{values.join(', ')}</b>\n        </ErrorMessageContainer>\n        <ErrorCtaContainer>\n          <ExternalLink href={link}>{linkValue}</ExternalLink>\n        </ErrorCtaContainer>\n      </Fragment>\n    );\n\n    const errMessageListComponent = (\n      message: string,\n      values: string[],\n      linkFunction: (s: string) => string,\n      linkValueFunction: (s: string) => string\n    ) => {\n      return (\n        <Fragment>\n          <ErrorMessageContainer>\n            <span>{message}</span>\n          </ErrorMessageContainer>\n          <ErrorMessageListContainer>\n            {values.map((value, index) => (\n              <ErrorInlineContainer key={index}>\n                <b>{value}</b>\n                <ErrorCtaContainer>\n                  <ExternalLink href={linkFunction(value)} key={index}>\n                    {linkValueFunction(value)}\n                  </ExternalLink>\n                </ErrorCtaContainer>\n              </ErrorInlineContainer>\n            ))}\n          </ErrorMessageListContainer>\n        </Fragment>\n      );\n    };\n\n    return (codeowners || [])\n      .filter(({errors}) => Object.values(errors).flat().length)\n      .map(({id, codeMapping, errors}) => {\n        const errMessage = (type, values) => {\n          switch (type) {\n            case 'missing_external_teams':\n              return errMessageComponent(\n                `The following teams do not have an association in the organization: ${organization.slug}`,\n                values,\n                `/settings/${organization.slug}/integrations/${codeMapping?.provider?.slug}/${codeMapping?.integrationId}/?tab=teamMappings`,\n                'Configure Team Mappings'\n              );\n\n            case 'missing_external_users':\n              return errMessageComponent(\n                `The following usernames do not have an association in the organization: ${organization.slug}`,\n                values,\n                `/settings/${organization.slug}/integrations/${codeMapping?.provider?.slug}/${codeMapping?.integrationId}/?tab=userMappings`,\n                'Configure User Mappings'\n              );\n\n            case 'missing_user_emails':\n              return errMessageComponent(\n                `The following emails do not have an Sentry user in the organization: ${organization.slug}`,\n                values,\n                `/settings/${organization.slug}/members/`,\n                'Invite Users'\n              );\n\n            case 'teams_without_access':\n              return errMessageListComponent(\n                `The following team do not have access to the project: ${project.slug}`,\n                values,\n                value =>\n                  `/settings/${organization.slug}/teams/${value.slice(1)}/projects/`,\n                value => `Configure ${value} Permissions`\n              );\n\n            case 'users_without_access':\n              return errMessageListComponent(\n                `The following users are not on a team that has access to the project: ${project.slug}`,\n                values,\n                email => `/settings/${organization.slug}/members/?query=${email}`,\n                _ => `Configure Member Settings`\n              );\n            default:\n              return null;\n          }\n        };\n        return (\n          <Alert\n            key={id}\n            type=\"error\"\n            showIcon\n            expand={[\n              <AlertContentContainer key=\"container\">\n                {Object.entries(errors)\n                  .filter(([_, values]) => values.length)\n                  .map(([type, values]) => (\n                    <ErrorContainer key={`${id}-${type}`}>\n                      {errMessage(type, values)}\n                    </ErrorContainer>\n                  ))}\n              </AlertContentContainer>,\n            ]}\n          >\n            {`There were ${\n              Object.values(errors).flat().length\n            } ownership issues within Sentry on the latest sync with the CODEOWNERS file`}\n          </Alert>\n        );\n      });\n  };\n  renderBody() {\n    const {project, organization} = this.props;\n    const {ownership, codeowners} = this.state;\n\n    const disabled = !organization.access.includes('project:write');\n\n    return (\n      <Fragment>\n        <SettingsPageHeader\n          title={t('Issue Owners')}\n          action={\n            <Fragment>\n              <Button\n                to={{\n                  pathname: `/organizations/${organization.slug}/issues/`,\n                  query: {project: project.id},\n                }}\n                size=\"sm\"\n              >\n                {t('View Issues')}\n              </Button>\n              <Feature features={['integrations-codeowners']}>\n                <Access access={['org:integrations']}>\n                  {({hasAccess}) =>\n                    hasAccess ? (\n                      <CodeOwnerButton\n                        onClick={this.handleAddCodeOwner}\n                        size=\"sm\"\n                        priority=\"primary\"\n                        data-test-id=\"add-codeowner-button\"\n                      >\n                        {t('Add CODEOWNERS')}\n                      </CodeOwnerButton>\n                    ) : null\n                  }\n                </Access>\n              </Feature>\n            </Fragment>\n          }\n        />\n        <IssueOwnerDetails>{this.getDetail()}</IssueOwnerDetails>\n\n        <PermissionAlert />\n        {this.renderCodeOwnerErrors()}\n        {ownership && (\n          <RulesPanel\n            data-test-id=\"issueowners-panel\"\n            type=\"issueowners\"\n            raw={ownership.raw || ''}\n            dateUpdated={ownership.lastUpdated}\n            placeholder={this.getPlaceholder()}\n            controls={[\n              <Button\n                key=\"edit\"\n                size=\"xs\"\n                onClick={() =>\n                  openEditOwnershipRules({\n                    organization,\n                    project,\n                    ownership,\n                    onSave: this.handleOwnershipSave,\n                  })\n                }\n                disabled={disabled}\n              >\n                {t('Edit')}\n              </Button>,\n            ]}\n          />\n        )}\n        <Feature features={['integrations-codeowners']}>\n          <CodeOwnersPanel\n            codeowners={codeowners || []}\n            onDelete={this.handleCodeOwnerDeleted}\n            onUpdate={this.handleCodeOwnerUpdated}\n            disabled={disabled}\n            {...this.props}\n          />\n        </Feature>\n        {ownership && (\n          <Form\n            apiEndpoint={`/projects/${organization.slug}/${project.slug}/ownership/`}\n            apiMethod=\"PUT\"\n            saveOnBlur\n            initialData={{\n              fallthrough: ownership.fallthrough,\n              autoAssignment: ownership.autoAssignment,\n              codeownersAutoSync: ownership.codeownersAutoSync,\n            }}\n            hideFooter\n          >\n            <JsonForm\n              forms={[\n                {\n                  title: t('Issue Owners'),\n                  fields: [\n                    {\n                      name: 'autoAssignment',\n                      type: 'choice',\n                      label: t('Prioritize Auto Assignment'),\n                      help: t(\n                        \"When there's a conflict between suspect commit and ownership rules.\"\n                      ),\n                      choices: [\n                        [\n                          'Auto Assign to Suspect Commits',\n                          t('Auto-assign to suspect commits'),\n                        ],\n                        ['Auto Assign to Issue Owner', t('Auto-assign to issue owner')],\n                        ['Turn off Auto-Assignment', t('Turn off auto-assignment')],\n                      ],\n                      disabled,\n                    },\n                    ...(organization.features.includes('issue-alert-fallback-targeting')\n                      ? []\n                      : [\n                          {\n                            name: 'fallthrough',\n                            type: 'boolean' as const,\n                            label: t(\n                              'Send alert to project members if there’s no assigned owner'\n                            ),\n                            help: t(\n                              'Alerts will be sent to all users who have access to this project.'\n                            ),\n                            disabled,\n                          },\n                        ]),\n                    {\n                      name: 'codeownersAutoSync',\n                      type: 'boolean',\n                      label: t('Sync changes from CODEOWNERS'),\n                      help: t(\n                        'We’ll update any changes you make to your CODEOWNERS files during a release.'\n                      ),\n                      disabled: disabled || !(this.state.codeowners || []).length,\n                    },\n                  ],\n                },\n              ]}\n            />\n          </Form>\n        )}\n      </Fragment>\n    );\n  }\n}\n\nexport default ProjectOwnership;\n\nconst CodeOwnerButton = styled(Button)`\n  margin-left: ${space(1)};\n`;\n\nconst AlertContentContainer = styled('div')`\n  overflow-y: auto;\n  max-height: 350px;\n`;\n\nconst ErrorContainer = styled('div')`\n  display: grid;\n  grid-template-areas: 'message cta';\n  grid-template-columns: 2fr 1fr;\n  gap: ${space(2)};\n  padding: ${space(1.5)} 0;\n`;\n\nconst ErrorInlineContainer = styled(ErrorContainer)`\n  gap: ${space(1.5)};\n  grid-template-columns: 1fr 2fr;\n  align-items: center;\n  padding: 0;\n`;\n\nconst ErrorMessageContainer = styled('div')`\n  grid-area: message;\n  display: grid;\n  gap: ${space(1.5)};\n`;\n\nconst ErrorMessageListContainer = styled('div')`\n  grid-column: message / cta-end;\n  gap: ${space(1.5)};\n`;\n\nconst ErrorCtaContainer = styled('div')`\n  grid-area: cta;\n  justify-self: flex-end;\n  text-align: right;\n  line-height: 1.5;\n`;\n\nconst IssueOwnerDetails = styled('div')`\n  padding-bottom: ${space(3)};\n`;\n"],"names":["routeName","orgSlug","withSentry","projectSlug","tmplBase","tmpl","AsyncView","AsyncComponent","getTitle","render","title","this","renderComponent","PermissionAlert","access","props","hasAccess","type","t","AddCodeOwnerModal","async","organization","setState","codeMappingId","codeownersFile","error","errorJSON","isLoading","data","api","requestPromise","slug","method","_err","project","codeMappings","state","postData","raw","codeMapping","find","mapping","id","toString","handleAddedFile","err","responseJSON","addErrorMessage","Object","values","flat","join","getDefaultState","super","getEndpoints","query","features","onSave","closeModal","sourceFile","SourceFileBody","size","isCircled","color","filepath","href","html_url","external","errorMessage","baseUrl","integrationId","provider","errActors","split","map","el","i","showIcon","tct","userMappingsLink","to","key","teamMappingsLink","addAndSkip","noSourceFile","Container","mini","NoSourceFileBody","Fragment","renderBody","Header","Body","Footer","integrations","closeButton","length","IntegrationsList","integration","getIntegrationIcon","IntegrationName","name","style","paddingTop","space","priority","apiMethod","apiEndpoint","hideFooter","initialData","StyledSelectField","label","options","cm","value","repoName","onChange","fetchFile","required","inline","flexibleControlStateSize","stacked","FileResult","disabled","onClick","addFile","SelectField","PanelBody","RulesPanel","dateUpdated","placeholder","controls","dataTestId","hasButtons","renderIcon","renderTitle","SyncDate","date","InnerPanelBody","StyledTextArea","monospace","readOnly","spellCheck","autoComplete","autoCorrect","autoCapitalize","TextArea","CodeOwnersPanel","Component","onDelete","endpoint","codeowner","addSuccessMessage","onUpdate","codeownerFile","codeowners","ownershipSyntax","icon","handleSync","onConfirm","handleDelete","message","withApi","ProjectOwnership","openModal","modalProps","handleCodeOwnerAdded","text","prevState","ownership","newCodeowners","filter","index","findIndex","item","slice","errMessageComponent","link","linkValue","ErrorMessageContainer","ErrorCtaContainer","errMessageListComponent","linkFunction","linkValueFunction","ErrorMessageListContainer","ErrorInlineContainer","errors","errMessage","email","_","expand","AlertContentContainer","entries","ErrorContainer","routeTitleGen","endpoints","includes","push","getPlaceholder","getDetail","action","pathname","CodeOwnerButton","handleAddCodeOwner","IssueOwnerDetails","renderCodeOwnerErrors","lastUpdated","openEditOwnershipRules","handleOwnershipSave","handleCodeOwnerDeleted","handleCodeOwnerUpdated","saveOnBlur","fallthrough","autoAssignment","codeownersAutoSync","forms","fields","help","choices","Button"],"sourceRoot":""}