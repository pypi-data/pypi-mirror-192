{"version":3,"file":"chunks/app_components_modals_reprocessEventModal_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"mzBAoBO,SAASA,EAAuB,GAMW,IANX,OACrCC,EAAM,KACNC,EAAI,aACJC,EAAY,WACZC,EAAU,QACVC,GAC8C,EAC9C,MAAOC,EAAWC,IAAgBC,EAAAA,EAAAA,eAA6BC,GAO/D,OACE,QAAC,EAAAC,SAAQ,YACP,QAACT,EAAM,CAACU,aAAW,YACjB,wBAAKC,EAAAA,EAAAA,GAAE,yBAET,QAACV,EAAI,YACH,QAACW,EAAY,WACVD,EAAAA,EAAAA,GACC,mHAGJ,QAACE,EAAU,CAACC,OAAO,SAAQ,WACzB,QAAC,IAAQ,WACNC,EAAAA,EAAAA,IACC,+IACA,CAACC,QAAQ,0BAGb,QAAC,IAAQ,WACND,EAAAA,EAAAA,IACC,qJACA,CACEC,QAAQ,qBACRC,MACE,QAAC,IAAY,CAACC,KAAK,yGAK3B,QAAC,IAAQ,WACNP,EAAAA,EAAAA,GACC,+FAIN,QAACC,EAAY,WACVG,EAAAA,EAAAA,IAAI,kEAAmE,CACtEE,MACE,QAAC,IAAY,CAACC,KAAK,uEAIzB,QAAC,IAAI,CACHC,aAAaR,EAAAA,EAAAA,GAAE,oBACfS,YAAc,kBAAiBlB,EAAamB,eAAejB,kBAC3DkB,UAAU,OACVC,YAAa,CAAClB,eAAWG,EAAWgB,gBAAiB,QACrDC,gBApDR,WACEtB,IACAuB,OAAOC,SAASC,QAClB,EAkDQC,cAAe,KACbC,EAAAA,EAAAA,KAAgBnB,EAAAA,EAAAA,GAAE,kDAEpBoB,SAAU5B,EACV6B,YAAY,eAAc,WAE1B,QAAC,IAAW,CACVC,KAAK,YACLC,OAAOvB,EAAAA,EAAAA,GAAE,sCACTwB,MAAMxB,EAAAA,EAAAA,GAAE,kEACRyB,aAAazB,EAAAA,EAAAA,GAAE,wBACf0B,SAAUC,GAAShC,EAAciC,MAAMD,QAAyB9B,EAAhBgC,OAAOF,IACvDG,IAAK,KAGP,QAAC,IAAU,CACTC,cAAY,EACZR,OAAOvB,EAAAA,EAAAA,GAAE,oBACTwB,MAAMxB,EAAAA,EAAAA,GAAE,wDACRsB,KAAK,kBACLU,QAAS,CACP,CAAC,QAAQhC,EAAAA,EAAAA,GAAE,SACX,CAAC,UAAUA,EAAAA,EAAAA,GAAE,YAEfiC,cAAwBpC,IAAdH,YAMtB,CA5FgBN,EAAsB,qCA8FtC,MAAMa,GAAe,OAAO,IAAG,qBAAV,CAAW,cACjBiC,GAAKA,EAAEC,MAAMC,eAAa,KAGnClC,GAAa,OAAOmC,EAAAA,EAAI,qBAAX,CAAY,QACtBC,EAAAA,EAAAA,GAAM,GAAE,mBACEA,EAAAA,EAAAA,GAAM,GAAE,eACZJ,GAAKA,EAAEC,MAAMI,gBAAc,I","sources":["webpack:///./app/components/modals/reprocessEventModal.tsx"],"sourcesContent":["import {Fragment, useState} from 'react';\nimport styled from '@emotion/styled';\n\nimport {addErrorMessage} from 'sentry/actionCreators/indicator';\nimport {ModalRenderProps} from 'sentry/actionCreators/modal';\nimport NumberField from 'sentry/components/forms/fields/numberField';\nimport RadioField from 'sentry/components/forms/fields/radioField';\nimport Form from 'sentry/components/forms/form';\nimport ExternalLink from 'sentry/components/links/externalLink';\nimport List from 'sentry/components/list';\nimport ListItem from 'sentry/components/list/listItem';\nimport {t, tct} from 'sentry/locale';\nimport {space} from 'sentry/styles/space';\nimport {Group, Organization} from 'sentry/types';\n\nexport type ReprocessEventModalOptions = {\n  groupId: Group['id'];\n  organization: Organization;\n};\n\nexport function ReprocessingEventModal({\n  Header,\n  Body,\n  organization,\n  closeModal,\n  groupId,\n}: ModalRenderProps & ReprocessEventModalOptions) {\n  const [maxEvents, setMaxEvents] = useState<number | undefined>(undefined);\n\n  function handleSuccess() {\n    closeModal();\n    window.location.reload();\n  }\n\n  return (\n    <Fragment>\n      <Header closeButton>\n        <h4>{t('Reprocess Events')}</h4>\n      </Header>\n      <Body>\n        <Introduction>\n          {t(\n            'Reprocessing applies new debug files and grouping enhancements to this Issue. Please consider these impacts:'\n          )}\n        </Introduction>\n        <StyledList symbol=\"bullet\">\n          <ListItem>\n            {tct(\n              \"[strong:Quota applies.] Every event you choose to reprocess counts against your plan's quota. Rate limits and spike protection do not apply.\",\n              {strong: <strong />}\n            )}\n          </ListItem>\n          <ListItem>\n            {tct(\n              '[strong:Attachment storage required.] If your events come from minidumps or unreal crash reports, you must have [link:attachment storage] enabled.',\n              {\n                strong: <strong />,\n                link: (\n                  <ExternalLink href=\"https://docs.sentry.io/platforms/native/enriching-events/attachments/#crash-reports-and-privacy\" />\n                ),\n              }\n            )}\n          </ListItem>\n          <ListItem>\n            {t(\n              'Please wait one hour after upload before attempting to reprocess missing debug files.'\n            )}\n          </ListItem>\n        </StyledList>\n        <Introduction>\n          {tct('For more information, please refer to [link:the documentation.]', {\n            link: (\n              <ExternalLink href=\"https://docs.sentry.io/product/error-monitoring/reprocessing/\" />\n            ),\n          })}\n        </Introduction>\n        <Form\n          submitLabel={t('Reprocess Events')}\n          apiEndpoint={`/organizations/${organization.slug}/issues/${groupId}/reprocessing/`}\n          apiMethod=\"POST\"\n          initialData={{maxEvents: undefined, remainingEvents: 'keep'}}\n          onSubmitSuccess={handleSuccess}\n          onSubmitError={() =>\n            addErrorMessage(t('Failed to reprocess. Please check your input.'))\n          }\n          onCancel={closeModal}\n          footerClass=\"modal-footer\"\n        >\n          <NumberField\n            name=\"maxEvents\"\n            label={t('Number of events to be reprocessed')}\n            help={t('If you set a limit, we will reprocess your most recent events.')}\n            placeholder={t('Reprocess all events')}\n            onChange={value => setMaxEvents(!isNaN(value) ? Number(value) : undefined)}\n            min={1}\n          />\n\n          <RadioField\n            orientInline\n            label={t('Remaining events')}\n            help={t('What to do with the events that are not reprocessed.')}\n            name=\"remainingEvents\"\n            choices={[\n              ['keep', t('Keep')],\n              ['delete', t('Delete')],\n            ]}\n            disabled={maxEvents === undefined}\n          />\n        </Form>\n      </Body>\n    </Fragment>\n  );\n}\n\nconst Introduction = styled('p')`\n  font-size: ${p => p.theme.fontSizeLarge};\n`;\n\nconst StyledList = styled(List)`\n  gap: ${space(1)};\n  margin-bottom: ${space(4)};\n  font-size: ${p => p.theme.fontSizeMedium};\n`;\n"],"names":["ReprocessingEventModal","Header","Body","organization","closeModal","groupId","maxEvents","setMaxEvents","useState","undefined","Fragment","closeButton","t","Introduction","StyledList","symbol","tct","strong","link","href","submitLabel","apiEndpoint","slug","apiMethod","initialData","remainingEvents","onSubmitSuccess","window","location","reload","onSubmitError","addErrorMessage","onCancel","footerClass","name","label","help","placeholder","onChange","value","isNaN","Number","min","orientInline","choices","disabled","p","theme","fontSizeLarge","List","space","fontSizeMedium"],"sourceRoot":""}