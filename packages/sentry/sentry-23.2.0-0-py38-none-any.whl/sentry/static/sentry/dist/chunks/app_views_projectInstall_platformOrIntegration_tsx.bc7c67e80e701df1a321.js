"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_projectInstall_platformOrIntegration_tsx"],{"./app/views/projectInstall/platformOrIntegration.tsx":(t,e,i)=>{i.r(e),i.d(e,{default:()=>ft});var r=i("../node_modules/query-string/index.js"),n=i("./app/utils/integrationUtil.tsx"),o=i("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),a=i("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=(i("../node_modules/core-js/modules/es.array.push.js"),i("../node_modules/core-js/modules/es.array.includes.js"),i("../node_modules/react/index.js")),l=i("../node_modules/react-router/es/index.js"),d=i("./app/actionCreators/projects.tsx"),p=i("./app/components/acl/feature.tsx"),c=i("./app/components/alert.tsx"),m=i("./app/components/button.tsx"),g=i("./app/components/buttonBar.tsx"),u=i("./app/components/errors/notFound.tsx"),h=i("./app/components/loadingError.tsx"),f=i("./app/components/loadingIndicator.tsx"),Z=i("./app/components/sentryDocumentTitle.tsx"),x=i("./app/data/platformCategories.tsx"),y=i("./app/data/platforms.tsx"),w=i("./app/icons/index.tsx"),b=i("./app/locale.tsx"),v=i("./app/styles/space.tsx"),k=i("./app/utils/projects.tsx"),z=i("./app/utils/withApi.tsx"),j=i("./app/utils/withDomainRequired.tsx"),D=i("./app/utils/withOrganization.tsx"),I=i("./app/views/onboarding/components/heartbeatFooter/index.tsx"),_=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class S extends s.Component{constructor(){super(...arguments),(0,o.Z)(this,"state",{loading:!0,error:!1,html:""}),(0,o.Z)(this,"fetchData",(async()=>{const{api:t,organization:e,params:i}=this.props,{projectId:r,platform:n}=i;this.setState({loading:!0});try{const{html:i}=await(0,d.iC)(t,e.slug,r,n);this.setState({html:i})}catch(t){this.setState({error:t})}this.setState({loading:!1})}))}componentDidMount(){this.fetchData(),window.scrollTo(0,0);const{platform:t}=this.props.params;t&&"other"!==t||this.redirectToNeutralDocs()}get isGettingStarted(){return window.location.href.indexOf("getting-started")>0}redirectToNeutralDocs(){const{organization:t}=this.props,{projectId:e}=this.props.params,i=`/organizations/${t.slug}/projects/${e}/getting-started/`;l.browserHistory.push((0,j.D)(i))}render(){const{params:t,organization:e}=this.props,{projectId:i}=t,r=y.Z.find((e=>e.id===t.platform));if(!r)return(0,_.tZ)(u.Z,{});const n=`/organizations/${e.slug}/issues/`,o=`/organizations/${e.slug}/performance/`,a=`/organizations/${e.slug}/projects/${i}/getting-started/`,l=r.link??void 0,d=x.Sv.includes(r.id),v=!!e?.features.includes("onboarding-heartbeat-footer");return(0,_.BX)(s.Fragment,{children:[(0,_.BX)($,{children:[(0,_.tZ)("h2",{children:(0,b.t)("Configure %(platform)s",{platform:r.name})}),(0,_.BX)(g.ZP,{gap:1,children:[(0,_.tZ)(m.zx,{icon:(0,_.tZ)(w.g6,{direction:"left",size:"sm"}),size:"sm",to:a,children:(0,b.t)("Back")}),(0,_.tZ)(m.zx,{size:"sm",href:l,external:!0,children:(0,b.t)("Full Documentation")})]})]}),(0,_.BX)("div",{children:[(0,_.tZ)(c.bZ,{type:"info",showIcon:!0,children:(0,b._N)("\n             This is a quick getting started guide. For in-depth instructions\n             on integrating Sentry with [platform], view\n             [docLink:our complete documentation].",{platform:r.name,docLink:(0,_.tZ)("a",{href:l})})}),this.state.loading?(0,_.tZ)(f.Z,{}):this.state.error?(0,_.tZ)(h.Z,{onRetry:this.fetchData}):(0,_.BX)(s.Fragment,{children:[(0,_.tZ)(Z.Z,{title:`${(0,b.t)("Configure")} ${r.name}`,projectSlug:i}),(0,_.tZ)(B,{dangerouslySetInnerHTML:{__html:this.state.html}})]}),this.isGettingStarted&&d&&(0,_.tZ)(p.Z,{features:["performance-view"],hookName:"feature-disabled:performance-new-project",children:t=>{let{hasFeature:e}=t;return e?null:(0,_.tZ)(C,{type:"info",showIcon:!0,children:(0,b.t)("Your selected platform supports performance, but your organization does not have performance enabled.")})}}),this.isGettingStarted&&v?(0,_.tZ)(I.N,{projectSlug:i,route:this.props.route,router:this.props.router,location:this.props.location}):(0,_.tZ)(k.Z,{orgId:e.slug,slugs:[i],passthroughPlaceholderProject:!1,children:t=>{let{projects:e,initiallyLoaded:i,fetching:r,fetchError:a}=t;const s=!i&&r,l=s||a||!e.length?{}:{project:e[0].id};return(0,_.BX)(P,{gap:1,children:[(0,_.tZ)(m.zx,{priority:"primary",busy:s,to:{pathname:n,query:l,hash:"#welcome"},children:(0,b.t)("Take me to Issues")}),(0,_.tZ)(m.zx,{busy:s,to:{pathname:o,query:l},children:(0,b.t)("Take me to Performance")})]})}},`${e.slug}-${i}`)]})]})}}S.displayName="ProjectInstallPlatform";const B=(0,a.Z)("div",{target:"e1f5kh8r3"})("line-height:1.5;.gatsby-highlight{margin-bottom:",(0,v.D)(3),";&:last-child{margin-bottom:0;}}.alert{margin-bottom:",(0,v.D)(3),";border-radius:",(t=>t.theme.borderRadius),";}blockquote{padding:",(0,v.D)(1),";margin-left:0;background:",(t=>t.theme.alert.info.backgroundLight),";border-left:2px solid ",(t=>t.theme.alert.info.border),";}blockquote>*:last-child{margin-bottom:0;}"),P=(0,a.Z)(g.ZP,{target:"e1f5kh8r2"})("margin-top:",(0,v.D)(3),";width:max-content;@media (max-width: ",(t=>t.theme.breakpoints.small),"){width:auto;grid-row-gap:",(0,v.D)(1),";grid-auto-flow:row;}"),$=(0,a.Z)("div",{target:"e1f5kh8r1"})("display:flex;justify-content:space-between;margin-bottom:",(0,v.D)(3),";h2{margin:0;}@media (max-width: ",(t=>t.theme.breakpoints.small),"){flex-direction:column;align-items:flex-start;h2{margin-bottom:",(0,v.D)(2),";}}"),C=(0,a.Z)(c.bZ,{target:"e1f5kh8r0"})("margin-top:",(0,v.D)(2),";"),T=(0,z.Z)((0,D.Z)(S));var F=i("./app/components/asyncComponent.tsx"),N=i("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),X=i("./app/views/onboarding/components/integrations/addInstallationInstructions.tsx"),E=i("./app/views/onboarding/components/integrations/postInstallCodeSnippet.tsx"),L=i("./app/views/settings/organizationIntegrations/addIntegrationButton.tsx"),q=i("../node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs"),A=i("../node_modules/framer-motion/dist/es/render/dom/motion.mjs"),M=i("./app/styles/pulsingIndicator.tsx"),O=i("./app/utils/eventWaiter.tsx"),H=i("./app/utils/testableTransition.tsx");const G=t=>{let{children:e,...i}=t;return(0,_.tZ)(O.Z,{...i,children:t=>{let{firstIssue:r}=t;return e({indicator:(0,_.tZ)(R,{firstIssue:r,...i}),firstEventButton:(0,_.tZ)(m.zx,{title:(0,b.t)("You'll need to send your first error to continue"),tooltipProps:{disabled:!!r},disabled:!r,priority:"primary",onClick:()=>(0,N.Z)("growth.onboarding_take_to_error",{organization:i.organization}),to:`/organizations/${i.organization.slug}/issues/${r&&!0!==r&&"id"in r?`${r.id}/`:""}?referrer=onboarding-first-event-indicator`,children:(0,b.t)("Take me to my error")})})}})};G.displayName="FirstEventIndicator";const R=t=>{let{firstIssue:e}=t;return(0,_.tZ)(V,{children:(0,_.tZ)(q.M,{children:e?(0,_.tZ)(Y,{},"received"):(0,_.tZ)(K,{},"waiting")})})};R.displayName="Indicator";const V=(0,a.Z)("div",{target:"e10tfv734"})({name:"qu0prw",styles:"display:grid;grid-template-columns:1fr;justify-content:right"}),W=(0,a.Z)(A.E.div,{target:"e10tfv733"})("display:grid;grid-template-columns:1fr max-content;gap:",(0,v.D)(1),";align-items:center;font-size:",(t=>t.theme.fontSizeMedium),";grid-column:1;grid-row:1;");W.defaultProps={initial:"initial",animate:"animate",exit:"exit",variants:{initial:{opacity:0,y:-10},animate:{opacity:1,y:0,transition:(0,H.Z)({when:"beforeChildren",staggerChildren:.35})},exit:{opacity:0,y:10}}};const K=t=>(0,_.BX)(W,{...t,children:[(0,_.tZ)(U,{children:(0,b.t)("Waiting to receive first event to continue")}),(0,_.tZ)(Q,{})]});K.displayName="Waiting";const Y=t=>(0,_.BX)(W,{...t,children:[(0,_.tZ)(U,{children:(0,b.t)("Event was received!")}),(0,_.tZ)(tt,{})]});Y.displayName="Success";const J={initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10}},U=(0,a.Z)(A.E.div,{target:"e10tfv732"})("");U.defaultProps={variants:J,transition:(0,H.Z)()};const Q=(0,a.Z)(A.E.div,{target:"e10tfv731"})("margin:0 6px;",M.Z,";");Q.defaultProps={variants:J,transition:(0,H.Z)()};const tt=(0,a.Z)(w.DL,{target:"e10tfv730"})("color:#fff;background:",(t=>t.theme.green300),";border-radius:50%;padding:3px;margin:0 ",(0,v.D)(.25),";");tt.defaultProps={size:"sm"};const et=G;var it=i("./app/views/onboarding/createSampleEventButton.tsx");function rt(t){let{organization:e,project:i,docsLink:r,docsOnClick:n}=t;return(0,_.BX)(s.Fragment,{children:[(0,_.tZ)(et,{organization:e,project:i,eventType:"error",children:t=>{let{indicator:e,firstEventButton:i}=t;return(0,_.BX)(nt,{children:[(0,_.BX)(at,{gap:2,children:[i,(0,_.tZ)(m.zx,{external:!0,href:r,onClick:n,children:(0,b.t)("View full documentation")})]}),e]})}}),(0,_.tZ)(ot,{children:(0,b._N)("Just want to poke around before getting too cozy with the SDK? [sample:View a sample event for this SDK] or [skip:finish setup later].",{sample:(0,_.tZ)(it.Z,{"aria-label":"View a sample event",project:i,source:"onboarding",priority:"link"}),skip:(0,_.tZ)(m.zx,{priority:"link",href:"/","aria-label":(0,b.t)("Finish setup later")})})})]})}rt.displayName="FirstEventFooter";const nt=(0,a.Z)("div",{target:"eehhgoe2"})("display:flex;justify-content:space-between;margin:",(0,v.D)(2)," 0;margin-top:",(0,v.D)(4),";"),ot=(0,a.Z)("p",{target:"eehhgoe1"})("color:",(t=>t.theme.subText),";font-size:",(t=>t.theme.fontSizeMedium),";margin:0;max-width:500px;"),at=(0,a.Z)(g.ZP,{target:"eehhgoe0"})({name:"14dyr8n",styles:"display:inline-grid;justify-self:start"});function st(t){let{gettingStartedLink:e,docsLink:i}=t;return(0,_.BX)(g.ZP,{gap:1,children:[(0,_.tZ)(m.zx,{size:"sm",icon:(0,_.tZ)(w.g6,{size:"xs",direction:"left"}),to:e,children:(0,b.t)("Back")}),(0,_.tZ)(m.zx,{size:"sm",href:i,external:!0,children:(0,b.t)("Full Documentation")})]})}st.displayName="PlatformHeaderButtonBar";class lt extends F.Z{constructor(){super(...arguments),(0,o.Z)(this,"handleFullDocsClick",(()=>{const{organization:t}=this.props;(0,N.Z)("growth.onboarding_view_full_docs",{organization:t})})),(0,o.Z)(this,"handleAddIntegration",(()=>{this.setState({installed:!0})})),(0,o.Z)(this,"trackSwitchToManual",(()=>{const{organization:t,integrationSlug:e}=this.props;(0,n.Db)("integrations.switch_manual_sdk_setup",{integration_type:"first_party",integration:e,view:"project_creation",organization:t})}))}getDefaultState(){return{...super.getDefaultState(),installed:!1,integrations:{providers:[]},project:null}}componentDidMount(){window.scrollTo(0,0);const{platform:t}=this.props.params;t&&"other"!==t||this.redirectToNeutralDocs()}get provider(){const{providers:t}=this.state.integrations;return t.length?t[0]:null}getEndpoints(){const{organization:t,integrationSlug:e,params:i}=this.props;return e?[["integrations",`/organizations/${t.slug}/config/integrations/?provider_key=${e}`],["project",`/projects/${t.slug}/${i.projectId}/`]]:[]}redirectToNeutralDocs(){const{organization:t}=this.props,{projectId:e}=this.props.params,i=`/organizations/${t.slug}/projects/${e}/getting-started/`;l.browserHistory.push((0,j.D)(i))}render(){const{organization:t,params:e}=this.props,{installed:i,project:r}=this.state,{projectId:n,platform:o}=e,a=this.provider,l=y.Z.find((t=>t.id===o));if(!a||!l||!r)return null;const d=`/organizations/${t.slug}/projects/${n}/getting-started/`,p="https://docs.sentry.io/product/integrations/cloud-monitoring/aws-lambda/";return(0,_.tZ)(ct,{children:(0,_.BX)(pt,{children:[(0,_.tZ)(gt,{children:(0,b.t)("Automatically instrument %s",l.name)}),(0,_.tZ)(mt,{children:(0,_.tZ)(st,{gettingStartedLink:d,docsLink:p})}),i?(0,_.BX)(s.Fragment,{children:[(0,_.tZ)(E.Z,{provider:a}),(0,_.tZ)(rt,{project:r,organization:t,docsLink:p,docsOnClick:this.handleFullDocsClick})]}):(0,_.BX)(s.Fragment,{children:[(0,_.tZ)(X.Z,{}),(0,_.BX)(dt,{gap:1,children:[(0,_.tZ)(L.w,{provider:a,onAddIntegration:this.handleAddIntegration,organization:t,priority:"primary",size:"sm",analyticsParams:{view:"project_creation",already_installed:!1},modalParams:{projectId:r.id},"aria-label":(0,b.t)("Add integration")}),(0,_.tZ)(m.zx,{size:"sm",to:{pathname:window.location.pathname,query:{manual:"1"}},onClick:this.trackSwitchToManual,children:(0,b.t)("Manual Setup")})]})]})]})})}}lt.displayName="PlatformIntegrationSetup";const dt=(0,a.Z)(g.ZP,{target:"e1o04xl64"})("margin-top:",(0,v.D)(3),";width:max-content;@media (max-width: ",(t=>t.theme.breakpoints.small),"){width:auto;grid-row-gap:",(0,v.D)(1),";grid-auto-flow:row;}"),pt=(0,a.Z)("div",{target:"e1o04xl63"})({name:"1ki15kq",styles:"max-width:850px"}),ct=(0,a.Z)("div",{target:"e1o04xl62"})({name:"10ebfcx",styles:"display:flex;flex-direction:column;align-items:center;margin-top:50px"}),mt=(0,a.Z)("div",{target:"e1o04xl61"})("width:min-content;margin-bottom:",(0,v.D)(3),";"),gt=(0,a.Z)("h2",{target:"e1o04xl60"})("margin:0;margin-bottom:",(0,v.D)(2),";"),ut=(0,D.Z)(lt),ht=t=>{const e=r.parse(window.location.search),{platform:i}=t.params,o=i&&n.C$[i];return o&&"1"!==e.manual?(0,_.tZ)(ut,{integrationSlug:o,...t}):(0,_.tZ)(T,{...t})};ht.displayName="PlatformOrIntegration";const ft=ht}}]);
//# sourceMappingURL=../sourcemaps/app_views_projectInstall_platformOrIntegration_tsx.5ae5ca52008cdf4a26874af0d741ebea.js.map