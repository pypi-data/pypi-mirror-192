(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_actionCreators_onboardingTasks_tsx-app_components_events_interfaces_utils_tsx-app_compone-5b8d71"],{"./app/actionCreators/discoverSavedQueries.tsx":(e,t,a)=>{"use strict";a.d(t,{EQ:()=>u,GH:()=>o,M6:()=>l,Yi:()=>i,qF:()=>d});var s=a("./app/actionCreators/indicator.tsx"),n=a("./app/api.tsx"),r=a("./app/locale.tsx");function i(e,t,a){const n=e.requestPromise(`/organizations/${t}/discover/saved/${a}/`,{method:"GET"});return n.catch((()=>{(0,s.Iw)((0,r.t)("Unable to load saved query"))})),n}function o(e,t,a){const n=e.requestPromise(`/organizations/${t}/discover/saved/`,{method:"POST",data:a});return n.catch((()=>{(0,s.Iw)((0,r.t)("Unable to create your saved query"))})),n}function l(e,t,a){const n=e.requestPromise(`/organizations/${t}/discover/saved/${a.id}/`,{method:"PUT",data:a});return n.catch((()=>{(0,s.Iw)((0,r.t)("Unable to update your saved query"))})),n}function u(e,t){return(new n.KU).requestPromise(`/organizations/${e}/discover/saved/${t}/visit/`,{method:"POST"})}function d(e,t,a){const n=e.requestPromise(`/organizations/${t}/discover/saved/${a}/`,{method:"DELETE"});return n.catch((()=>{(0,s.Iw)((0,r.t)("Unable to delete the saved query"))})),n}},"./app/actionCreators/onboardingTasks.tsx":(e,t,a)=>{"use strict";a.d(t,{T:()=>r});var s=a("./app/stores/configStore.tsx"),n=a("./app/stores/organizationStore.tsx");function r(e,t,a){null!==e&&e.requestPromise(`/organizations/${t.slug}/onboarding-tasks/`,{method:"POST",data:a});const r=t.onboardingTasks.find((e=>e.task===a.task)),i=s.Z.get("user"),o=r?t.onboardingTasks.map((e=>e.task===a.task?{...e,...a}:e)):[...t.onboardingTasks,{...a,user:i}];n.Z.onUpdate({onboardingTasks:o})}},"./app/components/events/interfaces/utils.tsx":(e,t,a)=>{"use strict";if(a.d(t,{Cy:()=>x,HW:()=>f,L2:()=>k,Pd:()=>T,Tg:()=>_,Y3:()=>D,ll:()=>y,mn:()=>h,yD:()=>b}),a("../node_modules/core-js/modules/es.error.cause.js"),a("../node_modules/core-js/modules/es.array.push.js"),"app"==a.j)var s=a("../node_modules/@sentry/core/esm/exports.js");var n=a("../node_modules/lodash/compact.js"),r=a.n(n),i=a("../node_modules/lodash/isString.js"),o=a.n(i),l=a("../node_modules/lodash/uniq.js"),u=a.n(l),d=a("../node_modules/query-string/index.js"),c=a("./app/constants/index.tsx"),p=a("./app/stores/configStore.tsx"),v=a("./app/utils.tsx"),g=a("./app/utils/fileExtension.tsx");function m(e){return e.replace(/(["$`\\])/g,"\\$1")}function y(e){let t="curl";(0,v.ri)(e.method)&&"GET"!==e.method&&(t+=" \\\n -X "+e.method);const a=e.headers?.find((e=>"Accept-Encoding"===e[0]&&-1!==e[1].indexOf("gzip")));a&&(t+=" \\\n --compressed");const n=e.headers?.sort((function(e,t){return e[0]===t[0]?0:e[0]<t[0]?-1:1}))??[];for(const e of n)t+=' \\\n -H "'+e[0]+": "+m(e[1]+"")+'"';if((0,v.ri)(e.data))switch(e.inferredContentType){case"application/json":t+=' \\\n --data "'+m(JSON.stringify(e.data))+'"';break;case"application/x-www-form-urlencoded":t+=' \\\n --data "'+m(d.stringify(e.data))+'"';break;default:o()(e.data)?t+=' \\\n --data "'+m(e.data)+'"':0===Object.keys(e.data).length||s.$e((t=>{t.setExtra("data",e),s.Tb(new Error("Unknown event data"))}))}return t+=' \\\n "'+h(e)+'"',t}function h(e){let t=e?.url;return t?(e?.query?.length&&(t+="?"+function(e){if(o()(e))return e;const t={};for(const a of e)if(null!==a&&2===a.length){const[e,s]=a;null!==s&&(Array.isArray(t[e])?t[e].push(s):t[e]=[s])}return d.stringify(t)}(e.query)),e.fragment&&(t+="#"+e.fragment),m(t)):t}function f(e){const t={};for(const a of Object.getOwnPropertyNames(e))e[a]!==c.Gj&&(t[a]=e[a]);return t}function _(e,t){return`0x${e.toString(16).padStart(t??0,"0")}`}function x(e){if(!e)return 0;try{return parseInt(e,16)||0}catch(e){return 0}}function T(e){const t=x(e?.image_addr);return[t,t+(e?.image_size||0)]}function b(e){let t,a,s,n;const r=e?e.split(","):[];return 4===r.length&&(t=r[0],a=r[1].split("Version=")[1],s=r[2].split("Culture=")[1],n=r[3].split("PublicKeyToken=")[1]),{name:t,version:a,culture:s,publicKeyToken:n}}function D(e,t){const a=u()(r()(t.map((e=>(0,g.m)(e.filename??"")))));return 1===a.length?(0,g._)(a[0])??e:e}function k(){const e=p.Z.get("user");if(!e)return!0;switch(e.options.stacktraceOrder){case 2:default:return!0;case 1:return!1}}},"./app/components/modals/dashboardWidgetQuerySelectorModal.tsx":(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>D,modalCss:()=>b});var s=a("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),n=a("../node_modules/react/index.js"),r=a("./app/components/button.tsx"),i=a("./app/components/input.tsx"),o=a("./app/components/links/link.tsx"),l=a("./app/icons/index.tsx"),u=a("./app/locale.tsx"),d=a("./app/styles/space.tsx"),c=a("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),p=a("./app/utils/withApi.tsx"),v=a("./app/utils/withPageFilters.tsx"),g=a("./app/views/dashboards/utils.tsx"),m=a("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class y extends n.Component{renderQueries(){const{organization:e,widget:t,selection:a,isMetricsData:s}=this.props;return t.queries.map(((r,i)=>{const d=(0,g.z1)({...t,queries:[r]},a,e,0,s);return(0,m.tZ)(n.Fragment,{children:(0,m.BX)(f,{children:[(0,m.BX)(x,{children:[(0,m.tZ)(T,{htmlFor:"smart-search-input","aria-label":(0,u.t)("Search events"),children:(0,m.tZ)(l.jV,{})}),(0,m.tZ)(h,{value:r.conditions,disabled:!0})]}),(0,m.tZ)(o.Z,{to:d,children:(0,m.tZ)(_,{priority:"primary",icon:(0,m.tZ)(l.g6,{size:"xs",direction:"right"}),onClick:()=>{(0,c.Z)("dashboards_views.query_selector.selected",{organization:e,widget_type:t.displayType})},"aria-label":(0,u.t)("Open in Discover")})})]})},i)}))}render(){const{Body:e,Header:t,widget:a}=this.props;return(0,m.BX)(n.Fragment,{children:[(0,m.tZ)(t,{closeButton:!0,children:(0,m.tZ)("h4",{children:a.title})}),(0,m.BX)(e,{children:[(0,m.tZ)("p",{children:(0,u.t)("Multiple queries were used to create this widget visualization. Which query would you like to view in Discover?")}),this.renderQueries()]})]})}}y.displayName="DashboardWidgetQuerySelectorModal";const h=(0,s.Z)(i.Z,{target:"e1n1ofqe4"})({name:"97snz3",styles:"text-overflow:ellipsis;padding:0px;box-shadow:none;height:auto;&:disabled{border:none;cursor:default;}"}),f=(0,s.Z)("div",{target:"e1n1ofqe3"})("display:flex;margin-bottom:",(0,d.D)(1),";"),_=(0,s.Z)(r.zx,{target:"e1n1ofqe2"})("margin-left:",(0,d.D)(1),";"),x=(0,s.Z)("div",{target:"e1n1ofqe1"})("border:1px solid ",(e=>e.theme.border),";box-shadow:inset ",(e=>e.theme.dropShadowMedium),";background:",(e=>e.theme.backgroundSecondary),";padding:7px ",(0,d.D)(1),";position:relative;display:grid;grid-template-columns:max-content 1fr max-content;gap:",(0,d.D)(1),";align-items:start;flex-grow:1;border-radius:",(e=>e.theme.borderRadius),";"),T=(0,s.Z)("label",{target:"e1n1ofqe0"})("display:flex;padding:",(0,d.D)(.5)," 0;margin:0;color:",(e=>e.theme.gray300),";"),b={name:"l07bt5",styles:"width:100%;max-width:700px;margin:70px auto"},D=(0,p.Z)((0,v.Z)(y))},"./app/components/searchSyntax/parser.tsx":(e,t,a)=>{"use strict";a.d(t,{D3:()=>S,J$:()=>f,UG:()=>k,WU:()=>p,iq:()=>T,me:()=>y,oV:()=>v,vA:()=>m});var s=a("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=(a("../node_modules/core-js/modules/es.array.includes.js"),a("../node_modules/moment/moment.js")),r=a.n(n),i=a("./app/locale.tsx"),o=a("./app/utils/discover/fields.tsx"),l=a("./app/components/searchSyntax/grammar.pegjs"),u=a.n(l),d=a("./app/components/searchSyntax/utils.tsx");const c=e=>{let[t,a,s,n,r]=e;return{separator:[t.value,a,s.value].join(""),value:r}};let p,v,g,m;!function(e){e.Spaces="spaces",e.Filter="filter",e.FreeText="freeText",e.LogicGroup="logicGroup",e.LogicBoolean="logicBoolean",e.KeySimple="keySimple",e.KeyExplicitTag="keyExplicitTag",e.KeyAggregate="keyAggregate",e.KeyAggregateArgs="keyAggregateArgs",e.KeyAggregateParam="keyAggregateParam",e.ValueIso8601Date="valueIso8601Date",e.ValueRelativeDate="valueRelativeDate",e.ValueDuration="valueDuration",e.ValueSize="valueSize",e.ValuePercentage="valuePercentage",e.ValueBoolean="valueBoolean",e.ValueNumber="valueNumber",e.ValueText="valueText",e.ValueNumberList="valueNumberList",e.ValueTextList="valueTextList"}(p||(p={})),function(e){e.Default="",e.GreaterThanEqual=">=",e.LessThanEqual="<=",e.GreaterThan=">",e.LessThan="<",e.Equal="=",e.NotEqual="!="}(v||(v={})),function(e){e.And="AND",e.Or="OR"}(g||(g={})),function(e){e.Text="text",e.TextIn="textIn",e.Date="date",e.SpecificDate="specificDate",e.RelativeDate="relativeDate",e.Duration="duration",e.Size="size",e.Numeric="numeric",e.NumericIn="numericIn",e.Boolean="boolean",e.AggregateDuration="aggregateDuration",e.AggregateSize="aggregateSize",e.AggregatePercentage="aggregatePercentage",e.AggregateNumeric="aggregateNumeric",e.AggregateDate="aggregateDate",e.AggregateRelativeDate="aggregateRelativeDate",e.Has="has",e.Is="is"}(m||(m={}));const y=[v.Default,v.GreaterThanEqual,v.LessThanEqual,v.GreaterThan,v.LessThan,v.Equal,v.NotEqual],h=[v.Default,v.NotEqual],f={[m.SpecificDate]:[m.Date],[m.Date]:[m.SpecificDate]},_=[p.KeySimple,p.KeyExplicitTag],x={b:1e9,m:1e6,k:1e3},T={[m.Text]:{validKeys:_,validOps:h,validValues:[p.ValueText],canNegate:!0},[m.TextIn]:{validKeys:_,validOps:[],validValues:[p.ValueTextList],canNegate:!0},[m.Date]:{validKeys:[p.KeySimple],validOps:y,validValues:[p.ValueIso8601Date],canNegate:!1},[m.SpecificDate]:{validKeys:[p.KeySimple],validOps:[],validValues:[p.ValueIso8601Date],canNegate:!1},[m.RelativeDate]:{validKeys:[p.KeySimple],validOps:[],validValues:[p.ValueRelativeDate],canNegate:!1},[m.Duration]:{validKeys:[p.KeySimple],validOps:y,validValues:[p.ValueDuration],canNegate:!0},[m.Size]:{validKeys:[p.KeySimple],validOps:y,validValues:[p.ValueSize],canNegate:!0},[m.Numeric]:{validKeys:[p.KeySimple],validOps:y,validValues:[p.ValueNumber],canNegate:!0},[m.NumericIn]:{validKeys:[p.KeySimple],validOps:[],validValues:[p.ValueNumberList],canNegate:!0},[m.Boolean]:{validKeys:[p.KeySimple],validOps:h,validValues:[p.ValueBoolean],canNegate:!0},[m.AggregateDuration]:{validKeys:[p.KeyAggregate],validOps:y,validValues:[p.ValueDuration],canNegate:!0},[m.AggregateSize]:{validKeys:[p.KeyAggregate],validOps:y,validValues:[p.ValueSize],canNegate:!0},[m.AggregateNumeric]:{validKeys:[p.KeyAggregate],validOps:y,validValues:[p.ValueNumber],canNegate:!0},[m.AggregatePercentage]:{validKeys:[p.KeyAggregate],validOps:y,validValues:[p.ValuePercentage],canNegate:!0},[m.AggregateDate]:{validKeys:[p.KeyAggregate],validOps:y,validValues:[p.ValueIso8601Date],canNegate:!0},[m.AggregateRelativeDate]:{validKeys:[p.KeyAggregate],validOps:y,validValues:[p.ValueRelativeDate],canNegate:!0},[m.Has]:{validKeys:[p.KeySimple],validOps:h,validValues:[],canNegate:!0},[m.Is]:{validKeys:[p.KeySimple],validOps:h,validValues:[p.ValueText],canNegate:!0}},b={textOperatorKeys:new Set(["release.version","release.build","release.package","release.stage"]),durationKeys:new Set(["transaction.duration"]),percentageKeys:new Set(["percentage"]),numericKeys:new Set(["project_id","project.id","issue.id","stack.colno","stack.lineno","stack.stack_level","transaction.duration"]),dateKeys:new Set(["start","end","firstSeen","lastSeen","last_seen()","time","event.timestamp","timestamp","timestamp.to_hour","timestamp.to_day"]),booleanKeys:new Set(["error.handled","error.unhandled","stack.in_app","team_key_transaction"]),sizeKeys:new Set([]),allowBoolean:!0},D={TokenConverter:class{constructor(e){let{text:t,location:a,config:n}=e;(0,s.Z)(this,"text",void 0),(0,s.Z)(this,"location",void 0),(0,s.Z)(this,"config",void 0),(0,s.Z)(this,"keyValidation",{isNumeric:e=>this.config.numericKeys.has(e)||(0,o.Xr)(e)||(0,o.yK)(e),isBoolean:e=>this.config.booleanKeys.has(e),isPercentage:e=>this.config.percentageKeys.has(e),isDate:e=>this.config.dateKeys.has(e),isDuration:e=>this.config.durationKeys.has(e)||(0,o.yK)(e)||"duration"===(0,o.Cq)(e),isSize:e=>this.config.sizeKeys.has(e)}),(0,s.Z)(this,"tokenSpaces",(e=>({...this.defaultTokenFields,type:p.Spaces,value:e}))),(0,s.Z)(this,"tokenFilter",((e,t,a,s,n)=>{const r={type:p.Filter,filter:e,key:t,value:a,negated:n,operator:s??v.Default,invalid:this.checkInvalidFilter(e,t,a)};return{...this.defaultTokenFields,...r}})),(0,s.Z)(this,"tokenFreeText",((e,t)=>({...this.defaultTokenFields,type:p.FreeText,value:e,quoted:t}))),(0,s.Z)(this,"tokenLogicGroup",(e=>({...this.defaultTokenFields,type:p.LogicGroup,inner:e}))),(0,s.Z)(this,"tokenLogicBoolean",(e=>({...this.defaultTokenFields,type:p.LogicBoolean,value:e}))),(0,s.Z)(this,"tokenKeySimple",((e,t)=>({...this.defaultTokenFields,type:p.KeySimple,value:e,quoted:t}))),(0,s.Z)(this,"tokenKeyExplicitTag",((e,t)=>({...this.defaultTokenFields,type:p.KeyExplicitTag,prefix:e,key:t}))),(0,s.Z)(this,"tokenKeyAggregateParam",((e,t)=>({...this.defaultTokenFields,type:p.KeyAggregateParam,value:e,quoted:t}))),(0,s.Z)(this,"tokenKeyAggregate",((e,t,a,s)=>({...this.defaultTokenFields,type:p.KeyAggregate,name:e,args:t,argsSpaceBefore:a,argsSpaceAfter:s}))),(0,s.Z)(this,"tokenKeyAggregateArgs",((e,t)=>({...this.defaultTokenFields,type:p.KeyAggregateArgs,args:[{separator:"",value:e},...t.map(c)]}))),(0,s.Z)(this,"tokenValueIso8601Date",(e=>({...this.defaultTokenFields,type:p.ValueIso8601Date,value:r()(e)}))),(0,s.Z)(this,"tokenValueRelativeDate",((e,t,a)=>({...this.defaultTokenFields,type:p.ValueRelativeDate,value:Number(e),sign:t,unit:a}))),(0,s.Z)(this,"tokenValueDuration",((e,t)=>({...this.defaultTokenFields,type:p.ValueDuration,value:Number(e),unit:t}))),(0,s.Z)(this,"tokenValueSize",((e,t)=>({...this.defaultTokenFields,type:p.ValueSize,value:Number(e),unit:t}))),(0,s.Z)(this,"tokenValuePercentage",(e=>({...this.defaultTokenFields,type:p.ValuePercentage,value:Number(e)}))),(0,s.Z)(this,"tokenValueBoolean",(e=>({...this.defaultTokenFields,type:p.ValueBoolean,value:["1","true"].includes(e.toLowerCase())}))),(0,s.Z)(this,"tokenValueNumber",((e,t)=>({...this.defaultTokenFields,type:p.ValueNumber,value:e,rawValue:Number(e)*(x[t]??1),unit:t}))),(0,s.Z)(this,"tokenValueNumberList",((e,t)=>({...this.defaultTokenFields,type:p.ValueNumberList,items:[{separator:"",value:e},...t.map(c)]}))),(0,s.Z)(this,"tokenValueTextList",((e,t)=>({...this.defaultTokenFields,type:p.ValueTextList,items:[{separator:"",value:e},...t.map(c)]}))),(0,s.Z)(this,"tokenValueText",((e,t)=>({...this.defaultTokenFields,type:p.ValueText,value:e,quoted:t}))),(0,s.Z)(this,"predicateFilter",((e,t)=>{const a=(0,d.Ck)(t),s=t,{isNumeric:n,isDuration:r,isBoolean:i,isDate:o,isPercentage:l,isSize:u}=this.keyValidation,c=e=>s.args?.args.some((t=>e(t?.value?.value??"")));switch(e){case m.Numeric:case m.NumericIn:return n(a);case m.Duration:return r(a);case m.Size:return u(a);case m.Boolean:return i(a);case m.Date:case m.RelativeDate:case m.SpecificDate:return o(a);case m.AggregateDuration:return c(r);case m.AggregateDate:return c(o);case m.AggregatePercentage:return c(l);default:return!0}})),(0,s.Z)(this,"predicateTextOperator",(e=>this.config.textOperatorKeys.has((0,d.Ck)(e)))),(0,s.Z)(this,"checkInvalidFilter",((e,t,a)=>this.config.validateKeys&&this.config.supportedTags&&!this.config.supportedTags[t.text]?{reason:(0,i.t)('Invalid key. "%s" is not a supported search key.',t.text)}:e===m.Text?this.checkInvalidTextFilter(t,a):e===m.Is||e===m.Has?this.checkInvalidTextValue(a):[m.TextIn,m.NumericIn].includes(e)?this.checkInvalidInFilter(a):null)),(0,s.Z)(this,"checkInvalidTextFilter",((e,t)=>{if(e.type===p.KeyExplicitTag)return this.checkInvalidTextValue(t);const a=(0,d.Ck)(e);if(this.keyValidation.isDuration(a))return{reason:(0,i.t)("Invalid duration. Expected number followed by duration unit suffix"),expectedType:[m.Duration]};if(this.keyValidation.isDate(a)){const e=new Date;e.setSeconds(0),e.setMilliseconds(0);const t=e.toISOString();return{reason:(0,i.t)("Invalid date format. Expected +/-duration (e.g. +1h) or ISO 8601-like (e.g. %s or %s)",t.slice(0,10),t),expectedType:[m.Date,m.SpecificDate,m.RelativeDate]}}return this.keyValidation.isBoolean(a)?{reason:(0,i.t)("Invalid boolean. Expected true, 1, false, or 0."),expectedType:[m.Boolean]}:this.keyValidation.isSize(a)?{reason:(0,i.t)("Invalid file size. Expected number followed by file size unit suffix"),expectedType:[m.Size]}:this.keyValidation.isNumeric(a)?{reason:(0,i.t)("Invalid number. Expected number then optional k, m, or b suffix (e.g. 500k)"),expectedType:[m.Numeric,m.NumericIn]}:this.checkInvalidTextValue(t)})),(0,s.Z)(this,"checkInvalidTextValue",(e=>!e.quoted&&/(^|[^\\])"/.test(e.value)?{reason:(0,i.t)("Quotes must enclose text or be escaped")}:e.quoted||""!==e.value?null:{reason:(0,i.t)("Filter must have a value")})),(0,s.Z)(this,"checkInvalidInFilter",(e=>{let{items:t}=e;return t.some((e=>null===e.value))?{reason:(0,i.t)("Lists should not have empty values")}:null})),this.text=t,this.location=a,this.config=n}get defaultTokenFields(){return{text:this.text(),location:this.location()}}},TermOperator:v,FilterType:m,config:b};function k(e,t){const a=t?{...t,...Object.keys(b).reduce(((e,a)=>(e[a]="object"==typeof b[a]?new Set([...b[a],...t[a]??[]]):b[a],e)),{})}:b;try{return u().parse(e,{...D,config:a})}catch(e){}return null}function S(e,t,a){return e&&e.length?(t?" ":"")+(1===e.length?e[0].text:e.map((e=>e.text)).join(a?" ":"")):""}},"./app/utils/demoMode.tsx":(e,t,a)=>{"use strict";a.d(t,{_8:()=>u,ax:()=>l,g3:()=>o,gp:()=>i,vM:()=>r});var s=a("./app/stores/configStore.tsx"),n=a("./app/types/index.tsx");function r(){const e=window.SandboxData?.extraQueryString||"";return new URLSearchParams(e)}function i(){const e=r(),t=localStorage.getItem("email");return t&&e.append("email",t),e}function o(e,t){const a=t.toString();return a?e+"?"+a:e}function l(){return s.Z.get("demoMode")}function u(e){switch(e){case"sidebar_v2":return{tour:"tabs",task:n.ve.SIDEBAR_GUIDE};case"issues_v3":return{tour:"issues",task:n.ve.ISSUE_GUIDE};case"release-details_v2":return{tour:"releases",task:n.ve.RELEASE_GUIDE};case"transaction_details_v2":return{tour:"performance",task:n.ve.PERFORMANCE_GUIDE};default:return}}},"./app/utils/discover/types.tsx":(e,t,a)=>{"use strict";a.d(t,{CU:()=>u,DC:()=>r,GY:()=>l,Rx:()=>c,as:()=>i,hY:()=>n,lJ:()=>d,px:()=>p,v2:()=>o});var s=a("./app/locale.tsx");const n=5;let r,i;!function(e){e.DEFAULT="default",e.PREVIOUS="previous",e.TOP5="top5",e.DAILY="daily",e.DAILYTOP5="dailytop5",e.WORLDMAP="worldmap",e.BAR="bar"}(r||(r={})),function(e){e.DISCOVER="discover",e.METRICS="metrics",e.METRICS_ENHANCED="metricsEnhanced",e.ISSUE_PLATFORM="issuePlatform"}(i||(i={}));const o=[r.TOP5,r.DAILYTOP5],l=[r.DEFAULT,r.PREVIOUS,r.TOP5,r.BAR],u=[{value:r.DEFAULT,label:(0,s.t)("Total Period")},{value:r.PREVIOUS,label:(0,s.t)("Previous Period")},{value:r.TOP5,label:(0,s.t)("Top 5 Period")},{value:r.DAILY,label:(0,s.t)("Total Daily")},{value:r.DAILYTOP5,label:(0,s.t)("Top 5 Daily")},{value:r.WORLDMAP,label:(0,s.t)("World Map")},{value:r.BAR,label:(0,s.t)("Bar Chart")}],d={[r.DEFAULT]:r.DEFAULT,[r.PREVIOUS]:r.DEFAULT,[r.TOP5]:r.DEFAULT,[r.DAILY]:r.DEFAULT,[r.DAILYTOP5]:r.DAILY,[r.WORLDMAP]:r.DEFAULT,[r.BAR]:r.DEFAULT},c=[{label:"count()",value:"count()"},{label:"count_unique(user)",value:"count_unique(user)"}],p=[r.DEFAULT,r.DAILY,r.PREVIOUS,r.BAR]},"./app/utils/events.tsx":(e,t,a)=>{"use strict";a.d(t,{FC:()=>d,K2:()=>p,OL:()=>f,Sq:()=>S,T7:()=>k,XQ:()=>m,YQ:()=>g,k$:()=>c}),a("../node_modules/core-js/modules/es.array.includes.js");var s=a("../node_modules/lodash/uniq.js"),n=a.n(s),r=a("./app/types/index.tsx"),i=a("./app/types/event.tsx"),o=a("./app/utils/getDaysSinceDate.tsx"),l=a("./app/utils/platform.tsx");function u(e){return!e.hasOwnProperty("type")}function d(e){if(u(e))return e.culprit||"";const{metadata:t,type:a,culprit:s}=e;switch(a){case r.eP.ERROR:case r.eP.TRANSACTION:return t.value;case r.eP.CSP:return t.message;case r.eP.EXPECTCT:case r.eP.EXPECTSTAPLE:case r.eP.HPKP:return"";default:return s||""}}function c(e){if(!u(e))return e.type===r.eP.ERROR&&(0,l.gx)(e.platform)&&e.metadata.filename||void 0}function p(e){if("string"==typeof e)return e;const t=e?.function||e?.package||e?.filebase||e?.type,a=e?.classbase;return a?t?`${a}.${t}`:a:t||"<unknown>"}function v(e){const{type:t,current_tree_label:a,finest_tree_label:s}=e,n=a||s,r=n?n.map((e=>p(e))).join(" | "):void 0;return t?r?{title:`${t} | ${r}`,treeLabel:[{type:t},...n??[]]}:{title:t,treeLabel:void 0}:{title:r||e.function||"<unknown>",treeLabel:n}}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{metadata:s,type:n,culprit:i,title:o}=e,u=t.includes("custom-event-title")&&s?.title?s.title:void 0;switch(n){case r.eP.ERROR:return u?{title:u,subtitle:i,treeLabel:void 0}:t.includes("grouping-title-ui")&&(a||(0,l.gx)(e.platform)||(0,l.an)(e.platform))?{subtitle:i,...v(s)}:{subtitle:i,title:s.type||s.function||"<unknown>",treeLabel:void 0};case r.eP.CSP:return{title:u??s.directive??"",subtitle:s.uri??"",treeLabel:void 0};case r.eP.EXPECTCT:case r.eP.EXPECTSTAPLE:case r.eP.HPKP:return{title:u??(s.message||o),subtitle:s.origin??"",treeLabel:void 0};case r.eP.DEFAULT:return{title:u??s.title??"",subtitle:"",treeLabel:void 0};case r.eP.TRANSACTION:const n=e.issueCategory===r.qE.PERFORMANCE;return{title:n?s.title:u??o,subtitle:n?i:"",treeLabel:void 0};default:return{title:u??o,subtitle:"",treeLabel:void 0}}}function m(e){return e.substring(0,8)}function y(e){return n()(e.errors?.map((e=>e.type))).join(",")||""}function h(e){return"error"===e.type&&!!e.contexts?.trace}function f(e){return e.entries?.some((e=>e.type===i.UZ.EXCEPTION&&e.data.values?.some((e=>!!e.rawStacktrace&&!!e.stacktrace))))}function _(e){return e.entries?.filter((e=>"exception"===e.type))}function x(e){const t=_(e)?.map((e=>(e.data.values||[]).reduce(((e,t)=>{const a=t.stacktrace?.frames?.length||0;return Math.max(e,a)}),0)))||[];return t.length?Math.max(...t):0}function T(e){const t=_(e)?.map((e=>(e.data.values||[]).reduce(((e,t)=>{const a=t.stacktrace?.frames?.filter((e=>e.inApp))||[];return Math.max(e,a.length)}),0)))||[];return t.length?Math.max(...t):0}function b(e){const t=(e.entries?.filter((e=>"threads"===e.type))||[]).map((e=>e.data?.values?.filter((e=>!!e.name)).length||0))||[];return t.length?Math.max(...t):0}function D(e){return e.activity&&e.activity.filter((e=>e.type===r.fc.ASSIGNED)).find((e=>!!e.data.integration))?.data.integration||""}function k(e){return{event_id:e?.eventID||"-1",num_commits:e?.release?.commitCount||0,num_stack_frames:e?x(e):0,num_in_app_stack_frames:e?T(e):0,num_threads_with_names:e?b(e):0,event_platform:e?.platform,event_type:e?.type,has_release:!!e?.release,has_source_maps:!!e&&f(e),has_trace:!!e&&h(e),has_commit:!!e?.release?.lastCommit,event_errors:e?y(e):"",sdk_name:e?.sdk?.name,sdk_version:e?.sdk?.version,release_user_agent:e?.release?.userAgent,error_has_replay:Boolean(e?.tags?.find((e=>{let{key:t}=e;return"replayId"===t}))),has_otel:void 0!==e?.contexts?.otel}}function S(e){const t=e?parseInt(e.id,10):-1;return{group_id:t,issue_id:t,issue_category:e?.issueCategory??r.qE.ERROR,issue_type:e?.issueType??r.EM.ERROR,issue_status:e?.status,issue_age:e?.firstSeen?(0,o.Z)(e.firstSeen):-1,issue_level:e?.level,is_assigned:!!e?.assignedTo,error_count:Number(e?.count||-1),group_has_replay:Boolean(e?.tags?.find((e=>{let{key:t}=e;return"replayId"===t}))),num_comments:e?e.numComments:-1,has_external_issue:!!e?.annotations&&e?.annotations.length>0,has_owner:!!e?.owners&&e?.owners.length>0,integration_assignment_source:e?D(e):""}}},"./app/utils/performance/quickTrace/utils.tsx":(e,t,a)=>{"use strict";a.d(t,{$J:()=>_,Ci:()=>D,R8:()=>m,S2:()=>x,_Z:()=>f,eF:()=>h,eW:()=>v,hp:()=>c,q2:()=>p,xB:()=>T,y3:()=>b}),a("../node_modules/core-js/modules/es.array.push.js"),a("../node_modules/core-js/modules/es.error.cause.js");var s=a("../node_modules/lodash/omit.js"),n=a.n(s),r=a("../node_modules/moment-timezone/index.js"),i=a.n(r),o=a("./app/components/events/interfaces/spans/utils.tsx"),l=a("./app/constants/pageFilters.tsx"),u=a("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),d=a("./app/utils/discover/eventView.tsx");function c(e){return"transaction"===e.type}function p(e,t){return c(t)?e.event_id===t.id:void 0!==e.errors&&e.errors.some((e=>e.event_id===t.id))}function v(e,t){const a=[],s=[],n=[{event:t,path:[]}];for(;n.length;){const t=n.shift();if(p(t.event,e)){for(const e of t.path)a.push(e);s.push(t.event)}else{const e=[...t.path,g(t.event)];for(const a of t.event.children)n.push({event:a,path:e})}}if(!s.length)throw new Error("No relevant path exists!");for(;s.length;){const e=s.shift();for(const t of e.children)s.push(t);a.push(g(e))}return a}function g(e){return n()(e,["children"])}function m(e,t,a){const{type:s,trace:n}=e;if("empty"===s||null===n)throw new Error("Current event not in trace navigator!");const r="full"===s,i=n.find((e=>p(e,t)))??null;if(null===i)throw new Error("Current event not in trace navigator!");const o=i.parent_event_id?n.find((e=>e.event_id===i.parent_event_id))??null:null,l=n.find((e=>e.event_id!==i.event_id&&e.event_id!==o?.event_id&&0===e.generation))??null,d=r?[]:null,c=[],v=r?[]:null,g=new Set;return n.forEach((e=>{g.add(e.project_id),(e=>e.parent_event_id===i.event_id)(e)?c.push(e):r&&((e=>null!==i.generation&&null!==e.generation&&e.generation>0&&i.generation-1>e.generation)(e)?d?.push(e):(e=>null!==i.generation&&null!==e.generation&&i.generation+1<e.generation)(e)&&v?.push(e))})),r&&g.size>1&&function(e,t){(0,u.Z)("quick_trace.connected_services",{organization:e.id,projects:t})}(a,g.size),{root:l,ancestors:null===d?null:y(d),parent:o,current:i,children:y(c),descendants:null===v?null:y(v)}}function y(e){return e.sort(((e,t)=>t["transaction.duration"]-e["transaction.duration"]))}function h(e){let{eventView:t,location:a}=e;return n()(t.getEventsAPIPayload(a),["field","sort","per_page"])}function f(e){let{start:t,end:a,statsPeriod:s}=e;return d.ZP.fromSavedQuery({id:void 0,version:2,name:"",fields:["transaction.duration"],projects:[l.mP],query:"",environment:[],start:t,end:a,range:s??void 0})}function _(e){const t=c(e)?e.startTimestamp:i()(e.dateReceived?e.dateReceived:e.dateCreated).valueOf()/1e3,a=c(e)?e.endTimestamp:t;return(0,o.TC)({start:t,end:a})}function x(e,t,a){let s=a;const n=[e];for(;n.length;){const e=n.pop();for(const t of e.children)n.push(t);s=t(s,e)}return s}function T(e,t){return x(e,((e,a)=>(t(a)&&e.push(a),e)),[])}function b(e){return Boolean(e.event_id)}function D(e){return Boolean(e.event_id)}},"./app/utils/platform.tsx":(e,t,a)=>{"use strict";a.d(t,{an:()=>i,fR:()=>n,gx:()=>r}),a("../node_modules/core-js/modules/es.array.includes.js");var s=a("./app/data/platformCategories.tsx");function n(e){return e?[...s.tQ].includes(e)?s.Wn.FRONTEND:[...s.y3].includes(e)?s.Wn.BACKEND:[...s.Wp].includes(e)?s.Wn.SERVERLESS:[...s.ai].includes(e)?s.Wn.MOBILE:[...s.gv].includes(e)?s.Wn.DESKTOP:s.Wn.OTHER:s.Wn.OTHER}function r(e){switch(e){case"cocoa":case"objc":case"native":case"swift":case"c":return!0;default:return!1}}function i(e){return!!e&&[...s.ai].includes(e)}},"./app/utils/useRouteContext.tsx":(e,t,a)=>{"use strict";a.d(t,{s:()=>r}),a("../node_modules/core-js/modules/es.error.cause.js");var s=a("../node_modules/react/index.js"),n=a("./app/views/routeContext.tsx");function r(){const e=(0,s.useContext)(n.X);if(null===e)throw new Error("useRouteContext called outside of routes provider");return e}},"./app/utils/withProject.tsx":(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var s=a("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=a("../node_modules/react/index.js"),r=a("./app/sentryTypes.tsx"),i=a("./app/utils/getDisplayName.tsx"),o=a("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const l=e=>{var t;return t=class extends n.Component{render(){const{project:t,...a}=this.props;return(0,o.tZ)(e,{project:t??this.context.project,...a})}},(0,s.Z)(t,"displayName",`withProject(${(0,i.Z)(e)})`),(0,s.Z)(t,"contextTypes",{project:r.Z.Project}),t}},"./app/views/dashboards/types.tsx":(e,t,a)=>{"use strict";a.d(t,{$V:()=>n,EN:()=>u,FO:()=>r,ZU:()=>s,l9:()=>i,n3:()=>l,qA:()=>o});const s=30,n=5;let r,i,o,l,u;!function(e){e.AREA="area",e.BAR="bar",e.LINE="line",e.TABLE="table",e.WORLD_MAP="world_map",e.BIG_NUMBER="big_number",e.TOP_N="top_n"}(r||(r={})),function(e){e.DISCOVER="discover",e.ISSUE="issue",e.RELEASE="metrics"}(i||(i={})),function(e){e.RELEASE="release"}(o||(o={})),function(e){e.VIEW="view",e.EDIT="edit",e.CREATE="create",e.PENDING_DELETE="pending_delete",e.PREVIEW="preview"}(l||(l={})),function(e){e.DISCOVERV2="discoverv2",e.DASHBOARDS="dashboards",e.LIBRARY="library",e.ISSUE_DETAILS="issueDetail"}(u||(u={}))},"./app/views/discover/data.tsx":(e,t,a)=>{"use strict";a.d(t,{He:()=>i,Qu:()=>r,eP:()=>n,gh:()=>o});var s=a("./app/locale.tsx");const n={id:void 0,name:(0,s.t)("All Events"),query:"",projects:[],fields:["title","event.type","project","user.display","timestamp"],orderby:"-timestamp",version:2,range:"24h"},r=[{id:void 0,name:(0,s.t)("Transactions by Volume"),fields:["transaction","project","count()","avg(transaction.duration)","p75()","p95()"],orderby:"-count",query:"event.type:transaction",projects:[],version:2,range:"24h"}],i=[{id:void 0,name:(0,s.t)("Web Vitals"),fields:["transaction","epm()","p75(measurements.fp)","p75(measurements.fcp)","p75(measurements.lcp)","p75(measurements.fid)","p75(measurements.cls)"],orderby:"-epm",query:"event.type:transaction transaction.op:pageload",projects:[],version:2,range:"24h",yAxis:["epm()"]}],o=[n,{id:void 0,name:(0,s.t)("Errors by Title"),fields:["title","count()","count_unique(user)","project"],orderby:"-count",query:"event.type:error",projects:[],version:2,range:"24h",display:"top5"},{id:void 0,name:(0,s.t)("Errors by URL"),fields:["url","count()","count_unique(issue)"],orderby:"-count",query:"event.type:error has:url",projects:[],version:2,range:"24h",display:"top5"}]},"./app/views/discover/savedQuery/utils.tsx":(e,t,a)=>{"use strict";if(a.d(t,{MF:()=>y,O$:()=>p,RF:()=>m,Uc:()=>g,b2:()=>c,pb:()=>v,zz:()=>_}),"app"==a.j)var s=a("./app/actionCreators/discoverHomepageQueries.tsx");var n=a("./app/actionCreators/discoverSavedQueries.tsx"),r=a("./app/actionCreators/indicator.tsx"),i=a("./app/locale.tsx"),o=a("./app/utils/analytics.tsx"),l=a("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),u=a("./app/utils/discover/types.tsx"),d=a("./app/views/dashboards/types.tsx");function c(e,t,a,s){let o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];const u=a.toNewQuery();u.yAxis=s,(0,l.Z)(h(o,"request"),{organization:t,...f(u)});const d=(0,n.GH)(e,t.slug,u);return d.then((e=>((0,r.S9)((0,i.t)("Query saved")),(0,l.Z)(h(o,"success"),{organization:t,...f(u)}),e))).catch((e=>{(0,r.Iw)((0,i.t)("Query not saved")),(0,l.Z)(h(o,"failed"),{organization:t,...f(u),error:e&&e.message||`Could not save a ${o?"new":"existing"} query`})})),d}function p(e,t,a,s){const o=a.toNewQuery();if(o.yAxis=s,!a.name)return(0,r.Iw)((0,i.t)("Please name your query")),Promise.reject();(0,l.Z)("discover_v2.update_query_request",{organization:t,...f(o)});const u=(0,n.M6)(e,t.slug,o);return u.then((e=>((0,r.S9)((0,i.t)("Query updated")),(0,l.Z)("discover_v2.update_query_success",{organization:t,...f(o)}),e))).catch((e=>{(0,r.Iw)((0,i.t)("Query not updated")),(0,l.Z)("discover_v2.update_query_failed",{organization:t,...f(o),error:e&&e.message||"Failed to update a query"})})),u}function v(e,t,a){const s=a.toNewQuery();(0,o.ec)({eventKey:"discover_v2.update_query_name_request",eventName:"Discoverv2: Request to update a saved query's name",organization_id:parseInt(t.id,10),...f(s)});const l=(0,n.M6)(e,t.slug,s);return l.then((e=>{(0,r.S9)((0,i.t)("Query name saved")),(0,o.ec)({eventKey:"discover_v2.update_query_name_success",eventName:"Discoverv2: Successfully updated a saved query's name",organization_id:parseInt(t.id,10),...f(s)})})).catch((e=>{(0,r.Iw)((0,i.t)("Query name not saved")),(0,o.ec)({eventKey:"discover_v2.update_query_failed",eventName:"Discoverv2: Failed to update a saved query's name",organization_id:parseInt(t.id,10),...f(s),error:e&&e.message||"Failed to update a query name"})})),l}function g(e,t,a){(0,o.ec)({eventKey:"discover_v2.delete_query_request",eventName:"Discoverv2: Request to delete a saved query",organization_id:parseInt(t.id,10),...f(a.toNewQuery())});const s=(0,n.qF)(e,t.slug,a.id);return s.then((()=>{(0,r.S9)((0,i.t)("Query deleted")),(0,o.ec)({eventKey:"discover_v2.delete_query_success",eventName:"Discoverv2: Successfully deleted a saved query",organization_id:parseInt(t.id,10),...f(a.toNewQuery())})})).catch((e=>{(0,r.Iw)((0,i.t)("Query not deleted")),(0,o.ec)({eventKey:"discover_v2.delete_query_failed",eventName:"Discoverv2: Failed to delete a saved query",organization_id:parseInt(t.id,10),...f(a.toNewQuery()),error:e&&e.message||"Failed to delete query"})})),s}function m(e,t,a){return(0,s.YC)(e,t.slug,a).then((e=>((0,r.S9)((0,i.t)("Saved as Discover default")),e))).catch((()=>{(0,r.Iw)((0,i.t)("Unable to set query as Discover default"))}))}function y(e,t){return(0,s.uk)(e,t.slug).then((()=>{(0,r.S9)((0,i.t)("Successfully removed Discover default"))})).catch((()=>{(0,r.Iw)((0,i.t)("Unable to remove Discover default"))}))}function h(e,t){return e?"discover_v2.save_new_query_"+t:"discover_v2.save_existing_query_"+t}function f(e){const{projects:t,fields:a,query:s}=e;return{projects:t,fields:a,query:s}}function _(e){switch(e){case u.DC.BAR:return d.FO.BAR;case u.DC.WORLDMAP:return d.FO.WORLD_MAP;case u.DC.TOP5:return d.FO.TOP_N;default:return d.FO.LINE}}},"../node_modules/lodash/cloneDeep.js":(e,t,a)=>{var s=a("../node_modules/lodash/_baseClone.js");e.exports=function(e){return s(e,5)}},"../node_modules/lodash/isEmpty.js":(e,t,a)=>{var s=a("../node_modules/lodash/_baseKeys.js"),n=a("../node_modules/lodash/_getTag.js"),r=a("../node_modules/lodash/isArguments.js"),i=a("../node_modules/lodash/isArray.js"),o=a("../node_modules/lodash/isArrayLike.js"),l=a("../node_modules/lodash/isBuffer.js"),u=a("../node_modules/lodash/_isPrototype.js"),d=a("../node_modules/lodash/isTypedArray.js"),c=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(o(e)&&(i(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||d(e)||r(e)))return!e.length;var t=n(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(u(e))return!s(e).length;for(var a in e)if(c.call(e,a))return!1;return!0}},"../node_modules/lodash/isNil.js":e=>{e.exports=function(e){return null==e}},"../node_modules/lodash/isNumber.js":(e,t,a)=>{var s=a("../node_modules/lodash/_baseGetTag.js"),n=a("../node_modules/lodash/isObjectLike.js");e.exports=function(e){return"number"==typeof e||n(e)&&"[object Number]"==s(e)}},"../node_modules/lodash/maxBy.js":(e,t,a)=>{var s=a("../node_modules/lodash/_baseExtremum.js"),n=a("../node_modules/lodash/_baseGt.js"),r=a("../node_modules/lodash/_baseIteratee.js");e.exports=function(e,t){return e&&e.length?s(e,r(t,2),n):void 0}},"../node_modules/lodash/set.js":(e,t,a)=>{var s=a("../node_modules/lodash/_baseSet.js");e.exports=function(e,t,a){return null==e?e:s(e,t,a)}},"../node_modules/lodash/uniqBy.js":(e,t,a)=>{var s=a("../node_modules/lodash/_baseIteratee.js"),n=a("../node_modules/lodash/_baseUniq.js");e.exports=function(e,t){return e&&e.length?n(e,s(t,2)):[]}}}]);
//# sourceMappingURL=../sourcemaps/app_actionCreators_onboardingTasks_tsx-app_components_events_interfaces_utils_tsx-app_compone-5b8d71.12531bafa85b83510765fa1751af956a.js.map