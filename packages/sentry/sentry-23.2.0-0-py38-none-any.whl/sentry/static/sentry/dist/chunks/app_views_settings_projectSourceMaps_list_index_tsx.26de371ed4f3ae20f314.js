"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_settings_projectSourceMaps_list_index_tsx"],{"./app/components/searchBar.tsx":(e,t,s)=>{s.d(t,{Z:()=>x,p:()=>g});var n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=s("../node_modules/react/index.js"),o=s("./app/components/button.tsx"),a=s("./app/components/inputGroup.tsx"),i=s("./app/icons/index.tsx"),c=s("./app/icons/iconClose.tsx"),l=s("./app/locale.tsx"),p=s("./app/styles/space.tsx"),d=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function u(e){let{query:t,defaultQuery:s="",onChange:n,onSearch:o,width:p,size:u,className:x,trailing:y,...Z}=e;const v=(0,r.useRef)(null),[f,b]=(0,r.useState)(t??s);(0,r.useEffect)((()=>{"string"==typeof t&&b(t)}),[t]);const j=(0,r.useCallback)((e=>{const{value:t}=e.target;b(t),n?.(t)}),[n]),w=(0,r.useCallback)((e=>{e.preventDefault(),v.current?.blur(),o?.(f)}),[o,f]),k=(0,r.useCallback)((()=>{b(""),n?.(""),o?.("")}),[n,o]);return(0,d.tZ)(h,{onSubmit:w,className:x,children:(0,d.BX)(a.BZ,{children:[(0,d.tZ)(a.t_,{disablePointerEvents:!0,children:(0,d.tZ)(i.jV,{color:"subText",size:"xs"===u?"xs":"sm"})}),(0,d.tZ)(m,{...Z,ref:v,type:"text",name:"query",autoComplete:"off",value:f,onChange:j,width:p,size:u}),(0,d.BX)(a.Oj,{children:[y,!!f&&(0,d.tZ)(g,{size:"zero",borderless:!0,onClick:k,icon:(0,d.tZ)(c.b,{size:"xs"}),"aria-label":(0,l.t)("Clear")})]})]})})}u.displayName="SearchBar";const h=(0,n.Z)("form",{target:"elu65nr2"})({name:"4bgdod",styles:"display:block;position:relative"}),m=(0,n.Z)(a.II,{target:"elu65nr1"})((e=>e.width&&`width: ${e.width};`),";"),g=(0,n.Z)(o.zx,{target:"elu65nr0"})("color:",(e=>e.theme.subText),";padding:",(0,p.D)(.5),";"),x=u},"./app/utils/routeTitle.tsx":(e,t,s)=>{s.d(t,{Z:()=>n});const n=function(e,t){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3?arguments[3]:void 0;const r=`${e} - ${t}`,o=n?`${r} - ${n}`:r;return s?`${o} - Sentry`:o}},"./app/views/asyncView.tsx":(e,t,s)=>{s.d(t,{Z:()=>a});var n=s("./app/components/asyncComponent.tsx"),r=s("./app/components/sentryDocumentTitle.tsx"),o=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class a extends n.Z{getTitle(){return""}render(){return(0,o.tZ)(r.Z,{title:this.getTitle(),children:this.renderComponent()})}}a.displayName="AsyncView"},"./app/views/settings/projectSourceMaps/list/index.tsx":(e,t,s)=>{s.r(t),s.d(t,{default:()=>P});var n=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=(s("../node_modules/core-js/modules/es.array.push.js"),s("../node_modules/react/index.js")),a=s("./app/actionCreators/indicator.tsx"),i=s("./app/components/links/externalLink.tsx"),c=s("./app/components/pagination.tsx"),l=s("./app/components/panels/index.tsx"),p=s("./app/components/searchBar.tsx"),d=s("./app/locale.tsx"),u=s("./app/styles/space.tsx"),h=s("./app/utils/queryString.tsx"),m=s("./app/utils/routeTitle.tsx"),g=s("./app/views/asyncView.tsx"),x=s("./app/views/settings/components/settingsPageHeader.tsx"),y=s("./app/views/settings/components/text/textBlock.tsx"),Z=s("./app/components/acl/access.tsx"),v=s("./app/components/button.tsx"),f=s("./app/components/buttonBar.tsx"),b=s("./app/components/confirm.tsx"),j=s("./app/components/count.tsx"),w=s("./app/components/dateTime.tsx"),k=s("./app/components/links/link.tsx"),C=s("./app/components/textOverflow.tsx"),S=s("./app/components/tooltip.tsx"),A=s("./app/components/version.tsx"),T=s("./app/icons/index.tsx"),_=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const D=e=>{let{archive:t,orgId:s,projectId:n,onDelete:r}=e;const{name:a,date:i,fileCount:c}=t,l=`/settings/${s}/projects/${n}/source-maps/${encodeURIComponent(a)}`;return(0,_.BX)(o.Fragment,{children:[(0,_.tZ)(B,{children:(0,_.tZ)(C.Z,{children:(0,_.tZ)(k.Z,{to:l,children:(0,_.tZ)(A.Z,{version:a,anchor:!1,tooltipRawVersion:!0,truncate:!0})})})}),(0,_.tZ)(q,{children:(0,_.tZ)(j.Z,{value:c})}),(0,_.tZ)(B,{children:(0,d.t)("release")}),(0,_.tZ)(B,{children:(0,_.tZ)(w.Z,{date:i})}),(0,_.tZ)(z,{children:(0,_.tZ)(f.ZP,{gap:.5,children:(0,_.tZ)(Z.Z,{access:["project:releases"],children:e=>{let{hasAccess:t}=e;return(0,_.tZ)(S.u,{disabled:t,title:(0,d.t)("You do not have permission to delete artifacts."),children:(0,_.tZ)(b.Z,{onConfirm:()=>r(a),message:(0,d.t)("Are you sure you want to remove all artifacts in this archive?"),disabled:!t,children:(0,_.tZ)(v.zx,{size:"sm",icon:(0,_.tZ)(T.Fz,{size:"sm"}),title:(0,d.t)("Remove All Artifacts"),"aria-label":(0,d.t)("Remove All Artifacts"),disabled:!t})})})}})})})]})};D.displayName="SourceMapsArchiveRow";const B=(0,r.Z)("div",{target:"e17v78y2"})({name:"1kghokd",styles:"display:flex;align-items:center;overflow:hidden"}),q=(0,r.Z)(B,{target:"e17v78y1"})("padding-right:",(0,u.D)(4),";text-align:right;justify-content:flex-end;"),z=(0,r.Z)(B,{target:"e17v78y0"})({name:"1f60if8",styles:"justify-content:flex-end"}),$=D;class E extends g.Z{constructor(){super(...arguments),(0,n.Z)(this,"handleSearch",(e=>{const{location:t,router:s}=this.props;s.push({...t,query:{...t.query,cursor:void 0,query:e}})})),(0,n.Z)(this,"handleDelete",(async e=>{(0,a.E3)((0,d.t)("Removing artifactsâ€¦"));try{await this.api.requestPromise(this.getArchivesUrl(),{method:"DELETE",query:{name:e}}),this.fetchData(),(0,a.S9)((0,d.t)("Artifacts removed."))}catch{(0,a.Iw)((0,d.t)("Unable to remove artifacts. Please try again."))}}))}getTitle(){const{projectId:e}=this.props.params;return(0,m.Z)((0,d.t)("Source Maps"),e,!1)}getDefaultState(){return{...super.getDefaultState(),archives:[]}}getEndpoints(){return[["archives",this.getArchivesUrl(),{query:{query:this.getQuery()}}]]}getArchivesUrl(){const{organization:e,project:t}=this.props;return`/projects/${e.slug}/${t.slug}/files/source-maps/`}getQuery(){const{query:e}=this.props.location.query;return(0,h.ro)(e)}getEmptyMessage(){return this.getQuery()?(0,d.t)("There are no archives that match your search."):(0,d.t)("There are no archives for this project.")}renderLoading(){return this.renderBody()}renderArchives(){const{archives:e}=this.state;if(!e.length)return null;const{organization:t,project:s}=this.props;return e.map((e=>(0,_.tZ)($,{archive:e,orgId:t.slug,projectId:s.slug,onDelete:this.handleDelete},e.name)))}renderBody(){const{loading:e,archives:t,archivesPageLinks:s}=this.state;return(0,_.BX)(o.Fragment,{children:[(0,_.tZ)(x.Z,{title:(0,d.t)("Source Maps"),action:(0,_.tZ)(p.Z,{placeholder:(0,d.t)("Filter Archives"),onSearch:this.handleSearch,query:this.getQuery(),width:"280px"})}),(0,_.tZ)(y.Z,{children:(0,d._N)("These source map archives help Sentry identify where to look when Javascript is minified. By providing this information, you can get better context for your stack traces when debugging. To learn more about source maps, [link: read the docs].",{link:(0,_.tZ)(i.Z,{href:"https://docs.sentry.io/platforms/javascript/sourcemaps/"})})}),(0,_.tZ)(I,{headers:[(0,d.t)("Archive"),(0,_.tZ)(M,{children:(0,d.t)("Artifacts")},"artifacts"),(0,d.t)("Type"),(0,d.t)("Date Created"),""],emptyMessage:this.getEmptyMessage(),isEmpty:0===t.length,isLoading:e,children:this.renderArchives()}),(0,_.tZ)(c.Z,{pageLinks:s})]})}}const I=(0,r.Z)(l.KB,{target:"eg87l5v1"})({name:"1nm83up",styles:"grid-template-columns:minmax(120px, 1fr) max-content minmax(85px, max-content) minmax(265px, max-content) 75px"}),M=(0,r.Z)("div",{target:"eg87l5v0"})("text-align:right;padding-right:",(0,u.D)(1.5),";margin-right:",(0,u.D)(.25),";"),P=E}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_projectSourceMaps_list_index_tsx.01fa35f267595294ca31236f11f41807.js.map