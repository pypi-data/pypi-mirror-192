(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_modals_recoveryOptionsModal_tsx-node_modules_lodash_findLastIndex_js-node_modu-d44029"],{"./app/components/modals/recoveryOptionsModal.tsx":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var o=n("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),r=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),s=n("../node_modules/react/index.js"),i=n("./app/components/alert.tsx"),a=n("./app/components/asyncComponent.tsx"),c=n("./app/components/button.tsx"),d=n("./app/locale.tsx"),u=n("./app/styles/space.tsx"),l=n("./app/views/settings/components/text/textBlock.tsx"),p=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class m extends a.Z{constructor(){super(...arguments),(0,r.Z)(this,"handleSkipSms",(()=>{this.setState({skipSms:!0})}))}getDefaultState(){return{...super.getDefaultState(),skipSms:!1}}getEndpoints(){return[["authenticators","/users/me/authenticators/"]]}renderBody(){const{authenticatorName:e,closeModal:t,Body:n,Header:r,Footer:a}=this.props,{authenticators:m,skipSms:h}=this.state,{recovery:f,sms:y}=m.reduce(((e,t)=>(e[t.id]=t,e)),{}),v=f&&f.isEnrolled,b=y&&!y.isEnrolled&&!h&&!y.disallowNewEnrollment;return(0,p.BX)(s.Fragment,{children:[(0,p.tZ)(r,{closeButton:!0,children:(0,d.t)("Two-Factor Authentication Enabled")}),(0,p.BX)(n,{children:[(0,p.tZ)(l.Z,{children:(0,d.t)("Two-factor authentication via %s has been enabled.",e)}),(0,p.tZ)(l.Z,{children:(0,d.t)("You should now set up recovery options to secure your account.")}),b?(0,p.tZ)(i.bZ,{type:"warning",children:(0,d.t)("We recommend adding a phone number as a backup 2FA method.")}):(0,p.tZ)(i.bZ,{type:"warning",children:(0,d.t)("Recovery codes are the only way to access your account if you lose\n                  your device and cannot receive two-factor authentication codes.")})]}),b?(0,p.BX)(a,{children:[(0,p.tZ)(c.zx,{onClick:this.handleSkipSms,name:"skipStep",autoFocus:!0,children:(0,d.t)("Skip this step")}),(0,p.tZ)(c.zx,{priority:"primary",onClick:t,to:`/settings/account/security/mfa/${y.id}/enroll/`,name:"addPhone",css:(0,o.iv)({marginLeft:(0,u.D)(1)},"",""),autoFocus:!0,children:(0,d.t)("Add a Phone Number")})]}):(0,p.tZ)(a,{children:(0,p.tZ)(c.zx,{priority:"primary",onClick:t,to:v?`/settings/account/security/mfa/${f.authId}/`:"/settings/account/security/",name:"getCodes",autoFocus:!0,children:(0,d.t)("Get Recovery Codes")})})]})}}const h=m},"../node_modules/lodash/findLastIndex.js":(e,t,n)=>{var o=n("../node_modules/lodash/_baseFindIndex.js"),r=n("../node_modules/lodash/_baseIteratee.js"),s=n("../node_modules/lodash/toInteger.js"),i=Math.max,a=Math.min;e.exports=function(e,t,n){var c=null==e?0:e.length;if(!c)return-1;var d=c-1;return void 0!==n&&(d=s(n),d=n<0?i(c+d,0):a(d,c-1)),o(e,r(t,3),d,!0)}},"../node_modules/react-document-title/index.js":(e,t,n)=>{"use strict";var o=n("../node_modules/react/index.js"),r=n("../node_modules/prop-types/index.js"),s=n("../node_modules/react-side-effect/lib/index.js");function i(){}i.prototype=Object.create(o.Component.prototype),i.displayName="DocumentTitle",i.propTypes={title:r.string.isRequired},i.prototype.render=function(){return this.props.children?o.Children.only(this.props.children):null},e.exports=s((function(e){var t=e[e.length-1];if(t)return t.title}),(function(e){var t=e||"";t!==document.title&&(document.title=t)}))(i)},"../node_modules/react-side-effect/lib/index.js":(e,t,n)=>{"use strict";function o(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var r=n("../node_modules/react/index.js"),s=o(r),i=o(n("../node_modules/shallowequal/index.js"));function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=!("undefined"==typeof window||!window.document||!window.document.createElement);e.exports=function(e,t,n){if("function"!=typeof e)throw new Error("Expected reducePropsToState to be a function.");if("function"!=typeof t)throw new Error("Expected handleStateChangeOnClient to be a function.");if(void 0!==n&&"function"!=typeof n)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(o){if("function"!=typeof o)throw new Error("Expected WrappedComponent to be a React component.");var d,u=[];function l(){d=e(u.map((function(e){return e.props}))),p.canUseDOM?t(d):n&&(d=n(d))}var p=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.peek=function(){return d},r.rewind=function(){if(r.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var e=d;return d=void 0,u=[],e};var a=r.prototype;return a.shouldComponentUpdate=function(e){return!i(e,this.props)},a.componentWillMount=function(){u.push(this),l()},a.componentDidUpdate=function(){l()},a.componentWillUnmount=function(){var e=u.indexOf(this);u.splice(e,1),l()},a.render=function(){return s.createElement(o,this.props)},r}(r.Component);return a(p,"displayName","SideEffect("+function(e){return e.displayName||e.name||"Component"}(o)+")"),a(p,"canUseDOM",c),p}}},"../node_modules/shallowequal/index.js":e=>{e.exports=function(e,t,n,o){var r=n?n.call(o,e,t):void 0;if(void 0!==r)return!!r;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var s=Object.keys(e),i=Object.keys(t);if(s.length!==i.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),c=0;c<s.length;c++){var d=s[c];if(!a(d))return!1;var u=e[d],l=t[d];if(!1===(r=n?n.call(o,u,l,d):void 0)||void 0===r&&u!==l)return!1}return!0}}}]);
//# sourceMappingURL=../sourcemaps/app_components_modals_recoveryOptionsModal_tsx-node_modules_lodash_findLastIndex_js-node_modu-d44029.7af6a5645abf5a998c5a79a2e4240ce8.js.map