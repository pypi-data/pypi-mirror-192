"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_issueDetails_groupEvents_tsx-app_views_performance_transactionSummary_utils_tsx"],{"./app/utils/profiling/routes.tsx":(e,t,s)=>{function r(e){let{orgSlug:t,projectSlug:s,profileId:r}=e;return`/organizations/${t}/profiling/profile/${s}/${r}/flamechart/`}function n(e){let{orgSlug:t,query:s}=e;const r=function(e){let{orgSlug:t}=e;return`/organizations/${t}/profiling/`}({orgSlug:t});return{pathname:r,query:{...s}}}function o(e){let{orgSlug:t,projectSlug:s,transaction:r,query:n}=e;const o=function(e){let{orgSlug:t,projectSlug:s}=e;return`/organizations/${t}/profiling/summary/${s}/`}({orgSlug:t,projectSlug:s});return{pathname:o,query:{...n,transaction:r}}}function i(e){let{orgSlug:t,projectSlug:s,profileId:n,query:o}=e;return{pathname:r({orgSlug:t,projectSlug:s,profileId:n}),query:{...o}}}function a(e){let{orgSlug:t,projectSlug:s,profileId:r,frameName:n,framePackage:o,query:a}=e;return i({orgSlug:t,projectSlug:s,profileId:r,query:{...a,frameName:n,framePackage:o}})}function u(e){let{orgSlug:t,projectSlug:s,profileId:r,query:n}=e;const o=function(e){let{orgSlug:t,projectSlug:s,profileId:r}=e;return`/organizations/${t}/profiling/profile/${s}/${r}/details/`}({orgSlug:t,projectSlug:s,profileId:r});return{pathname:o,query:{...n}}}s.d(t,{O$:()=>r,Qy:()=>u,R0:()=>o,TH:()=>i,XR:()=>n,u$:()=>a})},"./app/utils/useCleanQueryParamsOnRouteLeave.tsx":(e,t,s)=>{s.d(t,{Z:()=>a,j:()=>i});var r=s("../node_modules/react/index.js"),n=s("../node_modules/react-router/es/index.js"),o=s("./app/utils/useLocation.tsx");function i(e){let{fieldsToClean:t,newLocation:s,oldPathname:r}=e;const o=t.some((e=>void 0!==s.query[e]));if(s.pathname===r||!o)return;const i=t.reduce(((e,t)=>(e[t]=void 0,e)),{...s.query});n.browserHistory.replace({pathname:s.pathname,query:i})}const a=function(e){let{fieldsToClean:t}=e;const s=(0,o.T)(),a=(0,r.useCallback)((e=>{i({fieldsToClean:t,newLocation:e,oldPathname:s.pathname})}),[s.pathname,t]);(0,r.useEffect)((()=>n.browserHistory.listen(a)),[a])}},"./app/views/issueDetails/groupEvents.tsx":(e,t,s)=>{s.r(t),s.d(t,{GroupEvents:()=>I,default:()=>P});var r=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=(s("../node_modules/core-js/modules/es.array.push.js"),s("../node_modules/react/index.js")),i=s("../node_modules/react-router/es/index.js"),a=s("./app/components/events/searchBar.tsx"),u=s("./app/components/layouts/thirds.tsx"),l=s("./app/styles/space.tsx"),p=s("./app/utils/useCleanQueryParamsOnRouteLeave.tsx"),c=s("./app/utils/withApi.tsx"),d=s("./app/utils/withDomainRequired.tsx"),m=s("./app/utils/withOrganization.tsx"),g=(s("../node_modules/core-js/modules/es.array.includes.js"),s("./app/components/loadingError.tsx")),f=s("./app/data/platformCategories.tsx"),y=s("./app/locale.tsx"),h=s("./app/types/index.tsx"),S=s("./app/utils/discover/eventView.tsx"),v=s("./app/utils/discover/types.tsx"),x=s("./app/utils/issueTypeConfig/index.tsx"),E=s("./app/utils/platform.tsx"),T=s("./app/utils/useRoutes.tsx"),q=s("./app/views/performance/transactionSummary/transactionEvents/eventsTable.tsx"),j=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const R=e=>{const{location:t,organization:s,issueId:r,excludedTags:n,group:i}=e,a=(0,x.Y)(e.group),[u,l]=(0,o.useState)(""),p=(0,T.V)(),{fields:c,columnTitles:d}=b(i,s),m=S.ZP.fromLocation(e.location);a.usesIssuePlatform&&(m.dataset=v.as.ISSUE_PLATFORM),m.fields=c.map((e=>({field:e}))),m.sorts=(0,S.GT)(t).filter((e=>c.includes(e.field))),(0,o.useEffect)((()=>{l("")}),[m.query]),m.sorts.length||(m.sorts=[{field:"timestamp",kind:"desc"}]);const f=i.issueCategory===h.qE.PERFORMANCE?`performance.issue_ids:${r} event.type:transaction`:`issue.id:${r}`;if(m.project=[parseInt(i.project.id,10)],m.query=`${f} ${e.location.query.query||""}`,m.statsPeriod="90d",u)return(0,j.tZ)(g.Z,{message:u,onRetry:()=>l("")});const y=s.features.includes("session-replay-ui");return(0,j.tZ)(q.Z,{eventView:m,location:t,issueId:r,organization:s,routes:p,excludedTags:n,projectSlug:i.project.slug,customColumns:["minidump"],setError:e=>l(e??""),transactionName:"",columnTitles:d.slice(),referrer:"api.issues.issue_events",showReplayCol:y})};R.displayName="AllEventsTable";const b=(e,t)=>{const s=e.issueCategory===h.qE.PERFORMANCE,r=t.features.includes("session-replay-ui"),{fields:n,columnTitles:o}=_(e.project.platform??e.platform,{isReplayEnabled:r});return{fields:["id","transaction","title","release","environment","user.display","device","os",...n,...s?["transaction.duration"]:[],"timestamp"],columnTitles:[(0,y.t)("event id"),(0,y.t)("transaction"),(0,y.t)("title"),(0,y.t)("release"),(0,y.t)("environment"),(0,y.t)("user"),(0,y.t)("device"),(0,y.t)("os"),...o,...s?[(0,y.t)("total duration")]:[],(0,y.t)("timestamp"),(0,y.t)("minidump")]}},_=(e,t)=>{const s=t.isReplayEnabled?["replayId"]:[],r=t.isReplayEnabled?[(0,y.t)("replay")]:[],n={fields:["url","runtime"],columnTitles:[(0,y.t)("url"),(0,y.t)("runtime")]};return{[f.Wn.BACKEND]:n,[f.Wn.SERVERLESS]:n,[f.Wn.FRONTEND]:{fields:["url","browser",...s],columnTitles:[(0,y.t)("url"),(0,y.t)("browser"),...r]},[f.Wn.MOBILE]:{fields:["url"],columnTitles:[(0,y.t)("url")]},[f.Wn.DESKTOP]:{fields:[],columnTitles:[]},[f.Wn.OTHER]:{fields:[],columnTitles:[]}}[(0,E.fR)(e)]},w=R,$=["environment","issue","issue.id","performance.issue_ids"];class I extends o.Component{constructor(e){super(e),(0,r.Z)(this,"_unsubscribeHandleRouteLeave",void 0),(0,r.Z)(this,"handleSearch",(e=>{const t={...this.props.location.query};t.query=e;const{organization:s}=this.props,{groupId:r}=this.props.params;i.browserHistory.push((0,d.D)({pathname:`/organizations/${s.slug}/issues/${r}/events/`,query:t}))}));const t=this.props.location.query;this.state={query:t.query||""}}UNSAFE_componentWillReceiveProps(e){if(this.props.location.search!==e.location.search){const t=e.location.query;this.setState({query:t.query})}}UNSAFE_componentDidMount(){this._unsubscribeHandleRouteLeave=i.browserHistory.listen((e=>(0,p.j)({fieldsToClean:["cursor"],newLocation:e,oldPathname:this.props.location.pathname})))}UNSAFE_componentWillUnmount(){this._unsubscribeHandleRouteLeave?.()}render(){return(0,j.tZ)(u.uT,{children:(0,j.BX)(u.or,{fullWidth:!0,children:[(0,j.tZ)(C,{children:(0,j.tZ)(a.Z,{organization:this.props.organization,defaultQuery:"",onSearch:this.handleSearch,excludedTags:$,query:this.state.query,hasRecentSearches:!1})}),(0,j.tZ)(w,{issueId:this.props.group.id,location:this.props.location,organization:this.props.organization,group:this.props.group,excludedTags:$})]})})}}I.displayName="GroupEvents";const C=(0,n.Z)("div",{target:"e3tm9v40"})("margin-bottom:",(0,l.D)(2),";"),P=(0,m.Z)((0,c.Z)(I))},"./app/views/performance/transactionSummary/utils.tsx":(e,t,s)=>{s.d(t,{DC:()=>c,K0:()=>d,MF:()=>v,PU:()=>g,Z6:()=>y,e1:()=>f,nx:()=>S,uI:()=>x,vd:()=>h,xf:()=>m});var r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),n=s("./app/styles/space.tsx"),o=s("./app/utils/discover/urls.tsx"),i=s("./app/utils/getRouteStringFromRoutes.tsx"),a=s("./app/utils/performance/urls.ts"),u=s("./app/utils/profiling/routes.tsx"),l=s("./app/utils/tokenizeSearch.tsx"),p=s("./app/views/performance/traceDetails/utils.tsx");let c,d;function m(e){const t=g(e);return t.removeFilter("transaction"),t}function g(e){const t=new l.MY(e);return t.removeFilter("event.type"),t}function f(e){let{orgSlug:t,transaction:s,projectID:r,query:n,unselectedSeries:o="p100()",display:i,trendFunction:a,trendColumn:u,showTransactions:l,additionalQuery:p,subPath:c}=e;const d=function(e){let{orgSlug:t,subPath:s}=e;return`/organizations/${t}/performance/summary/${s?`${s}/`:""}`}({orgSlug:t,subPath:c});let g;return g="string"==typeof n.query?m(n.query).formatString():n.query,{pathname:d,query:{transaction:s,project:r,environment:n.environment,statsPeriod:n.statsPeriod,start:n.start,end:n.end,query:g,unselectedSeries:o,showTransactions:l,display:i,trendFunction:a,trendColumn:u,referrer:"performance-transaction-summary",...p}}}function y(e){return(t,s,r)=>{const n=`${s.trace}`;return n?(0,p.YA)(t,n,e,{}):{}}}function h(e){return(t,s,r,n)=>{const i=(0,o.JE)(s);return(0,a.D)(t.slug,i,e,r,n)}}function S(){return(e,t,s)=>{const r=t["profile.id"];return r?(0,u.O$)({orgSlug:e.slug,projectSlug:String(t["project.name"]),profileId:String(r)}):{}}}function v(e){const t=(0,i.Z)(e);return(e,s,r)=>{const n=s.replayId;if(!n)return{};const o=`${s["project.name"]}:${n}`;if(!s.timestamp)return{pathname:`/organizations/${e.slug}/replays/${o}/`,query:{referrer:t}};const i=new Date(s.timestamp).getTime()-s["transaction.duration"];return{pathname:`/organizations/${e.slug}/replays/${o}/`,query:{event_t:i,referrer:t}}}}!function(e){e.DURATION_PERCENTILE="durationpercentile",e.DURATION="duration",e.LATENCY="latency",e.TREND="trend",e.VITALS="vitals",e.USER_MISERY="usermisery"}(c||(c={})),function(e){e.FASTEST="fastest",e.SLOW="slow",e.OUTLIER="outlier",e.RECENT="recent"}(d||(d={}));const x=(0,r.Z)("div",{target:"etoucxl0"})("margin-top:",(0,n.D)(3),";")}}]);
//# sourceMappingURL=../sourcemaps/app_views_issueDetails_groupEvents_tsx-app_views_performance_transactionSummary_utils_tsx.d0fa50ae3cb1127c55675f7bdd814642.js.map