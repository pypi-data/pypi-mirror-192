"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_replays_walker_urlWalker_tsx-app_utils_replays_replayDataUtils_tsx"],{"./app/components/events/interfaces/breadcrumbs/breadcrumb/type/icon.tsx":(e,t,s)=>{s.d(t,{Z:()=>i});var n=s("./app/icons/index.tsx"),a=s("./app/types/breadcrumbs.tsx"),r=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const i=function(e){let{type:t}=e;switch(t){case a.kS.USER:case a.kS.UI:return(0,r.tZ)(n.qO,{size:"xs"});case a.kS.NAVIGATION:return(0,r.tZ)(n.tM,{size:"xs"});case a.kS.DEBUG:return(0,r.tZ)(n.w6,{size:"xs"});case a.kS.INFO:return(0,r.tZ)(n.aU,{size:"xs"});case a.kS.ERROR:return(0,r.tZ)(n.zC,{size:"xs"});case a.kS.HTTP:return(0,r.tZ)(n.Mr,{size:"xs",rotated:!0});case a.kS.WARNING:return(0,r.tZ)(n.FC,{size:"xs"});case a.kS.QUERY:return(0,r.tZ)(n.bv,{size:"xs"});case a.kS.SYSTEM:return(0,r.tZ)(n.yC,{size:"xs"});case a.kS.SESSION:return(0,r.tZ)(n.tr,{size:"xs"});case a.kS.TRANSACTION:return(0,r.tZ)(n.CR,{size:"xs"});default:return(0,r.tZ)(n.Ch,{size:"xs"})}}},"./app/components/events/interfaces/breadcrumbs/utils.tsx":(e,t,s)=>{s.d(t,{LP:()=>o,vf:()=>c}),s("../node_modules/core-js/modules/es.array.includes.js");var n=s("./app/locale.tsx"),a=s("./app/types/breadcrumbs.tsx"),r=s("./app/types/event.tsx"),i=s("./app/utils.tsx");function o(e){return e.map(((e,t)=>{const s=function(e){if(e.type===a.kS.EXCEPTION)return{...e,type:a.kS.ERROR};if(e.type===a.kS.DEFAULT&&(0,i.ri)(e?.category)){const[t,s]=e.category.split(".");if("ui"===t)return{...e,type:a.kS.UI};if("console"===t)return{...e,type:a.kS.DEBUG};if("navigation"===t)return{...e,type:a.kS.NAVIGATION};if("sentry"===t&&("transaction"===s||"event"===s))return{...e,type:a.kS.TRANSACTION}}return Object.values(a.kS).includes(e.type)?e:{...e,type:a.kS.DEFAULT}}(e),{color:r,description:o}=function(e){switch(e){case a.kS.USER:case a.kS.UI:return{color:"purple300",description:(0,n.t)("User Action")};case a.kS.NAVIGATION:return{color:"green300",description:(0,n.t)("Navigation")};case a.kS.DEBUG:return{color:"purple300",description:(0,n.t)("Debug")};case a.kS.INFO:return{color:"blue300",description:(0,n.t)("Info")};case a.kS.ERROR:return{color:"red300",description:(0,n.t)("Error")};case a.kS.HTTP:return{color:"green300",description:(0,n.t)("HTTP request")};case a.kS.WARNING:return{color:"yellow300",description:(0,n.t)("Warning")};case a.kS.QUERY:return{color:"blue300",description:(0,n.t)("Query")};case a.kS.SYSTEM:return{color:"pink300",description:(0,n.t)("System")};case a.kS.SESSION:return{color:"pink300",description:(0,n.t)("Session")};case a.kS.TRANSACTION:return{color:"pink300",description:(0,n.t)("Transaction")};default:return{color:"gray300",description:(0,n.t)("Default")}}}(s.type);return{...s,id:t,color:r,description:o,level:s.level??a.nU.UNDEFINED}}))}function l(e){if(!e)return;const t=e.match(/^.*\/(.*?)(:\d+)/);return t?t[1]:e.split(/./)[0]}function c(e){const t=e.entries.find((e=>e.type===r.UZ.EXCEPTION));if(!t&&!e.message)return;const s=e.dateCreated;if(t){const{type:e,value:n,module:r}=t.data.values[0];return{type:a.kS.ERROR,level:a.nU.ERROR,category:l(r)||"exception",data:{type:e,value:n},timestamp:s}}const n=(e.tags||[]).find((e=>"level"===e.key));return{type:a.kS.INFO,level:n?.value||a.nU.UNDEFINED,category:"message",message:e.message,timestamp:s}}},"./app/components/replays/breadcrumbs/utils.tsx":(e,t,s)=>{s.d(t,{s_:()=>i});var n=s("./app/types/breadcrumbs.tsx");function a(e,t){if(e.data&&"action"in e.data&&"largest-contentful-paint"===e.data.action&&e.timestamp&&t)return new Date(e.timestamp).getTime()-t+"ms";switch(e.type){case n.kS.NAVIGATION:return`${e.data?.to??""}`;case n.kS.DEFAULT:return JSON.stringify(e.data);default:return e.message||""}}function r(e){if(e.data&&"label"in e.data&&e.data.label)return e.data.label;const[t,s]=e.category?.split(".")||[];return"ui"===t?`User ${s||""}`:`${t} ${s||""}`}function i(e,t){return{title:r(e),description:a(e,t)}}},"./app/components/replays/replayContext.tsx":(e,t,s)=>{s.d(t,{z:()=>v,M:()=>x});var n=s("../node_modules/react/index.js"),a=s("../node_modules/@emotion/react/dist/emotion-element-6a883da9.browser.esm.js"),r=s("../node_modules/rrweb/es/rrweb/packages/rrweb/src/replay/index.js"),i=s("../node_modules/rrweb/es/rrweb/packages/rrweb/src/types.js"),o=s("./app/stores/configStore.tsx"),l=s("./app/stores/useLegacyStore.tsx"),c=s("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),u=s("./app/utils/localStorage.tsx");const p=new Map;function m(e){let{replayer:t,nodeId:s}=e;if(!p.has(s))return!1;const n=p.get(s);return!(!n||!t.wrapper.contains(n.canvas)||(t.wrapper.removeChild(n.canvas),p.delete(s),0))}var d,g=s("./app/utils/useOrganization.tsx"),f=s("./app/utils/usePrevious.tsx"),h=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");!function(e){e.ReplayConfig="replay-config"}(d||(d={}));const y=(0,n.createContext)({clearAllHighlights:()=>{},currentHoverTime:void 0,currentTime:0,dimensions:{height:0,width:0},fastForwardSpeed:0,highlight:()=>{},initRoot:()=>{},isBuffering:!1,isFinished:!1,isPlaying:!1,isSkippingInactive:!0,removeHighlight:()=>{},replay:null,restart:()=>{},setCurrentHoverTime:()=>{},setCurrentTime:()=>{},setSpeed:()=>{},speed:1,togglePlayPause:()=>{},toggleSkipInactive:()=>{}});function b(e){u.Z.setItem(d.ReplayConfig,JSON.stringify(e))}function v(e){let{children:t,replay:s,initialTimeOffset:v=0,value:x={}}=e;const k=(0,l.X)(o.Z),S=(0,g.Z)(),T=s?.getRRWebEvents(),w=(0,n.useRef)(JSON.parse(u.Z.getItem(d.ReplayConfig)||"{}")),C=(0,a.u)(),I=(0,f.Z)(T),N=T!==I,Z=(0,n.useRef)(null),[E,R]=(0,n.useState)({height:0,width:0}),[j,A]=(0,n.useState)(),[O,_]=(0,n.useState)(!1),[D,M]=(0,n.useState)(-1),[U,P]=(0,n.useState)(w.current.skip??!0),[z,H]=(0,n.useState)(w.current.speed||1),[F,B]=(0,n.useState)(0),[L,G]=(0,n.useState)({target:-1,previous:-1}),V=(0,n.useRef)(void 0),W=(0,n.useRef)(!1),$=Z.current?.getCurrentTime()===D,q=e=>{R(e)},X=e=>{B(e.speed)},Y=()=>{B(0)},Q=(0,n.useCallback)((e=>{let{nodeId:t,annotation:s}=e;const n=Z.current;n&&function(e){let{replayer:t,nodeId:s,annotation:n="",color:a}=e;const{mouseTail:r,wrapper:i}=t,o=t.getMirror().getNode(s);if(!o||!("getBoundingClientRect"in o)||!t.iframe.contentDocument?.body?.contains(o))return null;const{top:l,left:c,width:u,height:m}=o.getBoundingClientRect(),d=a??"rgba(168, 196, 236, 0.75)",g=r.cloneNode(),f=g.getContext("2d");if(!f)return null;f.fillStyle=d,f.fillRect(c,l,u,m),f.beginPath(),f.setLineDash([5,5]),f.moveTo(c,l),f.lineTo(c+u,l),f.lineTo(c+u,l+m),f.lineTo(c,l+m),f.closePath(),f.stroke(),f.font="24px Rubik",f.textAlign="right",f.textBaseline="bottom";const h=f.measureText(n).width;f.fillStyle="rgba(30, 30, 30, 0.75)",f.fillRect(c+u-h,l+m-30,h,30),f.fillStyle="white",f.fillText(n,c+u,l+m),p.set(s,{canvas:g}),i.insertBefore(g,r)}({replayer:n,nodeId:t,annotation:s})}),[]),J=(0,n.useCallback)((()=>{const e=Z.current;e&&function(e){let{replayer:t}=e;for(const e of p.keys())m({replayer:t,nodeId:e})}({replayer:e})}),[]),K=(0,n.useCallback)((e=>{let{nodeId:t}=e;const s=Z.current;s&&m({replayer:s,nodeId:t})}),[]),ee=(0,n.useCallback)((()=>{M(Z.current?.getCurrentTime()??-1),_(!1)}),[]),te=(0,n.useCallback)((e=>{if(void 0===T)return;if(null===e)return;if(Z.current){if(!N&&!W.current)return;if(0===Z.current.iframe.contentDocument?.body.childElementCount)return;for(;e.firstChild;)e.removeChild(e.firstChild)}const t=new r.x(T,{root:e,blockClass:"sentry-block",mouseTail:{duration:750,lineCap:"round",lineWidth:2,strokeStyle:C.purple200},skipInactive:w.current.skip??!0,speed:w.current.speed||1});t.on(i.SA.Resize,q),t.on(i.SA.Finish,ee),t.on(i.SA.SkipStart,X),t.on(i.SA.SkipEnd,Y),Z.current=t,W.current&&(W.current=!1)}),[T,C.purple200,ee,N]),se=(0,n.useCallback)((()=>Z.current?Math.max(Z.current.getCurrentTime(),0):0),[]),ne=(0,n.useCallback)((e=>{const t=Z.current;if(!t)return;const s=t.config;s&&t.setConfig({skipInactive:!1});const n=Z.current?.getMetaData().totalTime,a=e>n?0:e;G({target:a,previous:se()}),V.current&&window.clearTimeout(V.current),s&&t.setConfig({skipInactive:!0}),O?(V.current=window.setTimeout((()=>t.play(a)),0),_(!0)):(V.current=window.setTimeout((()=>t.pause(a)),0),_(!1))}),[se,O]),ae=(0,n.useCallback)((e=>{const t=Z.current;w.current={...w.current,speed:e},b(w.current),t&&(O?(t.pause(),t.setConfig({speed:e}),t.play(se())):t.setConfig({speed:e}),H(e))}),[se,O]),re=(0,n.useCallback)((e=>{const t=Z.current;t&&(e?t.play(se()):t.pause(se()),_(e),(0,c.Z)("replay.play-pause",{organization:S,user_email:k.user.email,play:e}))}),[se,k.user.email,S]);(0,n.useEffect)((()=>{const e=()=>{"visible"!==document.visibilityState&&re(!1)};return Z.current&&T&&(te(Z.current.wrapper.parentElement),document.addEventListener("visibilitychange",e)),()=>{document.removeEventListener("visibilitychange",e)}}),[te,T,re]);const ie=(0,n.useCallback)((()=>{Z.current&&(Z.current.play(0),_(!0))}),[]),oe=(0,n.useCallback)((e=>{const t=Z.current;w.current={...w.current,skip:e},b(w.current),t&&(e!==t.config.skipInactive&&t.setConfig({skipInactive:e}),P(e))}),[]);(0,n.useEffect)((()=>(v&&T&&Z.current&&ne(1e3*v),()=>{W.current=!0})),[T,Z.current]);const le=function(e){const[t,s]=(0,n.useState)(0);return function(e){(0,n.useEffect)((()=>{const t=window.requestAnimationFrame(e);return()=>window.cancelAnimationFrame(t)}),[e])}((()=>s(e))),t}(se),[ce,ue]=-1!==L.target&&L.previous===le&&L.target!==L.previous?[!0,L.target]:[!1,le];return(0,n.useEffect)((()=>{ce||-1===L.target||G({target:-1,previous:-1})}),[ce,L.target]),(0,h.tZ)(y.Provider,{value:{clearAllHighlights:J,currentHoverTime:j,currentTime:ue,dimensions:E,fastForwardSpeed:F,highlight:Q,initRoot:te,isBuffering:ce,isFinished:$,isPlaying:O,isSkippingInactive:U,removeHighlight:K,replay:s,restart:ie,setCurrentHoverTime:A,setCurrentTime:ne,setSpeed:ae,speed:z,togglePlayPause:re,toggleSkipInactive:oe,...x},children:t})}v.displayName="Provider";const x=()=>(0,n.useContext)(y)},"./app/components/replays/utils.tsx":(e,t,s)=>{s.d(t,{DF:()=>l,DR:()=>c,NH:()=>r,PE:()=>p,Ul:()=>i,cs:()=>m,mr:()=>o}),s("../node_modules/core-js/modules/es.array.push.js");var n=s("./app/utils/formatters.tsx");const a=36e5;function r(e,t){return Math.abs(new Date(e).getTime()-t)}function i(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return o(r(e,t),s)}function o(e,t){if(e<=0||isNaN(e))return t?"00:00.000":"00:00";const s=e/1e3;return(0,n.HE)(t?s:Math.floor(s))}function l(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,n=Math.floor(t/s);const r=e-n*t>0?1:0;n-=r;const i=[1*a,18e5,12e5,9e5,6e5,3e5,12e4,6e4,3e4,1e4,5e3,1e3],o=i.reduce(((t,s)=>(t.set(s,Math.floor(e/s)),t)),new Map),[l,c]=Array.from(o.entries()).filter((e=>{let[t,s]=e;return s<=n})).reduce(((e,t)=>t[1]>e[1]?t:e),[0,0]),u=(e-l*c)/l;return{timespan:l,cols:c,remaining:u}}function c(e,t,s,n){const a=isNaN(t)?1:t;return s.map((t=>{const{timestamp:s}=t,r=+new Date(String(s)),i=isNaN(r)?0:r-e,o=Math.floor(i/a*(n-1))+1;return[Math.max(1,o),t]})).reduce(((e,t)=>{let[s,n]=t;return e.has(s)?e.get(s)?.push(n):e.set(s,[n]),e}),new Map)}function u(e,t){const s=e.startTimestamp<=t.startTimestamp&&t.startTimestamp<=e.endTimestamp,n=e.startTimestamp<=t.endTimestamp&&t.endTimestamp<=e.endTimestamp;return s||n}function p(e){if(!e.length)return[];const t=e.map((e=>{const t=1e3*e.startTimestamp,s=1e3*e.endTimestamp;return{spanCount:1,startTimestamp:t,endTimestamp:s,duration:s-t}})),[s,...n]=t,a=[s];for(const e of n){let t=!1;for(const s of a)if(u(s,e)){t=!0,s.spanCount+=1,s.startTimestamp=Math.min(s.startTimestamp,e.startTimestamp),s.endTimestamp=Math.max(s.endTimestamp,e.endTimestamp),s.duration=s.endTimestamp-s.startTimestamp;break}t||a.push(e)}return a}function m(e,t){return void 0===t||isNaN(t)||0===t?0:e/t}},"./app/components/replays/walker/urlWalker.tsx":(e,t,s)=>{s.d(t,{E:()=>j,j:()=>A});var n=s("../node_modules/react/index.js"),a=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=s("./app/icons/index.tsx"),i=s("./app/styles/space.tsx"),o=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function l(e){let{items:t}=e;return(0,o.tZ)(c,{cols:t.length,children:t.flatMap(((e,t)=>{const s=(0,o.tZ)(u,{children:e},`${t}-item`);return 0===t?s:[(0,o.tZ)(u,{role:"separator",children:(0,o.tZ)(p,{children:(0,o.tZ)(r.g6,{color:"gray300",size:"xs",direction:"right"})})},`${t}-chev`),s]}))})}l.displayName="ChevronDividedList";const c=(0,a.Z)("ul",{target:"e1f4npmv2"})("padding:0;margin:0;list-style:none;display:grid;gap:",(0,i.D)(1),";grid-template-columns:",(e=>e.cols<=3?"minmax(auto, max-content) max-content minmax(auto, max-content) max-content minmax(auto, max-content)":"minmax(auto, max-content) repeat(3, max-content) minmax(auto, max-content)"),";flex-wrap:nowrap;align-items:center;overflow:hidden;"),u=(0,a.Z)("li",{target:"e1f4npmv1"})({name:"jc8dhw",styles:"display:flex;flex-direction:column;overflow:hidden"}),p=(0,a.Z)("span",{target:"e1f4npmv0"})("color:",(e=>e.theme.gray300),";font-size:",(e=>e.theme.fontSizeSmall),";line-height:1;"),m=l;var d=s("../node_modules/lodash/first.js"),g=s.n(d),f=s("../node_modules/lodash/last.js"),h=s.n(f),y=s("./app/components/hovercard.tsx"),b=s("./app/components/textOverflow.tsx"),v=s("./app/components/tooltip.tsx"),x=s("./app/locale.tsx"),k=s("./app/utils/replays/hooks/useCrumbHandlers.tsx"),S=s("./app/views/replays/detail/breadcrumbs/breadcrumbItem.tsx");function T(e){let{onClick:t,path:s}=e;if(!s)return null;const n=(0,o.tZ)(v.u,{title:s,children:(0,o.tZ)(b.Z,{ellipsisDirection:"left",children:s})});return t?(0,o.tZ)(N,{onClick:t,children:n}):(0,o.tZ)(I,{children:n})}function w(e){let{crumbs:t,handleOnClick:s,startTimestampMs:n}=e;const{handleMouseEnter:a,handleMouseLeave:r}=(0,k.Z)(n),i=(0,o.tZ)(C,{children:t.map(((e,t)=>(0,o.tZ)("li",{children:(0,o.tZ)(S.Z,{crumb:e,startTimestampMs:n,isHovered:!1,isSelected:!1,onMouseEnter:a,onMouseLeave:r,onClick:s})},e.id||t)))});return(0,o.tZ)(I,{children:(0,o.tZ)(Z,{body:i,position:"right",children:(0,o.tZ)(b.Z,{children:(0,x.tn)("%s Page","%s Pages",t.length)})})})}T.displayName="SingleLinkSegment",w.displayName="SummarySegment";const C=(0,a.Z)("ul",{target:"e1rum38g3"})({name:"i8ly6n",styles:"padding:0;margin:0;list-style:none;max-height:calc(100vh - 32px);overflow:scroll"}),I=(0,a.Z)("span",{target:"e1rum38g2"})("color:",(e=>e.theme.subText),";font-size:",(e=>e.theme.fontSizeSmall),";line-height:0;max-width:240px;"),N=(0,a.Z)("a",{target:"e1rum38g1"})("color:",(e=>e.theme.subText),";font-size:",(e=>e.theme.fontSizeSmall),";line-height:0;text-decoration:underline;"),Z=(0,a.Z)((e=>{let{children:t,bodyClassName:s,...n}=e;return(0,o.tZ)(y.uI,{bodyClassName:s||" half-padding",...n,children:t})}),{target:"e1rum38g0"})(".half-padding{padding:",(0,i.D)(.5),";}"),E=function(e){let{crumbs:t,onClick:s,startTimestampMs:n}=e;const a=g()(t)?.data?.to?.split("?")?.[0],r=t.slice(1,-1),i=h()(t)?.data?.to?.split("?")?.[0];return 0===t.length?[(0,o.tZ)(I,{children:(0,o.tZ)(b.Z,{children:(0,x.tn)("%s Page","%s Pages",0)})},"summary")]:t.length>3?[(0,o.tZ)(T,{path:a,onClick:s?()=>s(g()(t)):null},"first"),(0,o.tZ)(w,{crumbs:r,startTimestampMs:n,handleOnClick:s},"summary"),(0,o.tZ)(T,{path:i,onClick:s?()=>s(h()(t)):null},"last")]:t.map(((e,t)=>(0,o.tZ)(T,{path:e.data?.to?.split("?")?.[0],onClick:s?()=>s(e):null},t)))};var R=s("./app/types/breadcrumbs.tsx");const j=(0,n.memo)((function(e){let{crumbs:t,replayRecord:s}=e;const n=s.started_at.getTime(),{handleClick:a}=(0,k.Z)(n),r=t.filter((e=>e.type===R.kS.NAVIGATION));return(0,o.tZ)(m,{items:E({crumbs:r,startTimestampMs:n,onClick:a})})})),A=(0,n.memo)((function(e){let{urls:t}=e;return(0,o.tZ)(m,{items:E({crumbs:t.map(O),startTimestampMs:0,onClick:null})})}));function O(e){return{type:R.kS.NAVIGATION,category:R.kS.NAVIGATION,level:R.nU.INFO,description:"Navigation",id:0,color:"green300",timestamp:void 0,data:{to:e}}}},"./app/types/breadcrumbs.tsx":(e,t,s)=>{let n,a;function r(e){return Object.values(n).includes(e)}function i(e){return![a.HTTP,a.NAVIGATION].includes(e.type)}s.d(t,{Q8:()=>r,T5:()=>i,kS:()=>a,nU:()=>n}),s("../node_modules/core-js/modules/es.array.includes.js"),function(e){e.FATAL="fatal",e.ERROR="error",e.WARNING="warning",e.INFO="info",e.DEBUG="debug",e.UNDEFINED="undefined",e.LOG="log"}(n||(n={})),function(e){e.INFO="info",e.DEBUG="debug",e.MESSAGE="message",e.QUERY="query",e.UI="ui",e.USER="user",e.EXCEPTION="exception",e.WARNING="warning",e.ERROR="error",e.DEFAULT="default",e.HTTP="http",e.NAVIGATION="navigation",e.SYSTEM="system",e.SESSION="session",e.TRANSACTION="transaction",e.INIT="init"}(a||(a={}))},"./app/utils/replays/hooks/useActiveReplayTab.tsx":(e,t,s)=>{s.d(t,{Z:()=>l});var n=s("../node_modules/react/index.js"),a=s("./app/utils/useUrlParams.tsx");let r;function i(e){return e in r}!function(e){e.console="console",e.dom="dom",e.network="network",e.trace="trace",e.issues="issues",e.memory="memory"}(r||(r={}));const o=r.console,l=function(){const{getParamValue:e,setParamValue:t}=(0,a.Z)("t_main",o),s=e();return{getActiveTab:(0,n.useCallback)((()=>i(s||"")?s:o),[s]),setActiveTab:(0,n.useCallback)((e=>i(e)?t(e):t(o)),[t])}}},"./app/utils/replays/hooks/useCrumbHandlers.tsx":(e,t,s)=>{s.d(t,{Z:()=>l});var n=s("../node_modules/react/index.js"),a=s("./app/components/replays/replayContext.tsx"),r=s("./app/components/replays/utils.tsx"),i=s("./app/types/breadcrumbs.tsx"),o=s("./app/utils/replays/hooks/useActiveReplayTab.tsx");const l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{clearAllHighlights:t,highlight:s,removeHighlight:l,setCurrentHoverTime:c,setCurrentTime:u}=(0,a.M)(),{setActiveTab:p}=(0,o.Z)(),m=(0,n.useCallback)((n=>{e&&c((0,r.NH)(n.timestamp??"",e)),n.data&&"nodeId"in n.data&&(t(),s({nodeId:n.data.nodeId,annotation:n.data.label}))}),[c,e,s,t]),d=(0,n.useCallback)((e=>{c(void 0),e.data&&"nodeId"in e.data&&l({nodeId:e.data.nodeId})}),[c,l]),g=(0,n.useCallback)((t=>{if(void 0!==t.timestamp&&u((0,r.NH)(t.timestamp,e)),"type"in t)switch(t.type){case i.kS.NAVIGATION:p("network");break;case i.kS.UI:p("dom");break;default:p("console")}}),[u,e,p]);return{handleMouseEnter:m,handleMouseLeave:d,handleClick:g}}},"./app/utils/replays/replayDataUtils.tsx":(e,t,s)=>{s.d(t,{Hs:()=>c,_O:()=>h,ay:()=>g,c_:()=>m,iz:()=>y,j1:()=>p,qC:()=>d,qI:()=>u,so:()=>f}),s("../node_modules/core-js/modules/es.array.push.js"),s("../node_modules/core-js/modules/es.array.includes.js");var n=s("../node_modules/lodash/first.js"),a=s.n(n),r=s("../node_modules/moment/moment.js"),i=s("./app/components/events/interfaces/breadcrumbs/utils.tsx"),o=s("./app/locale.tsx"),l=s("./app/types/breadcrumbs.tsx");function c(e){const t={breadcrumbs:[],rrwebEvents:[],spans:[]};return e.forEach((e=>{"performanceSpan"===e.data?.tag?t.spans.push(e.data.payload):"breadcrumb"===e?.data?.tag?t.breadcrumbs.push(e.data.payload):t.rrwebEvents.push(e)})),t}const u=e=>"memory"===e.op,p=e=>e.op.startsWith("navigation.")||e.op.startsWith("resource."),m=(e,t)=>e.filter(l.T5).filter((e=>t.includes(e.category||"")));function d(e){const t={...e.tags,...e.browser?.name?{"browser.name":[e.browser.name]}:{},...e.browser?.version?{"browser.version":[e.browser.version]}:{},...e.device?.brand?{"device.brand":[e.device.brand]}:{},...e.device?.family?{"device.family":[e.device.family]}:{},...e.device?.model_id?{"device.model_id":[e.device.model_id]}:{},...e.device?.name?{"device.name":[e.device.name]}:{},...e.platform?{platform:[e.platform]}:{},...e.releases?{releases:[e.releases]}:{},...e.os?.name?{"os.name":[e.os.name]}:{},...e.os?.version?{"os.version":[e.os.version]}:{},...e.sdk?.name?{"sdk.name":[e.sdk.name]}:{},...e.sdk?.version?{"sdk.version":[e.sdk.version]}:{},...e.user?.ip?{"user.ip":[e.user.ip]}:{}},s=Object.keys(t).sort().reduce(((e,s)=>(e[s]=t[s],e)),{});return{...e,...e.started_at?{started_at:new Date(e.started_at)}:{},...e.finished_at?{finished_at:new Date(e.finished_at)}:{},...void 0!==e.duration?{duration:(0,r.duration)(1e3*e.duration)}:{},tags:s}}function g(e,t){const s=[].concat(t).concat({type:5,timestamp:e.finished_at.getTime(),data:{tag:"replay-end"}});return s.sort(((e,t)=>e.timestamp-t.timestamp)),a()(s).timestamp=e.started_at.getTime(),s}function f(e,t,s,n){const a=["ui.focus","ui.blur"],r=e.tags.url?.join(", "),c={type:l.kS.INIT,timestamp:e.started_at.toISOString(),level:l.nU.INFO,message:r,data:{action:"replay-init",label:(0,o.t)("Start recording"),url:r}},u=t.map((e=>({type:l.kS.ERROR,level:l.nU.ERROR,category:"issue",message:e.title,data:{label:e["error.type"].join(""),eventId:e.id,groupId:e["issue.id"]||1,groupShortId:e.issue||"POKEDEX-4NN",project:e["project.name"]},timestamp:e.timestamp}))),p=n.filter((e=>["navigation.navigate","navigation.reload","largest-contentful-paint"].includes(e.op))).map((e=>{if(e.op.startsWith("navigation")){const[,t]=e.op.split(".");return{category:"default",type:l.kS.NAVIGATION,timestamp:new Date(1e3*e.startTimestamp).toISOString(),level:l.nU.INFO,message:e.description,action:t,data:{to:e.description,label:"reload"===t?(0,o.t)("Reload"):"navigate"===t?(0,o.t)("Page load"):(0,o.t)("Navigation"),...e.data}}}return{type:l.kS.DEBUG,timestamp:new Date(1e3*e.startTimestamp).toISOString(),level:l.nU.INFO,category:"default",data:{action:e.op,...e.data,label:"largest-contentful-paint"===e.op?(0,o.t)("LCP"):e.op}}})),m=n.find((e=>"navigation.navigate"===e.op)),d=s.filter((e=>!a.includes(e.category||""))).map((e=>({...e,type:l.kS.DEFAULT,timestamp:new Date(1e3*e.timestamp).toISOString()})));return(0,i.LP)([...m?[]:[c],...d,...u,...p]).sort(((e,t)=>+new Date(e.timestamp||0)-+new Date(t.timestamp||0)))}function h(e){return e.sort(((e,t)=>e.startTimestamp-t.startTimestamp)).map((e=>({...e,id:`${e.description??e.op}-${e.startTimestamp}-${e.endTimestamp}`,timestamp:1e3*e.startTimestamp})))}function y(e,t,s,n){const a=t.map((e=>e.timestamp)).filter(Boolean),r=s.map((e=>e.timestamp)).filter(Boolean).map((e=>+new Date(1e3*e))).filter(Boolean),i=n.map((e=>1e3*e.startTimestamp)),o=n.map((e=>1e3*e.endTimestamp));return{startTimestampMs:Math.min(e.started_at.getTime(),...a,...r,...i),endTimestampMs:Math.max(e.finished_at.getTime(),...a,...r,...o)}}},"./app/utils/useUrlParams.tsx":(e,t,s)=>{s.d(t,{Z:()=>i}),s("../node_modules/core-js/modules/es.array.push.js");var n=s("../node_modules/react/index.js"),a=s("../node_modules/react-router/es/index.js"),r=s("./app/utils/useLocation.tsx");const i=function(e,t){const s=(0,r.T)(),i=(0,n.useCallback)((e=>s.query[e]||t),[s,t]),o=(0,n.useCallback)(((e,t)=>{a.browserHistory.push({...s,query:{...s.query,[e]:t}})}),[s]),l=(0,n.useCallback)((()=>i(e||"")),[i,e]),c=(0,n.useCallback)((t=>o(e||"",t)),[o,e]);return void 0!==e?{getParamValue:l,setParamValue:c}:{getParamValue:i,setParamValue:o}}},"./app/views/replays/detail/breadcrumbs/breadcrumbItem.tsx":(e,t,s)=>{s.d(t,{Z:()=>b});var n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=s("../node_modules/react/index.js"),r=s("./app/components/events/interfaces/breadcrumbs/breadcrumb/type/icon.tsx"),i=s("./app/components/panels/index.tsx"),o=s("./app/components/replays/breadcrumbs/utils.tsx"),l=s("./app/styles/space.tsx"),c=s("./app/views/replays/detail/timestampButton.tsx"),u=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function p(e){let{crumb:t,isHovered:s,isSelected:n,startTimestampMs:i,allowHover:l=!0,onMouseEnter:p,onMouseLeave:b,onClick:v}=e;const{title:x,description:k}=(0,o.s_)(t,i),S=(0,a.useCallback)((e=>p&&p(t,e)),[p,t]),T=(0,a.useCallback)((e=>b&&b(t,e)),[b,t]),w=(0,a.useCallback)((e=>{v?.(t,e)}),[t,v]);return(0,u.BX)(h,{as:v?"button":"span",onMouseEnter:S,onMouseLeave:T,onClick:w,isHovered:s,isSelected:n,"aria-current":n,allowHover:l,children:[(0,u.tZ)(y,{color:t.color,children:(0,u.tZ)(r.Z,{type:t.type})}),(0,u.BX)(m,{children:[(0,u.BX)(d,{children:[(0,u.tZ)(g,{children:x}),v?(0,u.tZ)(c.Z,{startTimestampMs:i,timestampMs:t.timestamp||""}):null]}),(0,u.tZ)(f,{title:k,children:k})]})]})}p.displayName="BreadcrumbItem";const m=(0,n.Z)("div",{target:"ejg0l3i5"})({name:"jc8dhw",styles:"display:flex;flex-direction:column;overflow:hidden"}),d=(0,n.Z)("div",{target:"ejg0l3i4"})("display:flex;justify-content:space-between;gap:",(0,l.D)(1),";"),g=(0,n.Z)("span",{target:"ejg0l3i3"})((e=>e.theme.overflowEllipsis),";text-transform:capitalize;font-weight:600;color:",(e=>e.theme.gray400),";line-height:",(e=>e.theme.text.lineHeightBody),";"),f=(0,n.Z)("span",{target:"ejg0l3i2"})((e=>e.theme.overflowEllipsis),";font-size:0.7rem;font-variant-numeric:tabular-nums;line-height:",(e=>e.theme.text.lineHeightBody),";color:",(e=>e.theme.subText),";"),h=(0,n.Z)(i.Lv,{target:"ejg0l3i1"})("display:grid;grid-template-columns:max-content auto;align-items:flex-start;gap:",(0,l.D)(1),";width:100%;font-size:",(e=>e.theme.fontSizeMedium),";background:transparent;padding:",(0,l.D)(1),";text-align:left;border:none;position:relative;",(e=>e.isSelected&&`background-color: ${e.theme.purple100};`)," ",(e=>e.isHovered&&`background-color: ${e.theme.surface200};`)," border-radius:",(e=>e.theme.borderRadius),";",(e=>e.allowHover&&` &:hover {\n    background-color: ${e.theme.surface200};\n  }`),"&::after{content:'';position:absolute;left:19.5px;width:1px;background:",(e=>e.theme.gray200),";height:100%;}&:first-of-type::after{top:",(0,l.D)(1),";bottom:0;}&:last-of-type::after{top:0;height:",(0,l.D)(1),";}&:only-of-type::after{height:0;}"),y=(0,n.Z)("div",{target:"ejg0l3i0"})("display:flex;align-items:center;justify-content:center;width:24px;height:24px;border-radius:50%;color:",(e=>e.theme.white),";background:",(e=>e.theme[e.color]??e.color),";box-shadow:",(e=>e.theme.dropShadowLight),";position:relative;z-index:",(e=>e.theme.zIndex.initial),";"),b=(0,a.memo)(p)},"./app/views/replays/detail/timestampButton.tsx":(e,t,s)=>{s.d(t,{Z:()=>m});var n=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=s("./app/components/dateTime.tsx"),r=s("./app/components/replays/utils.tsx"),i=s("./app/components/tooltip.tsx"),o=s("./app/icons/index.tsx"),l=s("./app/styles/space.tsx"),c=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function u(e){let{className:t,format:s="mm:ss",onClick:n,startTimestampMs:l,timestampMs:u}=e;return(0,c.tZ)(i.u,{title:(0,c.tZ)(a.Z,{date:u}),children:(0,c.BX)(p,{as:n?"button":"span",onClick:n,className:t,children:[(0,c.tZ)(o.JF,{size:"xs"}),(0,r.Ul)(u,l,"mm:ss.SSS"===s)]})})}u.displayName="TimestampButton";const p=(0,n.Z)("button",{target:"esymjun0"})("background:transparent;border:none;color:'inherit';font-size:",(e=>e.theme.fontSizeSmall),";font-variant-numeric:tabular-nums;display:flex;align-items:center;gap:",(0,l.D)(.25),";padding:0;&>svg{visibility:hidden;}&:hover svg{visibility:visible;}"),m=u}}]);
//# sourceMappingURL=../sourcemaps/app_components_replays_walker_urlWalker_tsx-app_utils_replays_replayDataUtils_tsx.7f331256d537e6e431c9c1fc57b4d0bc.js.map