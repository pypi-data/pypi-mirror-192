"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_actionCreators_navigation_tsx-app_components_eventOrGroupHeader_tsx-app_components_pagina-1d6445"],{"./app/actionCreators/navigation.tsx":(e,t,n)=>{n.d(t,{T:()=>d}),n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/core-js/modules/es.array.push.js");var s=n("./app/actionCreators/modal.tsx"),o=n("./app/components/contextPickerModal.tsx"),i=n("./app/stores/projectsStore.tsx"),r=n("./app/utils/replaceRouterParams.tsx"),a=n("./app/utils/withDomainRequired.tsx"),l=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function d(e,t,n){const d=e.includes(":orgId"),p=e.includes(":projectId")||e.includes(":project"),c=t?.location?.query?.project,u=!c||Array.isArray(c),m=i.Z.getById(c);d||p&&(u||!m)||n?(0,s.openModal)((s=>(0,l.tZ)(o.Z,{...s,nextPath:e,needOrg:d,needProject:p,configUrl:n,onFinish:e=>(s.closeModal(),window.setTimeout((()=>t.push((0,a.D)(e))),0))})),{}):(m&&(e=(0,r.Z)(e,{projectId:m.slug,project:m.id})),t.push((0,a.D)(e)))}},"./app/components/contextPickerModal.tsx":(e,t,n)=>{n.d(t,{Z:()=>z});var s=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=(n("../node_modules/core-js/modules/es.array.push.js"),n("../node_modules/react/index.js")),r=n("../node_modules/react-dom/profiling.js"),a=n("../node_modules/react-select/dist/index-4bd03571.esm.js"),l=n("./app/components/asyncComponent.tsx"),d=n("./app/components/forms/controls/selectControl.tsx"),p=n("./app/components/idBadge/index.tsx"),c=n("./app/components/links/link.tsx"),u=n("./app/components/loadingIndicator.tsx"),m=n("./app/locale.tsx"),g=n("./app/stores/configStore.tsx"),h=n("./app/stores/organizationsStore.tsx"),v=n("./app/stores/organizationStore.tsx"),f=n("./app/styles/space.tsx"),Z=n("./app/utils/projects.tsx"),x=n("./app/utils/replaceRouterParams.tsx"),y=n("./app/views/settings/organizationIntegrations/integrationIcon.tsx"),S=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const j={menu:e=>({...e,position:"initial",boxShadow:"none",marginBottom:0}),option:(e,t)=>({...e,opacity:t.isDisabled?.6:1,cursor:t.isDisabled?"not-allowed":"pointer",pointerEvents:t.isDisabled?"none":"auto"})};class b extends i.Component{constructor(){var e;super(...arguments),e=this,(0,s.Z)(this,"onFinishTimeout",void 0),(0,s.Z)(this,"orgSelect",null),(0,s.Z)(this,"projectSelect",null),(0,s.Z)(this,"configSelect",null),(0,s.Z)(this,"navigateIfFinish",(function(t,n){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.props.organization;const{needProject:o,onFinish:i,nextPath:r,integrationConfigs:a}=e.props,{isSuperuser:l}=g.Z.get("user")||{};if(!o&&1!==t.length||o&&1!==n.length||a.length&&l)return;if(window.clearTimeout(e.onFinishTimeout),!o)return void(e.onFinishTimeout=i((0,x.Z)(r,{orgId:t[0].slug}))??void 0);let d=s;d||1!==t.length||(d=t[0].slug),e.onFinishTimeout=i((0,x.Z)(r,{orgId:d,projectId:n[0].slug,project:e.props.projects.find((e=>e.slug===n[0].slug))?.id}))??void 0})),(0,s.Z)(this,"doFocus",(e=>{if(!e||this.props.loading)return;const t=(0,r.findDOMNode)(e);if(null!==t){const e=t.querySelector("input");e&&e.focus()}})),(0,s.Z)(this,"handleSelectOrganization",(e=>{let{value:t}=e;this.props.needProject?this.props.onSelectOrganization(t):this.navigateIfFinish([{slug:t}],[])})),(0,s.Z)(this,"handleSelectProject",(e=>{let{value:t}=e;const{organization:n}=this.props;t&&n&&this.navigateIfFinish([{slug:n}],[{slug:t}])})),(0,s.Z)(this,"handleSelectConfiguration",(e=>{let{value:t}=e;const{onFinish:n,nextPath:s}=this.props;t&&n(`${s}${t}/`)})),(0,s.Z)(this,"getMemberProjects",(()=>{const{projects:e}=this.props,t=[],n=[];return e.forEach((e=>e.isMember?n.push(e):t.push(e))),[n,t]})),(0,s.Z)(this,"customOptionProject",(e=>{let{label:t,...n}=e;const s=this.props.projects.find((e=>{let{slug:t}=e;return n.value===t}));return s?(0,S.tZ)(a.c.Option,{label:t,...n,children:(0,S.tZ)(_,{project:s,avatarSize:20,displayName:t,avatarProps:{consistentWidth:!0},disableLink:!0})}):null}))}componentDidMount(){const{organization:e,projects:t,organizations:n}=this.props;1===n.length&&e&&this.navigateIfFinish([{slug:e}],t)}componentDidUpdate(e){JSON.stringify(e.projects)!==JSON.stringify(this.props.projects)&&this.navigateIfFinish(this.props.organizations,this.props.projects)}componentWillUnmount(){window.clearTimeout(this.onFinishTimeout)}get headerText(){const{needOrg:e,needProject:t,integrationConfigs:n}=this.props;return e&&t?(0,m.t)("Select an organization and a project to continue"):e?(0,m.t)("Select an organization to continue"):t?(0,m.t)("Select a project to continue"):n.length?(0,m.t)("Select a configuration to continue"):""}renderProjectSelectOrMessage(){const{organization:e,projects:t}=this.props,[n,s]=this.getMemberProjects(),{isSuperuser:o}=g.Z.get("user")||{},i=[{label:(0,m.t)("My Projects"),options:n.map((e=>({value:e.slug,label:e.slug,disabled:!1})))},{label:(0,m.t)("All Projects"),options:s.map((e=>({value:e.slug,label:e.slug,disabled:!o})))}];return t.length?(0,S.tZ)(E,{ref:e=>{this.projectSelect=e,this.doFocus(this.projectSelect)},placeholder:(0,m.t)("Select a Project to continue"),name:"project",options:i,onChange:this.handleSelectProject,components:{Option:this.customOptionProject,DropdownIndicator:null},styles:j,menuIsOpen:!0}):(0,S.tZ)("div",{children:(0,m._N)("You have no projects. Click [link] to make one.",{link:(0,S.tZ)(c.Z,{to:`/organizations/${e}/projects/new/`,children:(0,m.t)("here")})})})}renderIntegrationConfigs(){const{integrationConfigs:e}=this.props,{isSuperuser:t}=g.Z.get("user")||{},n=[{label:(0,m._N)("[providerName] Configurations",{providerName:e[0].provider.name}),options:e.map((e=>({value:e.id,label:(0,S.BX)(P,{children:[(0,S.tZ)(y.Z,{size:22,integration:e}),(0,S.tZ)("span",{children:e.domainName})]}),disabled:!t})))}];return(0,S.tZ)(E,{ref:e=>{this.configSelect=e,this.doFocus(this.configSelect)},placeholder:(0,m.t)("Select a configuration to continue"),name:"configurations",options:n,onChange:this.handleSelectConfiguration,components:{DropdownIndicator:null},styles:j,menuIsOpen:!0})}render(){const{needOrg:e,needProject:t,organization:n,organizations:s,loading:o,Header:r,Body:a,integrationConfigs:l}=this.props,{isSuperuser:d}=g.Z.get("user")||{},p=n&&t&&!o,c=l.length>0&&d,u=s.filter((e=>{let{status:t}=e;return"pending_deletion"!==t.id})).map((e=>{let{slug:t}=e;return{label:t,value:t}}));return e||t||c?(0,S.BX)(i.Fragment,{children:[(0,S.tZ)(r,{closeButton:!0,children:this.headerText}),(0,S.BX)(a,{children:[o&&(0,S.tZ)(I,{overlay:!0}),e&&(0,S.tZ)(E,{ref:e=>{this.orgSelect=e,p||this.doFocus(this.orgSelect)},placeholder:(0,m.t)("Select an Organization"),name:"organization",options:u,value:n,onChange:this.handleSelectOrganization,components:{DropdownIndicator:null},styles:j,menuIsOpen:!0}),p&&this.renderProjectSelectOrMessage(),c&&this.renderIntegrationConfigs()]})]}):null}}b.displayName="ContextPickerModal";class w extends l.Z{constructor(){super(...arguments),(0,s.Z)(this,"unlistener",h.Z.listen((e=>this.setState({organizations:e})),void 0)),(0,s.Z)(this,"handleSelectOrganization",(e=>{this.setState({selectedOrganization:e})}))}getDefaultState(){const e=v.Z.get();return{...super.getDefaultState(),organizations:h.Z.getAll(),selectedOrganization:e.organization?.slug}}getEndpoints(){const{configUrl:e}=this.props;return e?[["integrationConfigs",e]]:[]}componentWillUnmount(){this.unlistener?.()}renderModal(e){let{projects:t,initiallyLoaded:n,integrationConfigs:s}=e;return(0,S.tZ)(b,{...this.props,projects:t||[],loading:!n,organizations:this.state.organizations,organization:this.state.selectedOrganization,onSelectOrganization:this.handleSelectOrganization,integrationConfigs:s||[]})}render(){const{projectSlugs:e,configUrl:t}=this.props;return t&&this.state.loading?(0,S.tZ)(u.Z,{}):this.state.integrationConfigs?.length?this.renderModal({integrationConfigs:this.state.integrationConfigs,initiallyLoaded:!this.state.loading}):this.state.selectedOrganization?(0,S.tZ)(Z.Z,{orgId:this.state.selectedOrganization,allProjects:!e?.length,slugs:e,children:e=>{let{projects:t,initiallyLoaded:n}=e;return this.renderModal({projects:t,initiallyLoaded:n})}}):this.renderModal({})}}w.displayName="ContextPickerModalContainer";const z=w,E=(0,o.Z)(d.Z,{target:"e10w9lcp3"})("margin-top:",(0,f.D)(1),";"),_=(0,o.Z)(p.Z,{target:"e10w9lcp2"})("margin:",(0,f.D)(1),";"),I=(0,o.Z)(u.Z,{target:"e10w9lcp1"})({name:"1739oy8",styles:"z-index:1"}),P=(0,o.Z)("div",{target:"e10w9lcp0"})("display:grid;grid-template-columns:",(0,f.D)(4)," auto;grid-template-rows:1fr;")},"./app/components/eventOrGroupHeader.tsx":(e,t,n)=>{n.d(t,{Z:()=>O});var s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=n("../node_modules/react/index.js"),i=n("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),r=n("../node_modules/lodash/capitalize.js"),a=n.n(r),l=n("./app/components/errorBoundary.tsx"),d=n("./app/components/eventOrGroupTitle.tsx"),p=n("./app/components/globalSelectionLink.tsx"),c=n("./app/components/tooltip.tsx"),u=n("./app/icons/index.tsx"),m=n("./app/locale.tsx"),g=n("./app/styles/space.tsx"),h=n("./app/utils/events.tsx"),v=n("./app/utils/useLocation.tsx"),f=n("./app/utils/withOrganization.tsx"),Z=n("./app/views/issueDetails/unhandledTag.tsx"),x=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function y(){return(0,x.BX)(j,{children:[(0,x.tZ)(b,{children:(0,m.t)("<unknown>")}),(0,x.tZ)(w,{children:(0,m.t)("There was an error rendering the title")})]})}y.displayName="EventTitleError";const S=y,j=(0,s.Z)("span",{target:"e1rvqltq2"})({name:"5kov97",styles:"display:flex;flex-wrap:wrap"}),b=(0,s.Z)("span",{target:"e1rvqltq1"})("margin-right:",(0,g.D)(.5),";"),w=(0,s.Z)("span",{target:"e1rvqltq0"})("color:",(e=>e.theme.alert.error.iconColor),";background:",(e=>e.theme.alert.error.backgroundLight),";font-size:",(e=>e.theme.fontSizeMedium),";padding:0 ",(0,g.D)(.5),";border-radius:",(e=>e.theme.borderRadius),";display:flex;align-items:center;");function z(e){let{data:t,index:n,organization:s,query:i,onClick:r,className:d,hideIcons:g,hideLevel:f,includeLink:Z=!0,size:y="normal",grouping:j=!1,source:b}=e;const w=(0,v.T)(),z=!!s.features?.includes("grouping-tree-ui");function E(){const{level:e,status:i,isBookmarked:r,hasSeen:d}=t;return(0,x.BX)(o.Fragment,{children:[!f&&e&&(0,x.tZ)(c.u,{skipWrapper:!0,disabled:"unknown"===e,title:(0,m._N)("Error level: [level]",{level:a()(e)}),children:(0,x.tZ)(T,{level:e})}),!g&&"ignored"===i&&(0,x.tZ)(D,{children:(0,x.tZ)(u.i1,{color:"red400"})}),!g&&r&&(0,x.tZ)(D,{children:(0,x.tZ)(u.GK,{isSolid:!0,color:"yellow400"})}),(0,x.tZ)(l.Z,{customComponent:(0,x.tZ)(S,{}),mini:!0,children:(0,x.tZ)(R,{data:t,organization:s,hasSeen:!(!z||void 0!==d)||d,withStackTracePreview:!0,hasGuideAnchor:0===n,grouping:j})})]})}const _=(0,h.k$)(t),P=(0,h.FC)(t);return(0,x.BX)("div",{className:d,"data-test-id":"event-issue-header",children:[(0,x.tZ)(I,{size:y,hasGroupingTreeUI:z,children:function(){const e=s.slug,{id:n,status:o}=t,{eventID:a,groupID:l}=t,d={"data-test-id":"resolved"===o?"resolved-issue":null,style:"resolved"===o?{textDecoration:"line-through"}:void 0};return Z?(0,x.tZ)(p.Z,{...d,to:{pathname:`/organizations/${e}/issues/${a?l:n}/${a?`events/${a}/`:""}`,query:{referrer:b||"event-or-group-header",query:i,...void 0!==w.query.sort?{sort:w.query.sort}:{},...void 0!==w.query.project?{}:{_allp:1}}},onClick:r,children:E()}):(0,x.tZ)("span",{...d,children:E()})}()}),_&&(0,x.tZ)(N,{size:y,children:_}),P&&(0,x.tZ)(C,{size:y,children:P&&(0,x.tZ)(k,{children:P})})]})}z.displayName="EventOrGroupHeader";const E={name:"c9isw4",styles:"overflow:hidden;max-width:100%;text-overflow:ellipsis;white-space:nowrap"},_=e=>{let{size:t}=e;return"small"===t?"margin: 0;":"margin: 0 0 5px"},I=(0,s.Z)("div",{target:"e1c8ut036"})("line-height:1;margin-bottom:",(0,g.D)(.25),";& em{font-size:",(e=>e.theme.fontSizeMedium),";font-style:normal;font-weight:300;color:",(e=>e.theme.subText),";}",(e=>e.hasGroupingTreeUI?(0,i.iv)(">a:first-child{display:inline-flex;min-height:",(0,g.D)(3),";}",""):(0,i.iv)(E,";","")),";"),P=(0,s.Z)("div",{target:"e1c8ut035"})(E,";",_,";direction:rtl;text-align:left;font-size:",(e=>e.theme.fontSizeMedium),";color:",(e=>e.theme.subText),";span{direction:ltr;}");function N(e){const{children:t,...n}=e;return(0,x.tZ)(P,{...n,children:(0,m._N)("in [location]",{location:(0,x.tZ)("span",{children:t})})})}N.displayName="Location";const C=(0,s.Z)(Z.S,{target:"e1c8ut034"})(_,";line-height:1.2;"),k=(0,s.Z)("div",{target:"e1c8ut033"})(E,";font-size:",(e=>e.theme.fontSizeMedium),";"),D=(0,s.Z)("span",{target:"e1c8ut032"})({name:"vqevil",styles:"position:relative;display:flex;margin-right:5px"}),T=(0,s.Z)("div",{target:"e1c8ut031"})("position:absolute;left:-1px;width:9px;height:15px;border-radius:0 3px 3px 0;background-color:",(e=>e.theme.level[e.level]??e.theme.level.default),";"),O=(0,f.Z)(z),R=(0,s.Z)(d.Z,{target:"e1c8ut030"})("font-weight:",(e=>e.hasSeen?400:600),";")},"./app/components/eventOrGroupTitle.tsx":(e,t,n)=>{n.d(t,{Z:()=>L});var s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=n("../node_modules/react/index.js"),i=n("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),r=n("./app/utils/events.tsx"),a=n("./app/utils/withOrganization.tsx"),l=n("./app/styles/space.tsx"),d=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function p(e){let{treeLabel:t}=e;const n=t.slice(0,4),s=t.slice(n.length);return(0,d.BX)(u,{children:[(0,d.tZ)(m,{children:n.map(((e,t)=>{const s=(0,r.K2)(e);return t!==n.length-1?(0,d.BX)(o.Fragment,{children:[(0,d.tZ)(h,{children:s}),(0,d.tZ)(f,{children:"|"})]},t):(0,d.tZ)(h,{children:s},t)}))}),!!s.length&&(0,d.tZ)(v,{children:s.map(((e,t)=>{const n=(0,r.K2)(e);return(0,d.BX)(o.Fragment,{children:[(0,d.tZ)(f,{children:"|"}),(0,d.tZ)(g,{children:n})]},t)}))})]})}p.displayName="EventTitleTreeLabel";const c=p,u=(0,s.Z)("div",{target:"e1o0zbyk5"})({name:"povk8l",styles:"display:inline-grid;grid-template-columns:auto 1fr;align-items:center"}),m=(0,s.Z)("div",{target:"e1o0zbyk4"})({name:"ww2cfn",styles:"display:inline-grid;grid-auto-flow:column;align-items:center"}),g=(0,s.Z)("div",{target:"e1o0zbyk3"})({name:"1r5gb7q",styles:"display:inline-block"}),h=(0,s.Z)(g,{target:"e1o0zbyk2"})((e=>e.theme.overflowEllipsis)," display:inline-block;"),v=(0,s.Z)("div",{target:"e1o0zbyk1"})((e=>e.theme.overflowEllipsis)," display:inline-block;min-width:50px;"),f=(0,s.Z)("div",{target:"e1o0zbyk0"})("color:",(e=>e.theme.gray200),";display:inline-block;padding:0 ",(0,l.D)(1),";");var Z=n("./app/components/events/interfaces/keyValueList/index.tsx"),x=n("./app/components/groupPreviewTooltip/groupPreviewHovercard.tsx"),y=n("./app/components/groupPreviewTooltip/utils.tsx"),S=n("./app/components/loadingIndicator.tsx"),j=n("./app/locale.tsx"),b=n("./app/utils/queryClient.tsx"),w=n("./app/utils/useOrganization.tsx");const z=e=>{let{endpointUrl:t,onRequestBegin:n,onRequestEnd:s,onUnmount:i}=e;const{data:r,isLoading:a,isError:l}=(0,b.aM)([t,{query:{referrer:"api.issues.preview-performance"}}],{staleTime:6e4});if((0,o.useEffect)((()=>(a?n():s(),i)),[a,n,s,i]),a)return(0,d.tZ)(_,{children:(0,d.tZ)(S.Z,{hideMessage:!0,size:32})});if(l)return(0,d.tZ)(_,{children:(0,j.t)("Failed to load preview")});const p=r?.occurrence?.evidenceDisplay;return p?.length?(0,d.tZ)(I,{"data-test-id":"evidence-preview-body",children:(0,d.tZ)(Z.Z,{data:p.map((e=>({key:e.name,subject:e.name,value:e.value}))),shouldSort:!1})}):(0,d.tZ)(_,{children:(0,j.t)("There is no evidence available for this issue.")})};z.displayName="SpanEvidencePreviewBody";const E=e=>{let{children:t,groupId:n,eventId:s,projectSlug:i}=e;const r=(e=>{let{orgSlug:t,eventId:n,groupId:s,projectSlug:o}=e;return n&&o?`/projects/${t}/${o}/events/${n}/`:s?`/issues/${s}/events/latest/`:null})({groupId:n,eventId:s,projectSlug:i,orgSlug:(0,w.Z)().slug}),{shouldShowLoadingState:a,onRequestBegin:l,onRequestEnd:p,reset:c}=(0,y.H)();return r?(0,d.tZ)(x.v,{hide:!a,body:(0,d.tZ)(z,{onRequestBegin:l,onRequestEnd:p,onUnmount:c,endpointUrl:r}),children:t}):(0,d.tZ)(o.Fragment,{children:t})};E.displayName="EvidencePreview";const _=(0,s.Z)("div",{target:"erjmuql1"})("color:",(e=>e.theme.subText),";padding:",(0,l.D)(1.5),";font-size:",(e=>e.theme.fontSizeMedium),";display:flex;align-items:center;justify-content:center;min-height:56px;"),I=(0,s.Z)("div",{target:"erjmuql0"})("width:700px;padding:",(0,l.D)(1.5)," ",(0,l.D)(1.5)," 0 ",(0,l.D)(1.5),";");var P=n("./app/stores/projectsStore.tsx"),N=n("./app/types/index.tsx"),C=n("./app/components/events/interfaces/performance/spanEvidenceKeyValueList.tsx");const k=e=>{let{endpointUrl:t,onRequestBegin:n,onRequestEnd:s,onUnmount:i}=e;const{data:r,isLoading:a,isError:l}=(0,b.aM)([t,{query:{referrer:"api.issues.preview-performance"}}],{staleTime:6e4});return(0,o.useEffect)((()=>(a?n():s(),i)),[a,n,s,i]),a?(0,d.tZ)(T,{children:(0,d.tZ)(S.Z,{hideMessage:!0,size:32})}):l?(0,d.tZ)(T,{children:(0,j.t)("Failed to load preview")}):r?(0,d.tZ)(O,{"data-test-id":"span-evidence-preview-body",children:(0,d.tZ)(C.VD,{event:r})}):(0,d.tZ)(T,{children:(0,j.t)("There is no span evidence available for this issue.")})};k.displayName="SpanEvidencePreviewBody";const D=e=>{let{children:t,groupId:n,eventId:s,projectSlug:i}=e;const r=(e=>{let{orgSlug:t,eventId:n,groupId:s,projectSlug:o}=e;return n&&o?`/projects/${t}/${o}/events/${n}/`:s?`/issues/${s}/events/latest/`:null})({groupId:n,eventId:s,projectSlug:i,orgSlug:(0,w.Z)().slug}),{shouldShowLoadingState:a,onRequestBegin:l,onRequestEnd:p,reset:c}=(0,y.H)();return r?(0,d.tZ)(x.v,{hide:!a,body:(0,d.tZ)(k,{onRequestBegin:l,onRequestEnd:p,onUnmount:c,endpointUrl:r}),children:t}):(0,d.tZ)(o.Fragment,{children:t})};D.displayName="SpanEvidencePreview";const T=(0,s.Z)("div",{target:"e1r0qo9w1"})("color:",(e=>e.theme.subText),";padding:",(0,l.D)(1.5),";font-size:",(e=>e.theme.fontSizeMedium),";display:flex;align-items:center;justify-content:center;min-height:56px;"),O=(0,s.Z)("div",{target:"e1r0qo9w0"})("width:700px;padding:",(0,l.D)(1.5)," ",(0,l.D)(1.5)," 0 ",(0,l.D)(1.5),";");var R=n("./app/components/groupPreviewTooltip/stackTracePreview.tsx");const M=e=>{let{children:t,eventId:n,groupId:s,groupingCurrentLevel:o,issueCategory:i,projectId:r}=e;const a=n?P.Z.getById(r)?.slug:void 0;switch(i){case N.qE.ERROR:return(0,d.tZ)(R._$,{issueId:s,groupingCurrentLevel:o,eventId:n,projectSlug:a,children:t});case N.qE.PERFORMANCE:return(0,d.tZ)(D,{groupId:s,eventId:n,projectSlug:a,children:t});default:return(0,d.tZ)(E,{groupId:s,eventId:n,projectSlug:a,children:t})}};function B(e){let{organization:t,data:n,withStackTracePreview:s,grouping:i=!1,className:a}=e;const l=n,p=n.metadata?.current_level,u=n?.issueCategory,m=!!t?.features.includes("grouping-tree-ui"),{id:g,eventID:h,groupID:v,projectID:f}=l,{title:Z,subtitle:x,treeLabel:y}=(0,r.YQ)(l,t?.features,i);return(0,d.BX)(U,{className:a,hasGroupingTreeUI:m,children:[s?(0,d.tZ)(M,{groupId:v||g,issueCategory:u,groupingCurrentLevel:p,eventId:h,projectId:f,children:y?(0,d.tZ)(c,{treeLabel:y}):Z??""}):y?(0,d.tZ)(c,{treeLabel:y}):Z,x&&(0,d.BX)(o.Fragment,{children:[(0,d.tZ)(q,{}),(0,d.tZ)(F,{title:x,children:x}),(0,d.tZ)("br",{})]})]})}B.displayName="EventOrGroupTitle";const L=(0,a.Z)(B),q=()=>(0,d.tZ)("span",{style:{display:"inline-block",width:10},children:" "});q.displayName="Spacer";const F=(0,s.Z)("em",{target:"e1v8ok1u1"})("color:",(e=>e.theme.gray300),";font-style:normal;"),U=(0,s.Z)("span",{target:"e1v8ok1u0"})("font-size:",(e=>e.theme.fontSizeLarge),";",(e=>e.hasGroupingTreeUI&&(0,i.iv)("display:inline-grid;grid-template-columns:auto max-content 1fr max-content;align-items:baseline;",F,"{",e.theme.overflowEllipsis,";display:inline-block;height:100%;}","")),";")},"./app/components/events/interfaces/performance/spanEvidenceKeyValueList.tsx":(e,t,n)=>{n.d(t,{VD:()=>y});var s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=(n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/core-js/modules/es.array.push.js"),n("../node_modules/react/index.js")),i=n("../node_modules/lodash/kebabCase.js"),r=n.n(i),a=n("../node_modules/lodash/mapValues.js"),l=n.n(a),d=(n("../node_modules/core-js/modules/es.error.cause.js"),n("../node_modules/@sentry/core/esm/exports.js")),p=n("../node_modules/lodash/keyBy.js"),c=n.n(p),u=n("./app/types/index.tsx"),m=n("./app/components/events/meta/annotatedText/index.tsx"),g=n("./app/components/performance/waterfall/utils.tsx"),h=n("./app/locale.tsx"),v=n("./app/utils.tsx"),f=n("./app/views/performance/utils.tsx"),Z=n("./app/components/events/interfaces/keyValueList/index.tsx"),x=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function y(e){let{event:t}=e;const n=function(e){if(!e.perfProblem)return e.issueCategory===u.qE.PERFORMANCE&&e.endTimestamp>166356e4&&d.Tb(new Error("Span Evidence missing for performance issue.")),null;const t=e.entries.find((e=>e.type===u.UZ.SPANS)),n=t?.data?[...t.data]:[];e?.contexts?.trace&&e?.contexts?.trace?.span_id&&n.push(e.contexts.trace);const s=c()(n,"span_id"),o=e?.perfProblem?.parentSpanIds??[],i=e?.perfProblem?.offenderSpanIds??[],r=e?.perfProblem?.causeSpanIds??[];return{parentSpan:s[o[0]],offendingSpans:i.map((e=>s[e])),causeSpans:r.map((e=>s[e]))}}(t),s=t?.perfProblem;if(!s?.issueType||!n)return(0,x.tZ)(P,{event:t,offendingSpans:[],causeSpans:[],parentSpan:null});const o={[u.EM.PERFORMANCE_N_PLUS_ONE_DB_QUERIES]:j,[u.EM.PERFORMANCE_N_PLUS_ONE_API_CALLS]:b,[u.EM.PERFORMANCE_SLOW_DB_QUERY]:E,[u.EM.PERFORMANCE_CONSECUTIVE_DB_QUERIES]:S,[u.EM.PERFORMANCE_RENDER_BLOCKING_ASSET]:_,[u.EM.PERFORMANCE_UNCOMPRESSED_ASSET]:I}[s.issueType]??P;return(0,x.tZ)(o,{event:t,...n})}y.displayName="SpanEvidenceKeyValueList";const S=e=>{let{event:t,causeSpans:n,offendingSpans:s}=e;return(0,x.tZ)(N,{data:[C(t),n?k((0,h.t)("Starting Span"),D(n[0])):null,k("Parallelizable Spans",s.map(D)),k((0,h.t)("Duration Impact"),M(t,T(n,s)))].filter(Boolean)})};S.displayName="ConsecutiveDBQueriesSpanEvidence";const j=e=>{let{event:t,parentSpan:n,offendingSpans:s}=e;return(0,x.tZ)(N,{data:[C(t),n?k((0,h.t)("Parent Span"),D(n)):null,k((0,h.t)("Repeating Spans (%s)",s.length),D(s[0]))].filter(Boolean)})};j.displayName="NPlusOneDBQueriesSpanEvidence";const b=e=>{let{event:t,offendingSpans:n}=e;const s=t?.entries?.find(z),i=s?.data?.url,r=function(e,t){const n=function(e){const t={};return e.forEach((e=>{for(const[n,s]of e.searchParams)t[n]??=[],t[n].push(s)})),l()(t,(e=>Array.from(new Set(e))))}(e.map((e=>q(e,t))).filter((e=>e instanceof URL))),s=[];for(const e in n){const t=n[e];t.length>1&&s.push(`${e}:{${t.join(",")}}`)}return s}(n,i),a=function(e,t){return q(e,t)?.pathname??""}(n[0],i);return(0,x.tZ)(N,{data:[C(t),a?k((0,h.t)("Repeating Spans (%s)",n.length),(0,x.tZ)("pre",{className:"val-string",children:(0,x.tZ)(m.q,{value:(0,x.BX)(o.Fragment,{children:[a,(0,x.tZ)(w,{children:"[Parameters]"})]})})})):null,r.length>0?k((0,h.t)("Parameters"),r):null].filter(Boolean)})};b.displayName="NPlusOneAPICallsSpanEvidence";const w=(0,s.Z)("span",{target:"enrenm20"})("color:",(e=>e.theme.errorText),";"),z=e=>e.type===u.UZ.REQUEST,E=e=>{let{event:t,offendingSpans:n}=e;return(0,x.tZ)(N,{data:[C(t),k((0,h.t)("Slow DB Query"),D(n[0])),k((0,h.t)("Duration Impact"),B(t,n[0]))]})};E.displayName="SlowDBQueryEvidence";const _=e=>{let{event:t,offendingSpans:n}=e;return(0,x.tZ)(N,{data:[C(t),k((0,h.t)("Slow Resource Span"),D(n[0]))]})};_.displayName="RenderBlockingAssetSpanEvidence";const I=e=>{let{event:t,offendingSpans:n}=e;return(0,x.tZ)(N,{data:[C(t),k((0,h.t)("Slow Resource Span"),D(n[0])),k((0,h.t)("Asset Size"),L(n[0],"Encoded Body Size")),k((0,h.t)("Duration Impact"),B(t,n[0]))]})};I.displayName="UncompressedAssetSpanEvidence";const P=e=>{let{event:t,offendingSpans:n}=e;return(0,x.tZ)(N,{data:[C(t),n.length>0?k((0,h.t)("Offending Span"),D(n[0])):null].filter(Boolean)})};P.displayName="DefaultSpanEvidence";const N=e=>{let{data:t}=e;return(0,x.tZ)(Z.Z,{shouldSort:!1,data:t})};N.displayName="PresortedKeyValueList";const C=e=>k((0,h.t)("Transaction"),e.title),k=(e,t)=>{const n=r()(e);return{key:n,subject:e,value:t,subjectDataTestId:`span-evidence-key-value-list.${n}`,isMultiValue:Array.isArray(t)}};function D(e){return e&&(e.op||e.description)?!e.op&&e.description?e.description:e.op&&!e.description?e.op:`${e.op} - ${e.description}`:(0,h.t)("(no value)")}const T=(e,t)=>{const n=O(e),s=Math.max(...t.map((e=>R(e)))),o=t.map((e=>e.span_id));let i=0;return e.forEach((e=>{o.includes(e.span_id)||(i+=R(e))})),n-Math.max(s,i)},O=e=>{let t=0;return e.forEach((e=>{t+=R(e)})),t},R=e=>{let{timestamp:t,start_timestamp:n}=e;return t&&n?1e3*(t-n):0};function M(e,t){const n=1e3*(e.endTimestamp-e.startTimestamp);if(!n)return null;const s=t/n;return`${(0,g.uL)(s)} (${(0,f.YL)(t)}/${(0,f.YL)(n)})`}function B(e,t){return void 0===t.timestamp||void 0===t.start_timestamp?null:M(e,1e3*(t?.timestamp-t?.start_timestamp))}function L(e,t){const n=function(e,t){return e.data?.[t]}(e,t);return n?`${(0,v.F)(n)} (${n} B)`:null}const q=(e,t)=>{let n;if(n=e?.data?.url,n)try{return new URL(e?.data?.url,t)}catch(e){}const[s,o]=(e?.description??"").split(" ",2);n=o;try{return new URL(o,t)}catch(e){}return null}},"./app/components/pagination.tsx":(e,t,n)=>{n.d(t,{Z:()=>f});var s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=(n("../node_modules/core-js/modules/es.array.push.js"),n("../node_modules/react-router/es/index.js")),i=n("./app/components/button.tsx"),r=n("./app/components/buttonBar.tsx"),a=n("./app/icons/index.tsx"),l=n("./app/locale.tsx"),d=n("./app/styles/space.tsx"),p=n("./app/utils/parseLinkHeader.tsx"),c=n("./app/utils/useLocation.tsx"),u=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const m=(e,t,n,s)=>o.browserHistory.push({pathname:t,query:{...n,cursor:e}}),g=e=>{let{to:t,className:n,onCursor:s=m,paginationAnalyticsEvent:o,pageLinks:d,size:g="sm",caption:f,disabled:Z=!1}=e;const x=(0,c.T)();if(!d)return null;const y=t??x.pathname,S=x.query,j=(0,p.Z)(d),b=Z||!1===j.previous?.results,w=Z||!1===j.next?.results;return(0,u.BX)(h,{className:n,"data-test-id":"pagination",children:[f&&(0,u.tZ)(v,{children:f}),(0,u.BX)(r.ZP,{merged:!0,children:[(0,u.tZ)(i.zx,{icon:(0,u.tZ)(a.g6,{direction:"left",size:"sm"}),"aria-label":(0,l.t)("Previous"),size:g,disabled:b,onClick:()=>{s?.(j.previous?.cursor,y,S,-1),o?.("Previous")}}),(0,u.tZ)(i.zx,{icon:(0,u.tZ)(a.g6,{direction:"right",size:"sm"}),"aria-label":(0,l.t)("Next"),size:g,disabled:w,onClick:()=>{s?.(j.next?.cursor,y,S,1),o?.("Next")}})]})]})};g.displayName="Pagination";const h=(0,s.Z)("div",{target:"e1yybcqw1"})("display:flex;align-items:center;justify-content:flex-end;margin:",(0,d.D)(3)," 0 0 0;"),v=(0,s.Z)("span",{target:"e1yybcqw0"})("color:",(e=>e.theme.subText),";font-size:",(e=>e.theme.fontSizeMedium),";margin-right:",(0,d.D)(2),";"),f=g},"./app/utils/replaceRouterParams.tsx":(e,t,n)=>{function s(e,t){const n=e.match(/:\w+/g);return n&&n.length?(n.forEach((n=>{const s=n.slice(1);void 0!==t[s]&&(e=e.replace(n,String(t[s])))})),e):e}n.d(t,{Z:()=>s})},"./app/utils/useParams.tsx":(e,t,n)=>{n.d(t,{U:()=>r});var s=n("../node_modules/react/index.js"),o=n("./app/constants/index.tsx"),i=n("./app/utils/useRouteContext.tsx");function r(){const e=(0,i.s)().params;return(0,s.useMemo)((()=>o.Yj&&o.QI&&void 0===e.orgId?{...e,orgId:o.QI}:e),[e])}},"./app/utils/withOrganizations.tsx":(e,t,n)=>{n.d(t,{Z:()=>l});var s=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=n("../node_modules/react/index.js"),i=n("./app/stores/organizationsStore.tsx"),r=n("./app/utils/getDisplayName.tsx"),a=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const l=function(e){class t extends o.Component{constructor(){super(...arguments),(0,s.Z)(this,"state",{organizations:i.Z.getAll()}),(0,s.Z)(this,"unsubscribe",i.Z.listen((e=>this.setState({organizations:e})),void 0))}componentWillUnmount(){this.unsubscribe()}render(){const{organizationsLoading:t,organizations:n,...s}=this.props;return(0,a.tZ)(e,{organizationsLoading:t??!i.Z.loaded,organizations:n??this.state.organizations,...s})}}return t.displayName="WithOrganizations",(0,s.Z)(t,"displayName",`withOrganizations(${(0,r.Z)(e)})`),t}},"./app/views/issueDetails/unhandledTag.tsx":(e,t,n)=>{n.d(t,{S:()=>c,Z:()=>u});var s=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=n("./app/components/tag.tsx"),i=n("./app/components/tooltip.tsx"),r=n("./app/locale.tsx"),a=n("./app/styles/space.tsx"),l=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function d(){return(0,l.tZ)(p,{children:(0,l.tZ)(i.u,{title:(0,r.t)("An unhandled error was detected in this Issue."),children:(0,l.tZ)(o.Z,{type:"error",children:(0,r.t)("Unhandled")})})})}d.displayName="UnhandledTag";const p=(0,s.Z)("div",{target:"ey2rimh1"})("margin-right:",(0,a.D)(1),";"),c=(0,s.Z)("div",{target:"ey2rimh0"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),u="app"==n.j?d:null},"./app/views/settings/organizationIntegrations/integrationIcon.tsx":(e,t,n)=>{n.d(t,{Z:()=>p});var s=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=n("../node_modules/react/index.js"),r=n("./app/plugins/components/pluginIcon.tsx"),a=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const l=(0,o.Z)("img",{target:"eidhfci0"})("height:",(e=>e.size),"px;width:",(e=>e.size),"px;border-radius:2px;display:block;");class d extends i.Component{constructor(){super(...arguments),(0,s.Z)(this,"state",{imgSrc:this.props.integration.icon})}render(){const{integration:e,size:t}=this.props;return(0,a.tZ)(l,{size:t,src:this.state.imgSrc,onError:()=>{this.setState({imgSrc:r.kg[e.provider.key]||r.jp})}})}}d.displayName="Icon";const p=e=>{let{integration:t,size:n=32}=e;return t.icon?(0,a.tZ)(d,{size:n,integration:t}):(0,a.tZ)(r.ZP,{size:n,pluginId:t.provider.key})}}}]);
//# sourceMappingURL=../sourcemaps/app_actionCreators_navigation_tsx-app_components_eventOrGroupHeader_tsx-app_components_pagina-1d6445.d0e51621874683408459034782b1637a.js.map