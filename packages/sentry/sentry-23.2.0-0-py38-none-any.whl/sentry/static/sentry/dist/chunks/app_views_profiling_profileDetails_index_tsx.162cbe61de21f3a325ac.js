"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_profiling_profileDetails_index_tsx"],{"./app/components/gridEditable/sortLink.tsx":(e,t,r)=>{r.d(t,{Z:()=>g});var o=r("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),n=r("../node_modules/react-router/es/index.js"),s=r("../node_modules/lodash/omit.js"),a=r.n(s),i=r("./app/components/links/link.tsx"),l=r("./app/icons/index.tsx"),u=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function c(e){let{align:t,title:r,canSort:o,generateSortLink:s,onClick:a,direction:i,replace:l}=e;const c=s();if(!c||!o)return(0,u.tZ)(d,{align:t,children:r});const g=i?(0,u.tZ)(m,{size:"xs",direction:"desc"===i?"down":"up"}):null;return(0,u.BX)(p,{align:t,to:c,onClick:e=>{l&&(e.preventDefault(),n.browserHistory.replace(c)),a?.(e)},children:[r," ",g]})}c.displayName="SortLink";const p=(0,o.Z)((e=>{const t=a()(e,["align","css"]);return(0,u.tZ)(i.Z,{...t})}),{target:"esdhr0u2"})("display:block;width:100%;white-space:nowrap;color:inherit;&:hover,&:active,&:focus,&:visited{color:inherit;}",(e=>e.align?`text-align: ${e.align};`:""),";"),d=(0,o.Z)("div",{target:"esdhr0u1"})("display:block;width:100%;white-space:nowrap;",(e=>e.align?`text-align: ${e.align};`:""),";"),m=(0,o.Z)(l.CC,{target:"esdhr0u0"})({name:"40f4ru",styles:"vertical-align:top"}),g=c},"./app/components/profiling/profilingBreadcrumbs.tsx":(e,t,r)=>{r.d(t,{u:()=>c}),r("../node_modules/core-js/modules/es.error.cause.js");var o=r("../node_modules/react/index.js"),n=r("../node_modules/lodash/omit.js"),s=r.n(n),a=r("./app/components/breadcrumbs.tsx"),i=r("./app/locale.tsx"),l=r("./app/utils/profiling/routes.tsx"),u=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function c(e){let{organization:t,trails:r}=e;const n=(0,o.useMemo)((()=>r.map((e=>function(e,t){let{organization:r}=t;switch(e.type){case"landing":return{to:(0,l.XR)({query:s()(e.payload.query,["cursor","query"]),orgSlug:r.slug}),label:(0,i.t)("Profiling"),preservePageFilters:!0};case"profile summary":return{to:(0,l.R0)({query:s()(e.payload.query,["cursor","query"]),orgSlug:r.slug,projectSlug:e.payload.projectSlug,transaction:e.payload.transaction}),label:(0,i.t)("Profile Summary"),preservePageFilters:!0};case"flamechart":return{to:("flamechart"===e.payload.tab?l.TH:l.Qy)({query:e.payload.query,orgSlug:r.slug,projectSlug:e.payload.projectSlug,profileId:e.payload.profileId}),label:e.payload.transaction,preservePageFilters:!0};default:throw new Error(`Unknown breadcrumb type: ${JSON.stringify(e)}`)}}(e,{organization:t})))),[t,r]);return(0,u.tZ)(a.Z,{crumbs:n})}c.displayName="ProfilingBreadcrumbs"},"./app/utils/profiling/hooks/useCurrentProjectFromRouteParam.tsx":(e,t,r)=>{r.d(t,{y:()=>s});var o=r("./app/utils/useParams.tsx"),n=r("./app/utils/useProjects.tsx");function s(){const e=(0,o.U)();return(0,n.Z)({limit:1,slugs:[e?.projectId]}).projects?.[0]??null}},"./app/utils/profiling/routes.tsx":(e,t,r)=>{function o(e){let{orgSlug:t,projectSlug:r,profileId:o}=e;return`/organizations/${t}/profiling/profile/${r}/${o}/flamechart/`}function n(e){let{orgSlug:t,query:r}=e;const o=function(e){let{orgSlug:t}=e;return`/organizations/${t}/profiling/`}({orgSlug:t});return{pathname:o,query:{...r}}}function s(e){let{orgSlug:t,projectSlug:r,transaction:o,query:n}=e;const s=function(e){let{orgSlug:t,projectSlug:r}=e;return`/organizations/${t}/profiling/summary/${r}/`}({orgSlug:t,projectSlug:r});return{pathname:s,query:{...n,transaction:o}}}function a(e){let{orgSlug:t,projectSlug:r,profileId:n,query:s}=e;return{pathname:o({orgSlug:t,projectSlug:r,profileId:n}),query:{...s}}}function i(e){let{orgSlug:t,projectSlug:r,profileId:o,frameName:n,framePackage:s,query:i}=e;return a({orgSlug:t,projectSlug:r,profileId:o,query:{...i,frameName:n,framePackage:s}})}function l(e){let{orgSlug:t,projectSlug:r,profileId:o,query:n}=e;const s=function(e){let{orgSlug:t,projectSlug:r,profileId:o}=e;return`/organizations/${t}/profiling/profile/${r}/${o}/details/`}({orgSlug:t,projectSlug:r,profileId:o});return{pathname:s,query:{...n}}}r.d(t,{O$:()=>o,Qy:()=>l,R0:()=>s,TH:()=>a,XR:()=>n,u$:()=>i})},"./app/utils/profiling/tableRenderer.tsx":(e,t,r)=>{r.d(t,{w:()=>s});var o=r("./app/components/gridEditable/sortLink.tsx"),n=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function s(e){let{currentSort:t,generateSortLink:r,rightAlignedColumns:s,sortableColumns:a,onClick:i}=e;return(e,l)=>(0,n.tZ)(o.Z,{onClick:t=>i?.(e,t),align:s?.has(e.key)?"right":"left",title:e.name,direction:t?.key===e.key?t?.order:void 0,canSort:a?.has(e.key)||!1,generateSortLink:r?.(e.key)??(()=>{}),replace:!0})}},"./app/views/profiling/profileDetails/index.tsx":(e,t,r)=>{r.r(t),r.d(t,{default:()=>J});var o=r("../node_modules/react/index.js"),n=r("./app/components/layouts/thirds.tsx"),s=r("./app/components/sentryDocumentTitle.tsx"),a=r("./app/locale.tsx"),i=r("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),l=r("./app/utils/profiling/hooks/useCurrentProjectFromRouteParam.tsx"),u=r("./app/utils/useOrganization.tsx"),c=r("./app/utils/useParams.tsx"),p=r("./app/views/profiling/profileGroupProvider.tsx"),d=r("./app/views/profiling/profilesProvider.tsx"),m=r("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),g=(r("../node_modules/core-js/modules/es.array.includes.js"),r("../node_modules/core-js/modules/es.array.push.js"),r("../node_modules/lodash/debounce.js")),f=r.n(g),y=r("./app/components/compactSelect/index.tsx"),h=r("./app/components/gridEditable/index.tsx"),b=r("./app/components/links/link.tsx"),v=r("./app/components/pagination.tsx"),S=r("./app/components/searchBar.tsx"),k=r("./app/styles/space.tsx"),x=r("./app/utils/discover/styles.tsx"),w=r("./app/utils/profiling/routes.tsx"),j=r("./app/utils/profiling/tableRenderer.tsx"),Z=r("./app/utils/profiling/units/units.ts"),P=r("./app/utils/useLocation.tsx"),C=r("../node_modules/lodash/groupBy.js"),q=r.n(C);function I(e){const t=[];return e.forEach((e=>{e.selfWeight>0&&t.push(e)}),(()=>{})),t.sort(((e,t)=>t.selfWeight-e.selfWeight)).map((t=>({symbol:t.frame.name,file:t.frame.file,image:t.frame.image,thread:e.threadId,type:t.frame.is_application?"application":"system","self weight":t.selfWeight,"total weight":t.totalWeight})))}function _(e,t){return e.reduce(((e,r)=>{const o=r[t];return o&&!e.includes(o)&&e.push(o),e}),[])}function $(e,t,r){const o=q()(e,(e=>function(e,t){return t.map((t=>e[t])).join(z)}(e,t))),n=[];for(const e in o){const s=A(e,t),a=o[e];r.forEach((e=>{s[e.key]=e.compute(a)})),n.push(s)}return n}const z=String.fromCharCode(31);function A(e,t){const r=e.split(z);return t.reduce(((e,t,o)=>(e[t]=r[o],e)),{})}var T=r("../node_modules/fuse.js/dist/fuse.esm.js"),D=r("../node_modules/query-string/index.js"),E=r("../node_modules/react-router/es/index.js");function L(e){let{key:t,initialState:r}=e;const n=(0,P.T)(),[s,a]=(0,o.useState)(n.query[t]??r),i=(0,o.useCallback)((e=>{const r=E.browserHistory.getCurrentLocation();return{...r,query:{...r.query,[t]:e}}}),[t]),l=(0,o.useCallback)((e=>{E.browserHistory.replace(i(e)),a(e)}),[i]);return(0,o.useEffect)((()=>E.browserHistory.listenBefore((e=>{E.browserHistory.getCurrentLocation().pathname!==e.pathname&&t in e.query&&delete e.query[t]}))),[t]),[s,l,i]}var N=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function F(){const e=(0,P.T)(),t=(0,d.useProfiles)(),r=(0,p.A)(),[n,s]=L({key:"detailView",initialState:"occurrence"}),[i,l]=L({key:"query",initialState:""}),[u,c]=L({key:"cursor",initialState:""}),m=K[n]??K.occurrence,g=u?parseInt(u,10):0,b=(0,o.useMemo)((()=>{const e=r.profiles.flatMap(I);return m.transform(e)}),[r,m]),{search:k}=function(e,t){const r=(0,o.useMemo)((()=>new T.default(e,t)),[e]);return{search:(0,o.useCallback)(((t,o)=>t?r.search(t,o).map((e=>e.item)):e),[r,e]),searchIndex:r}}(b,{keys:m.search.key,threshold:.3}),x=(0,o.useMemo)((()=>f()((e=>Z(k(e))),500)),[k]),[w,Z]=(0,o.useState)(b),[C,q]=L({key:"type"}),[$,z]=L({key:"image"}),{filters:A,columnFilters:E,filterPredicate:F}=function(e,t){const{columns:r}=t,[n,s]=(0,o.useState)((a=t.initialState)?Object.entries(a).reduce(((e,t)=>{let[r,o]=t;return e[r]=void 0,Array.isArray(o)&&(e[r]=o),"string"==typeof o&&(e[r]=[o]),e}),{}):{});var a;const i=(0,o.useMemo)((()=>{function t(e){return t=>{s((r=>({...r,[e]:t.length>0?t.map((e=>e.value)):void 0})))}}return r.reduce(((r,o)=>(r[o]={values:_(e,o).sort(((e,t)=>e.localeCompare(t))),onChange:t(o)},r)),{})}),[e,r]),l=(0,o.useRef)(!1);(0,o.useEffect)((()=>{l.current||0===e.length||(s((e=>Object.entries(e).reduce(((e,t)=>{const[r,o]=t,n=i[r].values,s=o?.filter((e=>n.includes(e)));return e[r]=Array.isArray(s)&&s.length>0?s:void 0,e}),{}))),l.current=!0)}),[e.length,i,n]);const u=(0,o.useCallback)((e=>{let t=!0;for(const r in n){const o=n[r];if(!o)continue;const s=e[r];if(t=o.includes(s),!t)return!1}return t}),[n]);return{filters:n,columnFilters:i,filterPredicate:u}}(b,{columns:["type","image"],initialState:{type:C,image:$}});(0,o.useEffect)((()=>{q(A.type),z(A.image)}),[A,q,z]);const{currentSort:H,generateSortLink:M,sortCompareFn:U}=function(e){const{sortableColumns:t,querystringKey:r,defaultSort:n}=e,[s,a,i]=L({key:r}),l=(0,o.useMemo)((()=>{let e=s??"";const r="-"===e[0];return r&&(e=e.slice(1)),e&&t.includes(e)?{key:e,order:r?"desc":"asc"}:n}),[t,n,s]),u=(0,o.useCallback)((e=>{if(!t.includes(e))return()=>{};if(!l)return()=>i(e);const r=l.key===e&&"desc"===l.order?"asc":"desc";return()=>i(`${"desc"===r?"-":""}${e}`)}),[l,t,i]),c=(0,o.useCallback)(((e,t)=>{const r=e[l.key],o=t[l.key];return r&&o?"number"==typeof r&&"number"==typeof o?"asc"===l.order?r-o:o-r:"string"==typeof r&&"string"==typeof o?"asc"===l.order?r.localeCompare(o):o.localeCompare(r):1:1}),[l]);return{currentSort:l,generateSortLink:u,sortCompareFn:c}}({...m.sort,querystringKey:"functionsSort"}),O=(0,o.useCallback)((e=>{l(e),c(void 0),x(e)}),[c,l,x]);(0,o.useEffect)((()=>{Z(k(i??""))}),[b,k]);const X=(0,o.useMemo)((()=>w.filter(F)),[F,w]),G=(0,o.useMemo)((()=>X.sort(U)),[X,U]),Q=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const n=(0,P.T)();return(0,o.useMemo)((()=>{const o=t>=r?"true":"false",s=t>=r?t-r:0,a={...n.query,cursor:s},i=`<${n.pathname}${D.stringify(a)}>; rel="previous"; results="${o}"; cursor="${s}"`,l=t+r<e.length?"true":"false",u=t+r<e.length?t+r:0,c={...n.query,cursor:u};return`${i},<${n.pathname}${D.stringify(c)}>; rel="next"; results="${l}"; cursor="${u}"`}),[t,n,e,r])}(G,g),V=G.slice(g,g+50);return(0,N.BX)(o.Fragment,{children:[(0,N.BX)(W,{children:[(0,N.tZ)(y.Z,{options:Object.values(K).map((e=>e.option)),value:m.option.value,triggerProps:{prefix:(0,a.t)("View")},position:"bottom-end",onChange:e=>{l(""),c(void 0),s(e.value)}}),(0,N.tZ)(S.Z,{defaultQuery:"",query:i,placeholder:m.search.placeholder,onChange:O}),(0,N.tZ)(y.Z,{options:E.type.values.map((e=>({value:e,label:e}))),value:A.type,triggerLabel:!A.type||Array.isArray(A.type)&&A.type.length===E.type.values.length?(0,a.t)("All"):void 0,triggerProps:{prefix:(0,a.t)("Type")},multiple:!0,onChange:E.type.onChange,position:"bottom-end"}),(0,N.tZ)(y.Z,{options:E.image.values.map((e=>({value:e,label:e}))),value:A.image,triggerLabel:!A.image||Array.isArray(A.image)&&A.image.length===E.image.values.length?(0,a.t)("All"):void 0,triggerProps:{prefix:(0,a.t)("Package")},multiple:!0,onChange:E.image.onChange,position:"bottom-end",searchable:!0})]}),(0,N.tZ)(h.ZP,{isLoading:"loading"===t.type,error:"errored"===t.type,data:V,columnOrder:m.columns.map((e=>R[e])),columnSortBy:[H],scrollable:!0,stickyHeader:!0,height:"75vh",grid:{renderHeadCell:(0,j.w)({rightAlignedColumns:new Set(m.rightAlignedColumns),sortableColumns:new Set(m.rightAlignedColumns),currentSort:H,generateSortLink:M}),renderBodyCell:B},location:e}),(0,N.tZ)(v.Z,{pageLinks:Q,onCursor:e=>{c(e)}})]})}F.displayName="ProfileDetailsTable";const W=(0,m.Z)("div",{target:"e1qhas5a0"})("display:grid;grid-template-columns:auto 1fr auto auto;gap:",(0,k.D)(2),";margin-bottom:",(0,k.D)(2),";");function B(e,t,r,o){return(0,N.tZ)(M,{column:e,dataRow:t,rowIndex:r,columnIndex:o})}B.displayName="renderFunctionCell";const H=(0,Z.s4)("nanoseconds");function M(e){let{column:t,dataRow:r}=e;const o=r[t.key],{orgId:n,projectId:s,eventId:i}=(0,c.U)();switch(t.key){case"p75":case"p95":case"self weight":case"total weight":return(0,N.tZ)(x.Hw,{children:H(o)});case"count":return(0,N.tZ)(x.Hw,{children:o});case"image":return(0,N.tZ)(x.W2,{children:o??(0,a.t)("Unknown")});case"thread":return(0,N.tZ)(x.W2,{children:(0,N.tZ)(b.Z,{to:(0,w.TH)({orgSlug:n,projectSlug:s,profileId:i,query:{tid:r.thread}}),children:o})});case"symbol":return(0,N.tZ)(x.W2,{children:(0,N.tZ)(b.Z,{to:(0,w.TH)({orgSlug:n,projectSlug:s,profileId:i,query:{frameName:r.symbol,framePackage:r.image,tid:r.thread??r.tids?.[0]}}),children:o})});default:return(0,N.tZ)(x.W2,{children:o})}}const R={symbol:{key:"symbol",name:(0,a.t)("Symbol"),width:h.z7},image:{key:"image",name:(0,a.t)("Package"),width:h.z7},file:{key:"file",name:(0,a.t)("File"),width:h.z7},thread:{key:"thread",name:(0,a.t)("Thread"),width:h.z7},type:{key:"type",name:(0,a.t)("Type"),width:h.z7},"self weight":{key:"self weight",name:(0,a.t)("Self Weight"),width:h.z7},"total weight":{key:"total weight",name:(0,a.t)("Total Weight"),width:h.z7},p75:{key:"p75",name:(0,a.t)("P75(Self)"),width:h.z7},p95:{key:"p95",name:(0,a.t)("P95(Self)"),width:h.z7},count:{key:"count",name:(0,a.t)("Count"),width:h.z7}},U=(e,t)=>{const r=Array.from(e).sort(((e,t)=>e-t)),o=t*(r.length-1),n=Math.floor(o),s=o%1;return o===n?r[o]:r[n]*(1-s)+r[n+1]*s},O={key:"p75",compute:e=>U(e.map((e=>e["self weight"])),.75)},X={key:"p95",compute:e=>U(e.map((e=>e["self weight"])),.95)},G={key:"count",compute:e=>e.length},Q={key:"tids",compute:e=>e.reduce(((e,t)=>{const r=t.thread;return e.includes(r)||e.push(r),e}),[])},K={occurrence:{option:{label:(0,a.t)("Slowest Functions"),value:"occurrence"},columns:["symbol","image","file","thread","type","self weight","total weight"],transform:e=>e.slice(0,500),search:{key:["symbol"],placeholder:(0,a.t)("Search for frames")},sort:{sortableColumns:["self weight","total weight"],defaultSort:{key:"self weight",order:"desc"}},rightAlignedColumns:["self weight","total weight"]},symbol:{option:{label:(0,a.t)("Group by Symbol"),value:"symbol"},columns:["symbol","type","image","p75","p95","count"],search:{key:["symbol"],placeholder:(0,a.t)("Search for frames")},transform:e=>$(e,["symbol","type","image"],[O,X,G,Q]),sort:{sortableColumns:["p75","p95","count"],defaultSort:{key:"p75",order:"desc"}},rightAlignedColumns:["p75","p95","count"]},package:{option:{label:(0,a.t)("Group by Package"),value:"package"},columns:["image","type","p75","p95","count"],search:{key:["image"],placeholder:(0,a.t)("Search for packages")},transform:e=>$(e,["type","image"],[O,X,G]),sort:{sortableColumns:["p75","p95","count"],defaultSort:{key:"p75",order:"desc"}},rightAlignedColumns:["p75","p95","count"]},file:{option:{label:(0,a.t)("Group by File"),value:"file"},columns:["file","type","image","p75","p95","count"],search:{key:["file"],placeholder:(0,a.t)("Search for files")},transform:e=>$(e,["type","image","file"],[O,X,G]),sort:{sortableColumns:["p75","p95","count"],defaultSort:{key:"p75",order:"desc"}},rightAlignedColumns:["p75","p95","count"]}};function V(){const e=(0,u.Z)(),t=(0,l.y)(),r=(0,d.useProfiles)(),m=(0,c.U)();return(0,o.useEffect)((()=>{(0,i.Z)("profiling_views.profile_summary",{organization:e,project_id:t?.id,project_platform:t?.platform})}),[e]),(0,N.tZ)(o.Fragment,{children:(0,N.tZ)(s.Z,{title:(0,a.t)("Profiling â€” Details"),orgSlug:e.slug,children:(0,N.tZ)(n.uT,{children:(0,N.tZ)(n.or,{fullWidth:!0,children:(0,N.tZ)(p.D,{type:"flamechart",input:"resolved"===r.type?r.data:null,traceID:m.eventID,children:(0,N.tZ)(F,{})})})})})})}V.displayName="ProfileDetails";const J=V},"./app/views/profiling/profilesProvider.tsx":(e,t,r)=>{r.r(t),r.d(t,{ProfileContext:()=>P,ProfilesProvider:()=>A,default:()=>T,useProfileTransaction:()=>$,useProfiles:()=>q,useSetProfiles:()=>I}),r("../node_modules/core-js/modules/es.error.cause.js");var o=r("../node_modules/react/index.js"),n=r("../node_modules/@sentry/core/esm/exports.js"),s=r("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=r("./app/components/button.tsx"),i=r("./app/components/layouts/thirds.tsx"),l=r("./app/components/links/link.tsx"),u=r("./app/components/profiling/profilingBreadcrumbs.tsx"),c=r("./app/locale.tsx"),p=r("./app/styles/space.tsx"),d=r("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),m=r("./app/utils/performance/urls.ts"),g=r("./app/utils/profiling/guards/profile.tsx"),f=r("./app/utils/profiling/routes.tsx"),y=r("./app/utils/useLocation.tsx"),h=r("./app/utils/useOrganization.tsx"),b=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function v(e){let{transaction:t,projectId:r,eventId:n}=e;const s=(0,y.T)(),p=(0,h.Z)(),v=q(),j="resolved"===v.type?(Z=v.data,(0,g.nN)(Z)?Z.metadata.transactionName:(0,g.AN)(Z)&&Z.transactions?.[0]?.name||(0,c.t)("Unknown Transaction")):"";var Z;const P=n??"",C=r??"",I=t?.id?(0,m.D)(p.slug,`${C}:${t.id}`):null,_=(0,o.useMemo)((()=>[{type:"landing",payload:{query:s.query}},{type:"profile summary",payload:{projectSlug:C,transaction:j,query:s.query}},{type:"flamechart",payload:{transaction:j,profileId:P,projectSlug:C,query:s.query,tab:s.pathname.endsWith("details/")?"details":"flamechart"}}]),[s,C,j,P]);return(0,b.BX)(w,{children:[(0,b.tZ)(S,{children:(0,b.tZ)(k,{children:(0,b.tZ)(u.u,{organization:p,trails:_})})}),(0,b.tZ)(i.kP,{children:I&&(0,b.tZ)(a.zx,{size:"sm",onClick:function(){(0,d.Z)("profiling_views.go_to_transaction",{organization:p,source:"transaction_details"})},to:I,children:(0,c.t)("Go to Transaction")})}),(0,b.BX)(x,{underlined:!0,children:[(0,b.tZ)("li",{className:s.pathname.endsWith("flamechart/")?"active":void 0,children:(0,b.tZ)(l.Z,{to:(0,f.TH)({orgSlug:p.slug,projectSlug:C,profileId:P,query:s.query}),children:(0,c.t)("Flamechart")})}),(0,b.tZ)("li",{className:s.pathname.endsWith("details/")?"active":void 0,children:(0,b.tZ)(l.Z,{to:(0,f.Qy)({orgSlug:p.slug,projectSlug:C,profileId:P,query:s.query}),children:(0,c.t)("Details")})})]})]})}v.displayName="ProfileHeader";const S=(0,s.Z)(i.oB,{target:"e1eqzoq73"})("margin-bottom:",(0,p.D)(1.5),";"),k=(0,s.Z)("div",{target:"e1eqzoq72"})("nav{padding-bottom:",(0,p.D)(1),";}"),x=(0,s.Z)(i.mL,{target:"e1eqzoq71"})({name:"78ouv5",styles:"a{padding-top:0!important;}"}),w=(0,s.Z)(i.h4,{target:"e1eqzoq70"})("padding:",(0,p.D)(1)," ",(0,p.D)(2)," ",(0,p.D)(0)," ",(0,p.D)(2),"!important;");var j=r("./app/utils/useApi.tsx"),Z=r("./app/utils/useParams.tsx");const P=(0,o.createContext)(null),C=(0,o.createContext)(null);function q(){const e=(0,o.useContext)(P);if(!e)throw new Error("useProfiles was called outside of ProfileProvider");return e}function I(){const e=(0,o.useContext)(C);if(!e)throw new Error("useSetProfiles was called outside of SetProfileProvider");return e}const _=(0,o.createContext)(null);function $(){const e=(0,o.useContext)(_);if(!e)throw new Error("useProfileTransaction was called outside of ProfileTransactionContext");return e}function z(e){const t=(0,h.Z)(),r=(0,Z.U)(),[n,s]=(0,o.useState)({type:"initial"}),a=function(e,t,r){const n=(0,j.Z)(),[s,a]=(0,o.useState)({type:"initial"});return(0,o.useEffect)((()=>{if(null!==r)return function(e,t,r,o){return e.requestPromise(`/projects/${t}/${r}/events/${o}/`)}(n,e,t,r).then((e=>{a({type:"resolved",data:e})})).catch((e=>{a({type:"errored",error:e})})),()=>{n.clear()}}),[n,e,t,r]),s}(r.orgId,r.projectId,"resolved"===n.type?(i=n.data,(0,g.nN)(i)?i.metadata.transactionID:null):null);var i;return(0,b.tZ)(A,{onUpdateProfiles:s,orgSlug:t.slug,profileId:r.eventId,projectSlug:r.projectId,children:(0,b.tZ)(C.Provider,{value:s,children:(0,b.BX)(_.Provider,{value:a,children:[(0,b.tZ)(v,{eventId:r.eventId,projectId:r.projectId,transaction:"resolved"===a.type?a.data:null}),e.children]})})})}function A(e){let{children:t,onUpdateProfiles:r,orgSlug:s,projectSlug:a,profileId:i}=e;const l=(0,j.Z)(),[u,p]=(0,o.useState)({type:"initial"});return(0,o.useEffect)((()=>{if(i&&a&&s)return p({type:"loading"}),function(e,t,r,o){return e.requestPromise(`/projects/${o}/${r}/profiling/profiles/${t}/`,{method:"GET",includeAllArgs:!0}).then((e=>{let[t]=e;return t}))}(l,i,a,s).then((e=>{p({type:"resolved",data:e}),r?.({type:"resolved",data:e})})).catch((e=>{const t=e.toString()||(0,c.t)("Error: Unable to load profiles");p({type:"errored",error:t}),r?.({type:"errored",error:t}),n.Tb(e)})),()=>{l.clear()}}),[l,r,s,a,i]),(0,b.tZ)(P.Provider,{value:u,children:t})}z.displayName="ProfileProviderWrapper",A.displayName="ProfilesProvider";const T=z}}]);
//# sourceMappingURL=../sourcemaps/app_views_profiling_profileDetails_index_tsx.e17ec705b0a832aa8bb018c39190a9c3.js.map