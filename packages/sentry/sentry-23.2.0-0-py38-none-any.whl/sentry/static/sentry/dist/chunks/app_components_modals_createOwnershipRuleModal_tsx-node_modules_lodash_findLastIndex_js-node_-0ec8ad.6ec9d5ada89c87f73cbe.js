(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_modals_createOwnershipRuleModal_tsx-node_modules_lodash_findLastIndex_js-node_-0ec8ad"],{"./app/components/modals/createOwnershipRuleModal.tsx":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>w,modalCss:()=>h});var o=n("../node_modules/react/index.js"),r=n("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),s=n("./app/locale.tsx"),i=n("./app/utils/theme.tsx"),a=(n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/lodash/uniq.js")),d=n.n(a),u=n("./app/components/asyncComponent.tsx"),l=n("./app/views/settings/project/projectOwnership/ownerInput.tsx"),c=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class p extends u.Z{getEndpoints(){const{organization:e,project:t,issueId:n}=this.props;return[["ownership",`/projects/${e.slug}/${t.slug}/ownership/`],["urlTagData",`/issues/${n}/tags/url/`,{},{allowError:e=>404===e.status}],["eventData",`/issues/${n}/events/latest/`]]}renderBody(){const{ownership:e,urlTagData:t,eventData:n}=this.state;if(!e&&!t&&!n)return null;const r=t?t.topValues.sort(((e,t)=>e.count-t.count)).map((e=>e.value)).slice(0,5):[],i=n?.entries?.find((e=>{let{type:t}=e;return["exception","stacktrace"].includes(t)}));let a=[];"exception"===i?.type&&(a=i?.data?.values?.[0]?.stacktrace?.frames??[]),"stacktrace"===i?.type&&(a=i?.data?.frames??[]),a=a.filter((e=>e.inApp));const u=d()(a.map((e=>e.filename||e.absPath||""))).filter((e=>e)).slice(0,30);return(0,c.BX)(o.Fragment,{children:[(0,c.tZ)("p",{children:(0,s.t)("Match against Issue Data: (globbing syntax *, ? supported)")}),(0,c.tZ)(l.Z,{...this.props,initialText:e?.raw||"",urls:r,paths:u})]})}}const f=p,m=e=>{let{Body:t,Header:n,closeModal:r,onClose:i,Footer:a,CloseButton:d,...u}=e;const l=(0,o.useRef)(void 0);(0,o.useEffect)((()=>()=>{window.clearInterval(l.current)}),[]);const p=(0,o.useCallback)((()=>{i?.(),window.clearTimeout(l.current),l.current=window.setTimeout(r,2e3)}),[i,r]);return(0,c.BX)(o.Fragment,{children:[(0,c.tZ)(n,{closeButton:!0,children:(0,c.tZ)("h4",{children:(0,s.t)("Create Ownership Rule")})}),(0,c.tZ)(t,{children:(0,c.tZ)(f,{...u,onSave:p})})]})};m.displayName="CreateOwnershipRuleModal";const h=(0,r.iv)("@media (min-width: ",i.ZP.breakpoints.small,"){width:80%;}[role='document']{overflow:initial;}",""),w=m},"../node_modules/lodash/findLastIndex.js":(e,t,n)=>{var o=n("../node_modules/lodash/_baseFindIndex.js"),r=n("../node_modules/lodash/_baseIteratee.js"),s=n("../node_modules/lodash/toInteger.js"),i=Math.max,a=Math.min;e.exports=function(e,t,n){var d=null==e?0:e.length;if(!d)return-1;var u=d-1;return void 0!==n&&(u=s(n),u=n<0?i(d+u,0):a(u,d-1)),o(e,r(t,3),u,!0)}},"../node_modules/lodash/uniq.js":(e,t,n)=>{var o=n("../node_modules/lodash/_baseUniq.js");e.exports=function(e){return e&&e.length?o(e):[]}},"../node_modules/react-document-title/index.js":(e,t,n)=>{"use strict";var o=n("../node_modules/react/index.js"),r=n("../node_modules/prop-types/index.js"),s=n("../node_modules/react-side-effect/lib/index.js");function i(){}i.prototype=Object.create(o.Component.prototype),i.displayName="DocumentTitle",i.propTypes={title:r.string.isRequired},i.prototype.render=function(){return this.props.children?o.Children.only(this.props.children):null},e.exports=s((function(e){var t=e[e.length-1];if(t)return t.title}),(function(e){var t=e||"";t!==document.title&&(document.title=t)}))(i)},"../node_modules/react-side-effect/lib/index.js":(e,t,n)=>{"use strict";function o(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var r=n("../node_modules/react/index.js"),s=o(r),i=o(n("../node_modules/shallowequal/index.js"));function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=!("undefined"==typeof window||!window.document||!window.document.createElement);e.exports=function(e,t,n){if("function"!=typeof e)throw new Error("Expected reducePropsToState to be a function.");if("function"!=typeof t)throw new Error("Expected handleStateChangeOnClient to be a function.");if(void 0!==n&&"function"!=typeof n)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(o){if("function"!=typeof o)throw new Error("Expected WrappedComponent to be a React component.");var u,l=[];function c(){u=e(l.map((function(e){return e.props}))),p.canUseDOM?t(u):n&&(u=n(u))}var p=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.peek=function(){return u},r.rewind=function(){if(r.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var e=u;return u=void 0,l=[],e};var a=r.prototype;return a.shouldComponentUpdate=function(e){return!i(e,this.props)},a.componentWillMount=function(){l.push(this),c()},a.componentDidUpdate=function(){c()},a.componentWillUnmount=function(){var e=l.indexOf(this);l.splice(e,1),c()},a.render=function(){return s.createElement(o,this.props)},r}(r.Component);return a(p,"displayName","SideEffect("+function(e){return e.displayName||e.name||"Component"}(o)+")"),a(p,"canUseDOM",d),p}}},"../node_modules/shallowequal/index.js":e=>{e.exports=function(e,t,n,o){var r=n?n.call(o,e,t):void 0;if(void 0!==r)return!!r;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var s=Object.keys(e),i=Object.keys(t);if(s.length!==i.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),d=0;d<s.length;d++){var u=s[d];if(!a(u))return!1;var l=e[u],c=t[u];if(!1===(r=n?n.call(o,l,c,u):void 0)||void 0===r&&l!==c)return!1}return!0}}}]);
//# sourceMappingURL=../sourcemaps/app_components_modals_createOwnershipRuleModal_tsx-node_modules_lodash_findLastIndex_js-node_-0ec8ad.8e29c5df94f9b66ab9ed316240fc1b56.js.map