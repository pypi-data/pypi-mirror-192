(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_onboarding_components_heartbeatFooter_index_tsx-app_views_onboarding_components_int-316d47"],{"./app/views/onboarding/components/genericFooter.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var o=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=n("../node_modules/framer-motion/dist/es/render/dom/motion.mjs"),s=n("./app/utils/testableTransition.tsx");const a=(0,o.Z)(i.E.div,{target:"emehc210"})("width:100%;position:fixed;bottom:0;left:0;height:72px;z-index:100;display:flex;background-color:",(e=>e.theme.background),";justify-content:space-between;box-shadow:0px -4px 24px rgba(43, 34, 51, 0.08);");a.defaultProps={initial:"initial",animate:"animate",exit:"exit",variants:{animate:{}},transition:(0,s.Z)({staggerChildren:.2})};const r=a},"./app/views/onboarding/components/heartbeatFooter/index.tsx":(e,t,n)=>{"use strict";n.d(t,{N:()=>C});var o,i=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),s=n("../node_modules/react/index.js"),a=n("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),r=n("./app/actionCreators/indicator.tsx"),d=n("./app/actionCreators/modal.tsx"),l=n("./app/components/button.tsx"),c=n("./app/components/buttonBar.tsx"),p=n("./app/components/idBadge/index.tsx"),u=n("./app/components/placeholder.tsx"),m=n("./app/constants/index.tsx"),g=n("./app/icons/index.tsx"),h=n("./app/locale.tsx"),b=n("./app/stores/preferencesStore.tsx"),w=n("./app/stores/useLegacyStore.tsx"),x=n("./app/styles/pulsingIndicator.tsx"),f=n("./app/styles/space.tsx"),v=n("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),y=n("./app/utils/useOrganization.tsx"),_=n("./app/utils/useProjects.tsx"),Z=n("./app/views/onboarding/components/genericFooter.tsx"),j=n("./app/types/index.tsx"),S=n("./app/utils/queryClient.tsx"),z=n("./app/utils/sessions.tsx"),I=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function C(e){let{projectSlug:t,router:i,route:a,location:u,newOrg:x}=e;const f=(0,y.Z)(),Z=(0,w.X)(b.Z),{initiallyLoaded:C,fetchError:F,fetching:L,projects:B}=(0,_.Z)({orgId:f.id,slugs:[t]}),M=!C&&L,X=M||F||!B.length?void 0:B.find((e=>e.slug===t)),{loading:O,firstErrorReceived:W,firstTransactionReceived:R,sessionReceived:q,serverConnected:G}=function(e,t){const n=(0,y.Z)(),[o,i]=(0,s.useState)(null),[a,r]=(0,s.useState)(!1),[d,l]=(0,s.useState)(!1),[c,p]=(0,s.useState)(void 0),u=d||a,{isLoading:m}=(0,S.aM)([`/projects/${n.slug}/${e}/`],{staleTime:0,refetchInterval:5e3,enabled:!!e&&!o,onSuccess:e=>{i(e.firstEvent),r(!!e.firstTransactionEvent)}}),{isLoading:g}=(0,S.aM)([`/organizations/${n.slug}/sessions/`,{query:{project:t,statsPeriod:"24h",field:[j.kI.SESSIONS]}}],{staleTime:0,refetchInterval:5e3,enabled:!!t&&!u,onSuccess:e=>{const t=(0,z.sA)(e.groups,j.kI.SESSIONS)>0;l(t)}});return(0,S.aM)([`/projects/${n.slug}/${e}/issues/`],{staleTime:0,enabled:!!o&&!c,onSuccess:e=>{p(e.find((e=>e.firstSeen===o)))}}),{loading:m||g,serverConnected:u,firstErrorReceived:c??!!o,firstTransactionReceived:a,sessionReceived:d}}(X?.slug,X?.id);return(0,s.useEffect)((()=>{i.setRouteLeaveHook(a,(e=>{const{orgId:t,platform:o,projectId:s}=i.params;let a="/onboarding/setup-docs/"===u.pathname&&"/onboarding/setup-docs/"!==e?.pathname,r=u.pathname===`/projects/${s}/getting-started/${o}/`||u.pathname===`/getting-started/${s}/${o}/`,l="/onboarding/select-platform/",c="/onboarding/welcome/";return m.Yj||(a=u.pathname===`/onboarding/${f.slug}/setup-docs/`&&e?.pathname!==`/onboarding/${f.slug}/setup-docs/`,r=u.pathname===`/${t}/${s}/getting-started/${o}/`||u.pathname===`/organizations/${t}/${s}/getting-started/`,l=`/onboarding/${f.slug}/select-platform/`,c=`/onboarding/${f.slug}/welcome/`),!((a||r)&&(!G||!W)&&e&&e.pathname!==l&&e.pathname!==c&&!e.query.setUpRemainingOnboardingTasksLater&&(async function(e,t){const o=await n.e("app_views_onboarding_components_heartbeatFooter_changeRouteModal_tsx").then(n.bind(n,"./app/views/onboarding/components/heartbeatFooter/changeRouteModal.tsx")),{ChangeRouteModal:i}=o;(0,d.openModal)((n=>(0,I.tZ)(i,{...n,router:e,nextLocation:t})))}(i,e),1))}))}),[G,W,a,i,f.slug,u]),(0,s.useEffect)((()=>{!O&&G&&(0,r.S9)((0,h.t)("SDK Connected"))}),[G,O]),(0,s.useEffect)((()=>{!O&&q&&(0,v.Z)("heartbeat.onboarding_session_received",{organization:f,new_organization:!!x})}),[q,O,x,f]),(0,s.useEffect)((()=>{!O&&R&&(0,v.Z)("heartbeat.onboarding_first_transaction_received",{organization:f,new_organization:!!x})}),[R,O,x,f]),(0,s.useEffect)((()=>{!O&&W&&((0,v.Z)("heartbeat.onboarding_first_error_received",{organization:f,new_organization:!!x}),(0,r.S9)((0,h.t)("First error received")))}),[W,O,x,f]),(0,I.BX)(E,{newOrg:!!x,sidebarCollapsed:!!Z.collapsed,children:[(0,I.tZ)(k,{children:M?(0,I.tZ)(T,{height:"28px",width:"276px"}):(0,I.tZ)(p.Z,{project:X,displayPlatformName:!0,avatarSize:28,hideOverflow:!0,disableLink:!0})}),(0,I.tZ)($,{children:O?(0,I.BX)(s.Fragment,{children:[(0,I.tZ)(T,{height:"28px",width:"160px"}),(0,I.tZ)(T,{height:"28px",width:"160px"})]}):W?(0,I.BX)(s.Fragment,{children:[(0,I.BX)(D,{status:o.COMPLETE,children:[(0,I.tZ)(g.DL,{size:"sm",isCircled:!0}),(0,h.t)("DSN response received")]}),(0,I.BX)(D,{status:o.COMPLETE,children:[(0,I.tZ)(g.DL,{size:"sm",isCircled:!0}),(0,h.t)("First error received")]})]}):G?(0,I.BX)(s.Fragment,{children:[(0,I.BX)(D,{status:o.COMPLETE,children:[(0,I.tZ)(g.DL,{size:"sm",isCircled:!0}),(0,h.t)("DSN response received")]}),(0,I.BX)(D,{status:o.AWAITING,children:[(0,I.tZ)(P,{children:"2"}),(0,h.t)("Awaiting first error")]})]}):(0,I.BX)(s.Fragment,{children:[(0,I.BX)(D,{status:o.AWAITING,children:[(0,I.tZ)(P,{children:"1"}),(0,h.t)("Awaiting DSN response")]}),(0,I.BX)(D,{status:o.PENDING,children:[(0,I.tZ)(P,{children:"2"}),(0,h.t)("Awaiting first error")]})]})}),(0,I.tZ)(N,{children:(0,I.tZ)(c.ZP,{gap:1,children:x?(0,I.tZ)(s.Fragment,{children:O?(0,I.tZ)(A,{width:"135px"}):W?(0,I.tZ)(l.zx,{priority:"primary",busy:M,to:`/organizations/${f.slug}/issues/${W&&!0!==W&&"id"in W?`${W.id}/`:""}?referrer=onboarding-first-event-footer`,onClick:()=>{(0,v.Z)("heartbeat.onboarding_go_to_my_error_button_clicked",{organization:f,new_organization:!!x})},children:(0,h.t)("Go to my error")}):(0,I.tZ)(l.zx,{priority:"primary",busy:M,to:`/organizations/${f.slug}/issues/`,onClick:()=>{(0,v.Z)("heartbeat.onboarding_explore_sentry_button_clicked",{organization:f})},children:(0,h.t)("Explore Sentry")})}):(0,I.BX)(s.Fragment,{children:[(0,I.tZ)(l.zx,{busy:M,to:{pathname:`/organizations/${f.slug}/performance/`,query:{project:X?.id}},onClick:()=>{(0,v.Z)("heartbeat.onboarding_go_to_performance_button_clicked",{organization:f})},children:(0,h.t)("Go to Performance")}),W?(0,I.tZ)(l.zx,{priority:"primary",busy:M,to:`/organizations/${f.slug}/issues/${W&&!0!==W&&"id"in W?`${W.id}/`:""}`,onClick:()=>{(0,v.Z)("heartbeat.onboarding_go_to_my_error_button_clicked",{organization:f,new_organization:!!x})},children:(0,h.t)("Go to my error")}):(0,I.tZ)(l.zx,{priority:"primary",busy:M,to:{pathname:`/organizations/${f.slug}/issues/`,query:{project:X?.id},hash:"#welcome"},onClick:()=>{(0,v.Z)("heartbeat.onboarding_go_to_issues_button_clicked",{organization:f})},children:(0,h.t)("Go to Issues")})]})})})]})}!function(e){e.AWAITING="awaiting",e.PENDING="pending",e.COMPLETE="complete"}(o||(o={})),C.displayName="HeartbeatFooter";const E=(0,i.Z)(Z.Z,{target:"ev09twe7"})("display:none;display:flex;flex-direction:row;justify-content:flex-end;padding:",(0,f.D)(2)," ",(0,f.D)(4),";@media (min-width: ",(e=>e.theme.breakpoints.small),"){display:grid;grid-template-columns:repeat(3, 1fr);align-items:center;gap:",(0,f.D)(3),";}",(e=>!e.newOrg&&(0,a.iv)("@media (min-width: ",e.theme.breakpoints.medium,"){width:calc(\n          100% -\n            ",e.theme.sidebar[e.sidebarCollapsed?"collapsedWidth":"expandedWidth"],"\n        );right:0;left:auto;}","")),";"),k=(0,i.Z)("div",{target:"ev09twe6"})("display:none;@media (min-width: ",(e=>e.theme.breakpoints.small),"){max-width:100%;overflow:hidden;width:100%;display:block;}"),$=(0,i.Z)("div",{target:"ev09twe5"})("display:none;@media (min-width: ",(e=>e.theme.breakpoints.small),"){gap:",(0,f.D)(2),";display:grid;grid-template-columns:repeat(2, max-content);justify-content:center;align-items:center;}"),T=(0,i.Z)(u.Z,{target:"ev09twe4"})("width:",(e=>e.width??"100%"),";"),A=(0,i.Z)(T,{target:"ev09twe3"})("height:",(e=>e.theme.form.md.height),"px;"),P=(0,i.Z)("div",{target:"ev09twe2"})(x.Z,";font-size:",(e=>e.theme.fontSizeExtraSmall),";color:",(e=>e.theme.white),";height:16px;width:16px;display:flex;align-items:center;justify-content:center;:before{top:auto;left:auto;}"),D=(0,i.Z)("div",{target:"ev09twe1"})("width:160px;display:flex;flex-direction:column;align-items:center;gap:",(0,f.D)(.5),";font-size:",(e=>e.theme.fontSizeSmall),";color:",(e=>e.theme.pink300),";",(e=>e.status===o.PENDING&&(0,a.iv)("color:",e.theme.disabled,";",P,"{background:",e.theme.disabled,";:before{content:none;}}",""))," ",(e=>e.status===o.COMPLETE&&(0,a.iv)("color:",e.theme.successText,";",P,"{background:",e.theme.success,";:before{content:none;}}","")),";"),N=(0,i.Z)("div",{target:"ev09twe0"})({name:"skgbeu",styles:"display:flex;justify-content:flex-end"})},"./app/views/onboarding/components/integrations/addInstallationInstructions.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var o=n("../node_modules/react/index.js"),i=n("./app/components/links/externalLink.tsx"),s=n("./app/locale.tsx"),a=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function r(){return(0,a.BX)(o.Fragment,{children:[(0,a.tZ)("p",{children:(0,s._N)("The automated AWS Lambda setup will instrument your Lambda functions with Sentry error and performance monitoring without any code changes. We use CloudFormation Stack ([learnMore]) to create the Sentry role which gives us access to your AWS account.",{learnMore:(0,a.tZ)(i.Z,{href:"https://aws.amazon.com/cloudformation/",children:(0,s.t)("Learn more about CloudFormation")})})}),(0,a.tZ)("p",{children:(0,s._N)("Just press the [addInstallation] button below and complete the steps in the popup that opens.",{addInstallation:(0,a.tZ)("strong",{children:(0,s.t)("Add Installation")})})}),(0,a.tZ)("p",{children:(0,s._N)("If you donâ€™t want to add CloudFormation stack to your AWS environment, press the [manualSetup] button instead.",{manualSetup:(0,a.tZ)("strong",{children:(0,s.t)("Manual Setup")})})})]})}r.displayName="AddInstallationInstructions"},"./app/views/onboarding/components/integrations/postInstallCodeSnippet.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var o=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=n("../node_modules/react/index.js"),s=n("./app/locale.tsx"),a=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function r(e){let{provider:t,platform:n,isOnboarding:o}=e;const r="python-awslambda"===n?"()":"();";return(0,a.BX)("div",{children:[(0,a.tZ)("p",{children:(0,s.t)("Congrats, you just installed the %s integration! Now that it's is installed, the next time you trigger an error it will go to your Sentry.",t.name)}),(0,a.tZ)("p",{children:(0,s.t)("This snippet includes an intentional error, so you can test that everything is working as soon as you set it up:")}),(0,a.tZ)("div",{children:(0,a.tZ)(d,{children:(0,a.BX)("code",{children:[(0,a.tZ)(l,{children:"myUndefinedFunction"}),(0,a.tZ)(c,{children:r}),")"]})})}),o&&(0,a.BX)(i.Fragment,{children:[(0,a.tZ)("p",{children:(0,s.t)("If you're new to Sentry, use the email alert to access your account and complete a product tour.")}),(0,a.tZ)("p",{children:(0,s.t)("If you're an existing user and have disabled alerts, you won't receive this email.")})]})]})}r.displayName="PostInstallCodeSnippet";const d=(0,o.Z)("pre",{target:"el04xqa2"})({name:"1cbwt16",styles:"padding:1em;overflow:auto;background:#251f3d;font-size:15px"}),l=(0,o.Z)("span",{target:"el04xqa1"})({name:"abvjt",styles:"color:#7cc5c4"}),c=(0,o.Z)("span",{target:"el04xqa0"})({name:"rybrai",styles:"color:#b3acc1"})},"./app/views/onboarding/createSampleEventButton.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var o=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=(n("../node_modules/core-js/modules/es.error.cause.js"),n("../node_modules/core-js/modules/es.array.push.js"),n("../node_modules/react/index.js")),s=n("../node_modules/react-router/es/index.js"),a=n("../node_modules/@sentry/core/esm/exports.js"),r=n("./app/actionCreators/indicator.tsx"),d=n("./app/components/button.tsx"),l=n("./app/locale.tsx"),c=n("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),p=n("./app/utils/withApi.tsx"),u=n("./app/utils/withDomainRequired.tsx"),m=n("./app/utils/withOrganization.tsx"),g=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const h=1e3;class b extends i.Component{constructor(){super(...arguments),(0,o.Z)(this,"state",{creating:!1}),(0,o.Z)(this,"createSampleGroup",(async()=>{const{api:e,organization:t,project:n}=this.props;let o;if(!n)return;(0,c.Z)("growth.onboarding_view_sample_event",{platform:n.platform,organization:t}),(0,r.E3)((0,l.t)("Processing sample event..."),{duration:3e4}),this.setState({creating:!0});try{const i=`/projects/${t.slug}/${n.slug}/create-sample/`;o=await e.requestPromise(i,{method:"POST"})}catch(e){return a.$e((t=>{t.setExtra("error",e),a.Tb(new Error("Failed to create sample event"))})),this.setState({creating:!1}),(0,r.B8)(),void(0,r.Iw)((0,l.t)("Failed to create a new sample event"))}const i=performance.now(),{eventCreated:d,retries:p}=await async function(e,t){let n=0;for(;;){if(n>30)return{eventCreated:!1,retries:n-1};await new Promise((e=>window.setTimeout(e,h)));try{return await e.requestPromise(`/issues/${t}/events/latest/`),{eventCreated:!0,retries:n}}catch{++n}}}(e,o.groupID),m=performance.now();(0,r.B8)(),this.setState({creating:!1});const g=Math.ceil(m-i);if(this.recordAnalytics({eventCreated:d,retries:p,duration:g}),!d)return(0,r.Iw)((0,l.t)("Failed to load sample event")),void a.$e((e=>{e.setTag("groupID",o.groupID),e.setTag("platform",n.platform||""),e.setTag("interval",h.toString()),e.setTag("retries",p.toString()),e.setTag("duration",g.toString()),e.setLevel("warning"),a.uT("Failed to load sample event")}));s.browserHistory.push((0,u.D)(`/organizations/${t.slug}/issues/${o.groupID}/?project=${n.id}&referrer=sample-error`))}))}componentDidMount(){const{organization:e,project:t,source:n}=this.props;t&&(0,c.Z)("sample_event.button_viewed",{organization:e,project_id:t.id,source:n})}recordAnalytics(e){let{eventCreated:t,retries:n,duration:o}=e;const{organization:i,project:s,source:a}=this.props;if(!s)return;const r="sample_event."+(t?"created":"failed");(0,c.Z)(r,{organization:i,project_id:s.id,platform:s.platform||"",interval:h,retries:n,duration:o,source:a})}render(){const{api:e,organization:t,project:n,source:o,...i}=this.props,{creating:s}=this.state;return(0,g.tZ)(d.zx,{...i,disabled:i.disabled||s,onClick:this.createSampleGroup})}}b.displayName="CreateSampleEventButton";const w=(0,p.Z)((0,m.Z)(b))},"./app/views/settings/organizationIntegrations/addIntegration.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var o=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=n("../node_modules/react/index.js"),s=n("../node_modules/query-string/index.js"),a=n("./app/actionCreators/indicator.tsx"),r=n("./app/constants/index.tsx"),d=n("./app/locale.tsx"),l=n("./app/utils/integrationUtil.tsx");class c extends i.Component{constructor(){super(...arguments),(0,o.Z)(this,"dialog",null),(0,o.Z)(this,"openDialog",(e=>{const{account:t,analyticsParams:n,modalParams:o,organization:i,provider:a}=this.props;(0,l.Db)("integrations.installation_start",{integration:a.key,integration_type:"first_party",organization:i,...n});const{url:r,width:d,height:c}=a.setupDialog,{left:p,top:u}=this.computeCenteredWindow(d,c);let m={...e};t&&(m.account=t),o&&(m={...m,...o});const g=`${r}?${s.stringify(m)}`,h=`scrollbars=yes,width=${d},height=${c},top=${u},left=${p}`;this.dialog=window.open(g,"sentryAddIntegration",h),this.dialog&&this.dialog.focus()})),(0,o.Z)(this,"didReceiveMessage",(e=>{const{analyticsParams:t,onInstall:n,organization:o,provider:i}=this.props;if(e.origin!==document.location.origin&&"production"===r.lC)return;if(e.source!==this.dialog)return;const{success:s,data:c}=e.data;this.dialog=null,s?c&&((0,l.Db)("integrations.installation_complete",{integration:i.key,integration_type:"first_party",organization:o,...t}),(0,a.S9)((0,d.t)("%s added",i.name)),n(c)):(0,a.Iw)(c.error)}))}componentDidMount(){window.addEventListener("message",this.didReceiveMessage)}componentWillUnmount(){window.removeEventListener("message",this.didReceiveMessage),this.dialog?.close()}computeCenteredWindow(e,t){const n=void 0!==window.screenLeft?window.screenLeft:window.screenX,o=void 0!==window.screenTop?window.screenTop:window.screenY;return{left:(window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width)/2-e/2+n,top:(window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)/2-t/2+o}}render(){const{children:e}=this.props;return e(this.openDialog)}}c.displayName="AddIntegration"},"./app/views/settings/organizationIntegrations/addIntegrationButton.tsx":(e,t,n)=>{"use strict";n.d(t,{w:()=>d});var o=n("./app/components/button.tsx"),i=n("./app/components/tooltip.tsx"),s=n("./app/locale.tsx"),a=n("./app/views/settings/organizationIntegrations/addIntegration.tsx"),r=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function d(e){let{provider:t,buttonText:n,onAddIntegration:d,organization:l,reinstall:c,analyticsParams:p,modalParams:u,...m}=e;const g=n??(c?(0,s.t)("Enable"):(0,s.t)("Add %s",t.metadata.noun));return(0,r.tZ)(i.u,{disabled:t.canAdd,title:`Integration cannot be added on Sentry. Enable this integration via the ${t.name} instance.`,children:(0,r.tZ)(a.Z,{provider:t,onInstall:d,organization:l,analyticsParams:p,modalParams:u,children:e=>(0,r.tZ)(o.zx,{disabled:!t.canAdd,...m,onClick:()=>e(),"aria-label":(0,s.t)("Add integration"),children:g})})})}d.displayName="AddIntegrationButton"},"../node_modules/lodash/_baseMean.js":(e,t,n)=>{var o=n("../node_modules/lodash/_baseSum.js");e.exports=function(e,t){var n=null==e?0:e.length;return n?o(e,t)/n:NaN}},"../node_modules/lodash/_baseSum.js":e=>{e.exports=function(e,t){for(var n,o=-1,i=e.length;++o<i;){var s=t(e[o]);void 0!==s&&(n=void 0===n?s:n+s)}return n}},"../node_modules/lodash/mean.js":(e,t,n)=>{var o=n("../node_modules/lodash/_baseMean.js"),i=n("../node_modules/lodash/identity.js");e.exports=function(e){return o(e,i)}}}]);
//# sourceMappingURL=../sourcemaps/app_views_onboarding_components_heartbeatFooter_index_tsx-app_views_onboarding_components_int-316d47.982aff0829843e41ebd98ee5e4c0e503.js.map