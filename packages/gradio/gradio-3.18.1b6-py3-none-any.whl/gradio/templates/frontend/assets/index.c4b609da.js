import{S as $,i as x,s as ee,ae as le,c as j,m as E,o as y,t as B,l as H,G as I,e as de,f as C,I as R,k as M,n as T,p as D,V as we,b as F,F as A,K as L,B as b,C as J,O as G,D as z,H as te,J as ne,N as ie,a0 as ke,aj as ve,v as pe,a2 as ye,g as ze,h as Be}from"./index.0cf8cb7d.js";/* empty css                                            */import{B as Ge}from"./Block.0c7ecd10.js";import{g as Ae}from"./Button.b171d142.js";import{B as Ce}from"./BlockLabel.1058a3aa.js";import{E as De}from"./Empty.9f8284d6.js";/* empty css                                                   */import{M as Ie}from"./ModifyUpload.d69209da.js";import{n as K}from"./utils.572a6656.js";import{I as se}from"./Image.9ac6a56e.js";function O(t,e,l){const n=t.slice();return n[27]=e[l][0],n[28]=e[l][1],n[30]=l,n}function U(t,e,l){const n=t.slice();return n[27]=e[l],n[31]=e,n[30]=l,n}function P(t){let e,l;return e=new Ce({props:{show_label:t[0],Icon:se,label:t[1]||"Gallery",disable:typeof t[3].container=="boolean"&&!t[3].container}}),{c(){j(e.$$.fragment)},m(n,i){E(e,n,i),l=!0},p(n,i){const r={};i[0]&1&&(r.show_label=n[0]),i[0]&2&&(r.label=n[1]||"Gallery"),i[0]&8&&(r.disable=typeof n[3].container=="boolean"&&!n[3].container),e.$set(r)},i(n){l||(y(e.$$.fragment,n),l=!0)},o(n){B(e.$$.fragment,n),l=!1},d(n){H(e,n)}}}function Ne(t){let e,l,n,i,r,_=t[4]!==null&&Q(t),f=t[7],o=[];for(let a=0;a<f.length;a+=1)o[a]=Z(O(t,f,a));return{c(){_&&_.c(),e=I(),l=A("div"),n=A("div");for(let a=0;a<o.length;a+=1)o[a].c();b(n,"class","grid-container svelte-ywf5u7"),b(n,"style",t[10]),G(n,"pt-6",t[0]),b(l,"class","grid-wrap svelte-ywf5u7"),le(()=>t[24].call(l)),G(l,"fixed-height",t[3].height!=="auto")},m(a,u){_&&_.m(a,u),C(a,e,u),C(a,l,u),z(l,n);for(let c=0;c<o.length;c+=1)o[c].m(n,null);i=ve(l,t[24].bind(l)),r=!0},p(a,u){if(a[4]!==null?_?(_.p(a,u),u[0]&16&&y(_,1)):(_=Q(a),_.c(),y(_,1),_.m(e.parentNode,e)):_&&(M(),B(_,1,1,()=>{_=null}),T()),u[0]&2192){f=a[7];let c;for(c=0;c<f.length;c+=1){const s=O(a,f,c);o[c]?o[c].p(s,u):(o[c]=Z(s),o[c].c(),o[c].m(n,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=f.length}(!r||u[0]&1024)&&b(n,"style",a[10]),u[0]&1&&G(n,"pt-6",a[0]),u[0]&8&&G(l,"fixed-height",a[3].height!=="auto")},i(a){r||(y(_),r=!0)},o(a){B(_),r=!1},d(a){_&&_.d(a),a&&D(e),a&&D(l),ie(o,a),i()}}}function je(t){let e,l;return e=new De({props:{size:"large",unpadded_box:!0,$$slots:{default:[Ee]},$$scope:{ctx:t}}}),{c(){j(e.$$.fragment)},m(n,i){E(e,n,i),l=!0},p(n,i){const r={};i[1]&2&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){l||(y(e.$$.fragment,n),l=!0)},o(n){B(e.$$.fragment,n),l=!1},d(n){H(e,n)}}}function Q(t){let e,l,n,i,r,_,f,o,a,u,c,s,d;l=new Ie({}),l.$on("clear",t[18]);let h=t[7][t[4]][1]&&W(t),w=t[7],p=[];for(let m=0;m<w.length;m+=1)p[m]=X(U(t,w,m));return{c(){e=A("div"),j(l.$$.fragment),n=I(),i=A("img"),o=I(),h&&h.c(),a=I(),u=A("div");for(let m=0;m<p.length;m+=1)p[m].c();L(i.src,r=t[7][t[4]][0].data)||b(i,"src",r),b(i,"alt",_=t[7][t[4]][1]||""),b(i,"title",f=t[7][t[4]][1]||null),J(i,"height","calc(100% - "+(t[7][t[4]][1]?"80px":"60px")+")"),b(i,"class","svelte-ywf5u7"),G(i,"with-caption",!!t[7][t[4]][1]),b(u,"class","thumbnails scroll-hide svelte-ywf5u7"),b(e,"class","preview svelte-ywf5u7"),G(e,"fixed-height",t[3].height!=="auto")},m(m,k){C(m,e,k),E(l,e,null),z(e,n),z(e,i),z(e,o),h&&h.m(e,null),z(e,a),z(e,u);for(let v=0;v<p.length;v+=1)p[v].m(u,null);t[22](u),c=!0,s||(d=[R(i,"click",t[19]),R(e,"keydown",t[13])],s=!0)},p(m,k){if((!c||k[0]&144&&!L(i.src,r=m[7][m[4]][0].data))&&b(i,"src",r),(!c||k[0]&144&&_!==(_=m[7][m[4]][1]||""))&&b(i,"alt",_),(!c||k[0]&144&&f!==(f=m[7][m[4]][1]||null))&&b(i,"title",f),(!c||k[0]&144)&&J(i,"height","calc(100% - "+(m[7][m[4]][1]?"80px":"60px")+")"),k[0]&144&&G(i,"with-caption",!!m[7][m[4]][1]),m[7][m[4]][1]?h?h.p(m,k):(h=W(m),h.c(),h.m(e,a)):h&&(h.d(1),h=null),k[0]&400){w=m[7];let v;for(v=0;v<w.length;v+=1){const N=U(m,w,v);p[v]?p[v].p(N,k):(p[v]=X(N),p[v].c(),p[v].m(u,null))}for(;v<p.length;v+=1)p[v].d(1);p.length=w.length}k[0]&8&&G(e,"fixed-height",m[3].height!=="auto")},i(m){c||(y(l.$$.fragment,m),c=!0)},o(m){B(l.$$.fragment,m),c=!1},d(m){m&&D(e),H(l),h&&h.d(),ie(p,m),t[22](null),s=!1,ke(d)}}}function W(t){let e,l=t[7][t[4]][1]+"",n;return{c(){e=A("div"),n=te(l),b(e,"class","caption svelte-ywf5u7")},m(i,r){C(i,e,r),z(e,n)},p(i,r){r[0]&144&&l!==(l=i[7][i[4]][1]+"")&&ne(n,l)},d(i){i&&D(e)}}}function X(t){let e,l,n,i,r,_,f=t[30],o,a;const u=()=>t[20](e,f),c=()=>t[20](null,f);function s(){return t[21](t[30])}return{c(){e=A("button"),l=A("img"),_=I(),L(l.src,n=t[27][0].data)||b(l,"src",n),b(l,"title",i=t[27][1]||null),b(l,"alt",r=t[27][1]||null),b(l,"class","svelte-ywf5u7"),b(e,"class","thumbnail-item thumbnail-small  svelte-ywf5u7"),G(e,"selected",t[4]===t[30])},m(d,h){C(d,e,h),z(e,l),z(e,_),u(),o||(a=R(e,"click",s),o=!0)},p(d,h){t=d,h[0]&128&&!L(l.src,n=t[27][0].data)&&b(l,"src",n),h[0]&128&&i!==(i=t[27][1]||null)&&b(l,"title",i),h[0]&128&&r!==(r=t[27][1]||null)&&b(l,"alt",r),f!==t[30]&&(c(),f=t[30],u()),h[0]&16&&G(e,"selected",t[4]===t[30])},d(d){d&&D(e),c(),o=!1,a()}}}function Y(t){let e,l=t[28]+"",n;return{c(){e=A("div"),n=te(l),b(e,"class","caption-label svelte-ywf5u7")},m(i,r){C(i,e,r),z(e,n)},p(i,r){r[0]&128&&l!==(l=i[28]+"")&&ne(n,l)},d(i){i&&D(e)}}}function Z(t){let e,l,n,i,r,_,f,o,a=t[28]&&Y(t);function u(){return t[23](t[30])}return{c(){e=A("button"),l=A("img"),r=I(),a&&a.c(),_=I(),b(l,"alt",n=t[28]||""),L(l.src,i=typeof t[27]=="string"?t[27]:t[27].data)||b(l,"src",i),b(l,"class","svelte-ywf5u7"),b(e,"class","thumbnail-item thumbnail-lg svelte-ywf5u7"),G(e,"selected",t[4]===t[30])},m(c,s){C(c,e,s),z(e,l),z(e,r),a&&a.m(e,null),z(e,_),f||(o=R(e,"click",u),f=!0)},p(c,s){t=c,s[0]&128&&n!==(n=t[28]||"")&&b(l,"alt",n),s[0]&128&&!L(l.src,i=typeof t[27]=="string"?t[27]:t[27].data)&&b(l,"src",i),t[28]?a?a.p(t,s):(a=Y(t),a.c(),a.m(e,_)):a&&(a.d(1),a=null),s[0]&16&&G(e,"selected",t[4]===t[30])},d(c){c&&D(e),a&&a.d(),f=!1,o()}}}function Ee(t){let e,l;return e=new se({}),{c(){j(e.$$.fragment)},m(n,i){E(e,n,i),l=!0},i(n){l||(y(e.$$.fragment,n),l=!0)},o(n){B(e.$$.fragment,n),l=!1},d(n){H(e,n)}}}function He(t){let e,l,n,i,r,_,f;le(t[17]);let o=t[0]&&P(t);const a=[je,Ne],u=[];function c(s,d){return s[2]===null||s[7]===null||s[7].length===0?0:1}return l=c(t),n=u[l]=a[l](t),{c(){o&&o.c(),e=I(),n.c(),i=de()},m(s,d){o&&o.m(s,d),C(s,e,d),u[l].m(s,d),C(s,i,d),r=!0,_||(f=R(window,"resize",t[17]),_=!0)},p(s,d){s[0]?o?(o.p(s,d),d[0]&1&&y(o,1)):(o=P(s),o.c(),y(o,1),o.m(e.parentNode,e)):o&&(M(),B(o,1,1,()=>{o=null}),T());let h=l;l=c(s),l===h?u[l].p(s,d):(M(),B(u[h],1,1,()=>{u[h]=null}),T(),n=u[l],n?n.p(s,d):(n=u[l]=a[l](s),n.c()),y(n,1),n.m(i.parentNode,i))},i(s){r||(y(o),y(n),r=!0)},o(s){B(o),B(n),r=!1},d(s){o&&o.d(s),s&&D(e),u[l].d(s),s&&D(i),_=!1,f()}}}function Le(t,e,l){let n,i,r,_,f,{show_label:o=!0}=e,{label:a}=e,{root:u=""}=e,{root_url:c=null}=e,{value:s=null}=e,{style:d={grid:[2],height:"auto"}}=e,h=null,w=null;function p(g){switch(g.code){case"Escape":g.preventDefault(),l(4,w=null);break;case"ArrowLeft":g.preventDefault(),l(4,w=i);break;case"ArrowRight":g.preventDefault(),l(4,w=r);break}}let m=[],k;async function v(g){if(typeof g!="number")return;await we(),m[g].focus();const{left:q,width:ge}=k.getBoundingClientRect(),{left:he,width:be}=m[g].getBoundingClientRect(),V=he-q+be/2-ge/2+k.scrollLeft;k.scrollTo({left:V<0?0:V,behavior:"smooth"})}let N=0,S=0;function oe(){l(6,S=window.innerHeight)}const ae=()=>l(4,w=null),re=()=>l(4,w=r);function fe(g,q){F[g?"unshift":"push"](()=>{m[q]=g,l(8,m)})}const ue=g=>l(4,w=g);function _e(g){F[g?"unshift":"push"](()=>{k=g,l(9,k)})}const ce=g=>l(4,w=_?g:w);function me(){N=this.clientHeight,l(5,N)}return t.$$set=g=>{"show_label"in g&&l(0,o=g.show_label),"label"in g&&l(1,a=g.label),"root"in g&&l(14,u=g.root),"root_url"in g&&l(15,c=g.root_url),"value"in g&&l(2,s=g.value),"style"in g&&l(3,d=g.style)},t.$$.update=()=>{t.$$.dirty[0]&49156&&l(7,n=s===null?null:s.map(g=>Array.isArray(g)?[K(g[0],u,c),g[1]]:[K(g,u,c),null])),t.$$.dirty[0]&65556&&h!==s&&(l(4,w=w!==null&&s!==null&&w<s.length?w:null),l(16,h=s)),t.$$.dirty[0]&144&&(i=((w??0)+(n?.length??0)-1)%(n?.length??0)),t.$$.dirty[0]&144&&l(12,r=((w??0)+1)%(n?.length??0)),t.$$.dirty[0]&16&&v(w),t.$$.dirty[0]&96&&l(11,_=S>=N),t.$$.dirty[0]&8&&l(10,{styles:f}=Ae(d,["grid"]),f)},[o,a,s,d,w,N,S,n,m,k,f,_,r,p,u,c,h,oe,ae,re,fe,ue,_e,ce,me]}class Re extends ${constructor(e){super(),x(this,e,Le,He,ee,{show_label:0,label:1,root:14,root_url:15,value:2,style:3},null,[-1,-1])}}function Se(t){let e,l,n,i;const r=[t[0]];let _={};for(let f=0;f<r.length;f+=1)_=pe(_,r[f]);return e=new ye({props:_}),n=new Re({props:{label:t[2],value:t[7],style:t[8],show_label:t[1],root:t[3],root_url:t[4]}}),{c(){j(e.$$.fragment),l=I(),j(n.$$.fragment)},m(f,o){E(e,f,o),C(f,l,o),E(n,f,o),i=!0},p(f,o){const a=o&1?ze(r,[Be(f[0])]):{};e.$set(a);const u={};o&4&&(u.label=f[2]),o&128&&(u.value=f[7]),o&256&&(u.style=f[8]),o&2&&(u.show_label=f[1]),o&8&&(u.root=f[3]),o&16&&(u.root_url=f[4]),n.$set(u)},i(f){i||(y(e.$$.fragment,f),y(n.$$.fragment,f),i=!0)},o(f){B(e.$$.fragment,f),B(n.$$.fragment,f),i=!1},d(f){H(e,f),f&&D(l),H(n,f)}}}function qe(t){let e,l;return e=new Ge({props:{visible:t[6],variant:"solid",color:"grey",padding:!1,elem_id:t[5],disable:typeof t[8].container=="boolean"&&!t[8].container,$$slots:{default:[Se]},$$scope:{ctx:t}}}),{c(){j(e.$$.fragment)},m(n,i){E(e,n,i),l=!0},p(n,[i]){const r={};i&64&&(r.visible=n[6]),i&32&&(r.elem_id=n[5]),i&256&&(r.disable=typeof n[8].container=="boolean"&&!n[8].container),i&927&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){l||(y(e.$$.fragment,n),l=!0)},o(n){B(e.$$.fragment,n),l=!1},d(n){H(e,n)}}}function Me(t,e,l){let{loading_status:n}=e,{show_label:i}=e,{label:r}=e,{root:_}=e,{root_url:f}=e,{elem_id:o=""}=e,{visible:a=!0}=e,{value:u=null}=e,{style:c={}}=e;return t.$$set=s=>{"loading_status"in s&&l(0,n=s.loading_status),"show_label"in s&&l(1,i=s.show_label),"label"in s&&l(2,r=s.label),"root"in s&&l(3,_=s.root),"root_url"in s&&l(4,f=s.root_url),"elem_id"in s&&l(5,o=s.elem_id),"visible"in s&&l(6,a=s.visible),"value"in s&&l(7,u=s.value),"style"in s&&l(8,c=s.style)},[n,i,r,_,f,o,a,u,c]}class Te extends ${constructor(e){super(),x(this,e,Me,qe,ee,{loading_status:0,show_label:1,label:2,root:3,root_url:4,elem_id:5,visible:6,value:7,style:8})}}var Ze=Te;const $e=["static"],xe=t=>({type:"Array<{ name: string } | [{ name: string }, string]>",description:"list of objects with filename and optional caption"});export{Ze as Component,xe as document,$e as modes};
//# sourceMappingURL=index.c4b609da.js.map
