import{S as _e,i as de,s as he,F as B,B as m,O as L,f as M,L as ve,I as U,p as T,a0 as ge,G as V,E as te,x as Ae,b as P,H as $,J as pe,e as at,ad as rt,D as E,a as le,o as C,c as Z,m as j,t as R,l as Q,k as W,n as X,j as ne,q as He,A as x,V as K,y as oe,z as ce,v as it,a2 as ut,g as ft,h as ot}from"./index.3b464a39.js";import{U as ct}from"./Upload.752e69b8.js";/* empty css                                            *//* empty css                                                   */import{B as Ne}from"./Button.2176d73f.js";import{d as _t}from"./dsv.7fe76a93.js";var De=Object.prototype.hasOwnProperty;function se(s,e){var t,n;if(s===e)return!0;if(s&&e&&(t=s.constructor)===e.constructor){if(t===Date)return s.getTime()===e.getTime();if(t===RegExp)return s.toString()===e.toString();if(t===Array){if((n=s.length)===e.length)for(;n--&&se(s[n],e[n]););return n===-1}if(!t||typeof s=="object"){n=0;for(t in s)if(De.call(s,t)&&++n&&!De.call(e,t)||!(t in e)||!se(s[t],e[t]))return!1;return Object.keys(e).length===n}}return s!==s&&e!==e}function Le(s){let e,t,n;return{c(){e=B("input"),m(e,"tabindex","-1"),m(e,"class","svelte-q8uklq"),L(e,"header",s[3])},m(l,r){M(l,e,r),ve(e,s[0]),s[8](e),t||(n=[U(e,"input",s[7]),U(e,"keydown",s[6]),U(e,"blur",pt)],t=!0)},p(l,r){r&1&&e.value!==l[0]&&ve(e,l[0]),r&8&&L(e,"header",l[3])},d(l){l&&T(e),s[8](null),t=!1,ge(n)}}}function dt(s){let e;return{c(){e=$(s[0])},m(t,n){M(t,e,n)},p(t,n){n&1&&pe(e,t[0])},d(t){t&&T(e)}}}function ht(s){let e,t;return{c(){e=new rt(!1),t=at(),e.a=t},m(n,l){e.m(s[0],n,l),M(n,t,l)},p(n,l){l&1&&e.p(n[0])},d(n){n&&T(t),n&&e.d()}}}function gt(s){let e,t,n,l,r=s[2]&&Le(s);function _(i,g){return i[4]==="markdown"||i[4]==="html"?ht:dt}let d=_(s),f=d(s);return{c(){r&&r.c(),e=V(),t=B("span"),f.c(),m(t,"tabindex","-1"),m(t,"role","button"),m(t,"class","svelte-q8uklq"),L(t,"edit",s[2])},m(i,g){r&&r.m(i,g),M(i,e,g),M(i,t,g),f.m(t,null),n||(l=U(t,"dblclick",s[5]),n=!0)},p(i,[g]){i[2]?r?r.p(i,g):(r=Le(i),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),d===(d=_(i))&&f?f.p(i,g):(f.d(1),f=d(i),f&&(f.c(),f.m(t,null))),g&4&&L(t,"edit",i[2])},i:te,o:te,d(i){r&&r.d(i),i&&T(e),i&&T(t),f.d(),n=!1,l()}}}const pt=({currentTarget:s})=>s.setAttribute("tabindex","-1");function mt(s,e,t){let{edit:n}=e,{value:l=""}=e,{el:r}=e,{header:_=!1}=e,{datatype:d="str"}=e;function f(c){Ae.call(this,s,c)}function i(c){Ae.call(this,s,c)}function g(){l=this.value,t(0,l)}function y(c){P[c?"unshift":"push"](()=>{r=c,t(1,r)})}return s.$$set=c=>{"edit"in c&&t(2,n=c.edit),"value"in c&&t(0,l=c.value),"el"in c&&t(1,r=c.el),"header"in c&&t(3,_=c.header),"datatype"in c&&t(4,d=c.datatype)},[l,r,n,_,d,f,i,g,y]}class Ue extends _e{constructor(e){super(),de(this,e,mt,gt,he,{edit:2,value:0,el:1,header:3,datatype:4})}}function Ee(s,e,t){const n=s.slice();return n[52]=e[t],n[54]=t,n}function qe(s,e,t){const n=s.slice();return n[55]=e[t].value,n[56]=e[t].id,n[57]=e,n[58]=t,n}function Be(s,e,t){const n=s.slice();return n[55]=e[t].value,n[56]=e[t].id,n[59]=e,n[54]=t,n}function Me(s){let e,t;return{c(){e=B("p"),t=$(s[1]),m(e,"class","svelte-1sckpv1")},m(n,l){M(n,e,l),E(e,t)},p(n,l){l[0]&2&&pe(t,n[1])},d(n){n&&T(e)}}}function Te(s){let e,t;return{c(){e=B("caption"),t=$(s[1]),m(e,"class","sr-only")},m(n,l){M(n,e,l),E(e,t)},p(n,l){l[0]&2&&pe(t,n[1])},d(n){n&&T(e)}}}function Ce(s,e){let t,n,l,r,_,d,f,i,g,y,c,p=e[56],o,A,S;function u(z){e[30](z,e[56])}function k(){return e[31](e[56])}let q={value:e[55],edit:e[13]===e[56],header:!0};e[10][e[56]].input!==void 0&&(q.el=e[10][e[56]].input),l=new Ue({props:q}),P.push(()=>le(l,"el",u)),l.$on("keydown",e[21]),l.$on("dblclick",k);function b(){return e[32](e[54])}const F=()=>e[33](t,p),J=()=>e[33](null,p);return{key:s,first:null,c(){t=B("th"),n=B("div"),Z(l.$$.fragment),_=V(),d=B("div"),f=x("svg"),i=x("path"),y=V(),m(i,"d","M4.49999 0L8.3971 6.75H0.602875L4.49999 0Z"),m(f,"width","1em"),m(f,"height","1em"),m(f,"viewBox","0 0 9 7"),m(f,"fill","none"),m(f,"xmlns","http://www.w3.org/2000/svg"),m(f,"class","svelte-1sckpv1"),m(d,"class",g="sort-button "+e[11]+" svelte-1sckpv1"),L(d,"sorted",e[12]===e[54]),L(d,"des",e[12]===e[54]&&e[11]==="des"),m(n,"class","cell-wrap svelte-1sckpv1"),m(t,"aria-sort",c=e[15](e[55],e[12],e[11])),m(t,"class","svelte-1sckpv1"),L(t,"editing",e[13]===e[56]),this.first=t},m(z,O){M(z,t,O),E(t,n),j(l,n,null),E(n,_),E(n,d),E(d,f),E(f,i),E(t,y),F(),o=!0,A||(S=U(d,"click",b),A=!0)},p(z,O){e=z;const G={};O[0]&256&&(G.value=e[55]),O[0]&8448&&(G.edit=e[13]===e[56]),!r&&O[0]&1280&&(r=!0,G.el=e[10][e[56]].input,ne(()=>r=!1)),l.$set(G),(!o||O[0]&2048&&g!==(g="sort-button "+e[11]+" svelte-1sckpv1"))&&m(d,"class",g),O[0]&6400&&L(d,"sorted",e[12]===e[54]),O[0]&6400&&L(d,"des",e[12]===e[54]&&e[11]==="des"),(!o||O[0]&6400&&c!==(c=e[15](e[55],e[12],e[11])))&&m(t,"aria-sort",c),p!==e[56]&&(J(),p=e[56],F()),O[0]&8448&&L(t,"editing",e[13]===e[56])},i(z){o||(C(l.$$.fragment,z),o=!0)},o(z){R(l.$$.fragment,z),o=!1},d(z){z&&T(t),Q(l),J(),A=!1,S()}}}function Fe(s,e){let t,n,l,r,_,d=e[56],f,i,g;function y(b){e[34](b,e[55],e[57],e[58])}function c(b){e[35](b,e[56])}let p={edit:e[6]===e[56],datatype:Array.isArray(e[0])?e[0][e[58]]:e[0]};e[55]!==void 0&&(p.value=e[55]),e[10][e[56]].input!==void 0&&(p.el=e[10][e[56]].input),l=new Ue({props:p}),P.push(()=>le(l,"value",y)),P.push(()=>le(l,"el",c));const o=()=>e[36](t,d),A=()=>e[36](null,d);function S(){return e[37](e[56])}function u(){return e[38](e[56])}function k(){return e[39](e[56])}function q(...b){return e[40](e[54],e[58],e[56],...b)}return{key:s,first:null,c(){t=B("td"),n=B("div"),Z(l.$$.fragment),m(n,"class","cell-wrap svelte-1sckpv1"),L(n,"border-transparent",e[7]!==e[56]),m(t,"tabindex","0"),m(t,"class","svelte-1sckpv1"),this.first=t},m(b,F){M(b,t,F),E(t,n),j(l,n,null),o(),f=!0,i||(g=[U(t,"touchstart",S,{passive:!0}),U(t,"click",u),U(t,"dblclick",k),U(t,"keydown",q)],i=!0)},p(b,F){e=b;const J={};F[0]&576&&(J.edit=e[6]===e[56]),F[0]&513&&(J.datatype=Array.isArray(e[0])?e[0][e[58]]:e[0]),!r&&F[0]&512&&(r=!0,J.value=e[55],ne(()=>r=!1)),!_&&F[0]&1536&&(_=!0,J.el=e[10][e[56]].input,ne(()=>_=!1)),l.$set(J),F[0]&640&&L(n,"border-transparent",e[7]!==e[56]),d!==e[56]&&(A(),d=e[56],o())},i(b){f||(C(l.$$.fragment,b),f=!0)},o(b){R(l.$$.fragment,b),f=!1},d(b){b&&T(t),Q(l),A(),i=!1,ge(g)}}}function Oe(s,e){let t,n=[],l=new Map,r,_,d=e[52];const f=i=>i[56];for(let i=0;i<d.length;i+=1){let g=qe(e,d,i),y=f(g);l.set(y,n[i]=Fe(y,g))}return{key:s,first:null,c(){t=B("tr");for(let i=0;i<n.length;i+=1)n[i].c();r=V(),m(t,"class","svelte-1sckpv1"),this.first=t},m(i,g){M(i,t,g);for(let y=0;y<n.length;y+=1)n[y].m(t,null);E(t,r),_=!0},p(i,g){e=i,g[0]&460481&&(d=e[52],W(),n=oe(n,g,f,1,e,d,l,t,ce,Fe,r,qe),X())},i(i){if(!_){for(let g=0;g<d.length;g+=1)C(n[g]);_=!0}},o(i){for(let g=0;g<n.length;g+=1)R(n[g]);_=!1},d(i){i&&T(t);for(let g=0;g<n.length;g+=1)n[g].d()}}}function bt(s){let e,t,n,l,r=[],_=new Map,d,f,i=[],g=new Map,y,c=s[1]&&s[1].length!==0&&Te(s),p=s[8];const o=u=>u[56];for(let u=0;u<p.length;u+=1){let k=Be(s,p,u),q=o(k);_.set(q,r[u]=Ce(q,k))}let A=s[9];const S=u=>u[52];for(let u=0;u<A.length;u+=1){let k=Ee(s,A,u),q=S(k);g.set(q,i[u]=Oe(q,k))}return{c(){e=B("table"),c&&c.c(),t=V(),n=B("thead"),l=B("tr");for(let u=0;u<r.length;u+=1)r[u].c();d=V(),f=B("tbody");for(let u=0;u<i.length;u+=1)i[u].c();m(l,"class","svelte-1sckpv1"),m(n,"class","svelte-1sckpv1"),m(f,"class","svelte-1sckpv1"),m(e,"class","svelte-1sckpv1"),L(e,"dragging",s[14])},m(u,k){M(u,e,k),c&&c.m(e,null),E(e,t),E(e,n),E(n,l);for(let q=0;q<r.length;q+=1)r[q].m(l,null);E(e,d),E(e,f);for(let q=0;q<i.length;q+=1)i[q].m(f,null);y=!0},p(u,k){u[1]&&u[1].length!==0?c?c.p(u,k):(c=Te(u),c.c(),c.m(e,t)):c&&(c.d(1),c=null),k[0]&3718400&&(p=u[8],W(),r=oe(r,k,o,1,u,p,_,l,ce,Ce,null,Be),X()),k[0]&460481&&(A=u[9],W(),i=oe(i,k,S,1,u,A,g,f,ce,Oe,null,Ee),X()),k[0]&16384&&L(e,"dragging",u[14])},i(u){if(!y){for(let k=0;k<p.length;k+=1)C(r[k]);for(let k=0;k<A.length;k+=1)C(i[k]);y=!0}},o(u){for(let k=0;k<r.length;k+=1)R(r[k]);for(let k=0;k<i.length;k+=1)R(i[k]);y=!1},d(u){u&&T(e),c&&c.d();for(let k=0;k<r.length;k+=1)r[k].d();for(let k=0;k<i.length;k+=1)i[k].d()}}}function Re(s){let e,t,n,l=s[3][1]==="dynamic"&&Se(s),r=s[2][1]==="dynamic"&&ze(s);return{c(){e=B("div"),l&&l.c(),t=V(),r&&r.c(),m(e,"class","controls-wrap svelte-1sckpv1")},m(_,d){M(_,e,d),l&&l.m(e,null),E(e,t),r&&r.m(e,null),n=!0},p(_,d){_[3][1]==="dynamic"?l?(l.p(_,d),d[0]&8&&C(l,1)):(l=Se(_),l.c(),C(l,1),l.m(e,t)):l&&(W(),R(l,1,1,()=>{l=null}),X()),_[2][1]==="dynamic"?r?(r.p(_,d),d[0]&4&&C(r,1)):(r=ze(_),r.c(),C(r,1),r.m(e,null)):r&&(W(),R(r,1,1,()=>{r=null}),X())},i(_){n||(C(l),C(r),n=!0)},o(_){R(l),R(r),n=!1},d(_){_&&T(e),l&&l.d(),r&&r.d()}}}function Se(s){let e,t,n;return t=new Ne({props:{variant:"plain",size:"sm",$$slots:{default:[kt]},$$scope:{ctx:s}}}),t.$on("click",s[43]),{c(){e=B("span"),Z(t.$$.fragment),m(e,"class","button-wrap svelte-1sckpv1")},m(l,r){M(l,e,r),j(t,e,null),n=!0},p(l,r){const _={};r[1]&536870912&&(_.$$scope={dirty:r,ctx:l}),t.$set(_)},i(l){n||(C(t.$$.fragment,l),n=!0)},o(l){R(t.$$.fragment,l),n=!1},d(l){l&&T(e),Q(t)}}}function kt(s){let e,t,n;return{c(){e=x("svg"),t=x("path"),n=$(`
						New row`),m(t,"fill","currentColor"),m(t,"d","M24.59 16.59L17 24.17V4h-2v20.17l-7.59-7.58L6 18l10 10l10-10l-1.41-1.41z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),m(e,"aria-hidden","true"),m(e,"role","img"),m(e,"width","1em"),m(e,"height","1em"),m(e,"preserveAspectRatio","xMidYMid meet"),m(e,"viewBox","0 0 32 32"),m(e,"class","svelte-1sckpv1")},m(l,r){M(l,e,r),E(e,t),M(l,n,r)},p:te,d(l){l&&T(e),l&&T(n)}}}function ze(s){let e,t,n;return t=new Ne({props:{variant:"plain",size:"sm",$$slots:{default:[wt]},$$scope:{ctx:s}}}),t.$on("click",s[23]),{c(){e=B("span"),Z(t.$$.fragment),m(e,"class","button-wrap svelte-1sckpv1")},m(l,r){M(l,e,r),j(t,e,null),n=!0},p(l,r){const _={};r[1]&536870912&&(_.$$scope={dirty:r,ctx:l}),t.$set(_)},i(l){n||(C(t.$$.fragment,l),n=!0)},o(l){R(t.$$.fragment,l),n=!1},d(l){l&&T(e),Q(t)}}}function wt(s){let e,t,n;return{c(){e=x("svg"),t=x("path"),n=$(`
						New column`),m(t,"fill","currentColor"),m(t,"d","m18 6l-1.43 1.393L24.15 15H4v2h20.15l-7.58 7.573L18 26l10-10L18 6z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),m(e,"aria-hidden","true"),m(e,"role","img"),m(e,"width","1em"),m(e,"height","1em"),m(e,"preserveAspectRatio","xMidYMid meet"),m(e,"viewBox","0 0 32 32"),m(e,"class","svelte-1sckpv1")},m(l,r){M(l,e,r),E(e,t),M(l,n,r)},p:te,d(l){l&&T(e),l&&T(n)}}}function yt(s){let e,t,n,l,r,_,d,f,i,g=s[1]&&s[1].length!==0&&Me(s);function y(o){s[41](o)}let c={flex:!1,center:!1,boundedheight:!1,disable_click:!0,$$slots:{default:[bt]},$$scope:{ctx:s}};s[14]!==void 0&&(c.dragging=s[14]),l=new ct({props:c}),P.push(()=>le(l,"dragging",y)),l.$on("load",s[42]);let p=s[4]&&Re(s);return{c(){e=B("div"),g&&g.c(),t=V(),n=B("div"),Z(l.$$.fragment),_=V(),p&&p.c(),m(n,"class","table-wrap scroll-hide svelte-1sckpv1"),L(n,"dragging",s[14]),L(n,"no-wrap",!s[5]),m(e,"class","svelte-1sckpv1"),L(e,"label",s[1]&&s[1].length!==0)},m(o,A){M(o,e,A),g&&g.m(e,null),E(e,t),E(e,n),j(l,n,null),E(e,_),p&&p.m(e,null),d=!0,f||(i=[U(window,"click",s[24]),U(window,"touchstart",s[24])],f=!0)},p(o,A){o[1]&&o[1].length!==0?g?g.p(o,A):(g=Me(o),g.c(),g.m(e,t)):g&&(g.d(1),g=null);const S={};A[0]&32707|A[1]&536870912&&(S.$$scope={dirty:A,ctx:o}),!r&&A[0]&16384&&(r=!0,S.dragging=o[14],ne(()=>r=!1)),l.$set(S),A[0]&16384&&L(n,"dragging",o[14]),A[0]&32&&L(n,"no-wrap",!o[5]),o[4]?p?(p.p(o,A),A[0]&16&&C(p,1)):(p=Re(o),p.c(),C(p,1),p.m(e,null)):p&&(W(),R(p,1,1,()=>{p=null}),X()),A[0]&2&&L(e,"label",o[1]&&o[1].length!==0)},i(o){d||(C(l.$$.fragment,o),C(p),d=!0)},o(o){R(l.$$.fragment,o),R(p),d=!1},d(o){o&&T(e),g&&g.d(),Q(l),p&&p.d(),f=!1,ge(i)}}}function vt(s,e){return e.filter(t);function t(n){var l=-1;return s.split(`
`).every(r);function r(_){if(!_)return!0;var d=_.split(n).length;return l<0&&(l=d),l===d&&d>1}}}function At(s){const e=atob(s.split(",")[1]),t=s.split(",")[0].split(":")[1].split(";")[0],n=new ArrayBuffer(e.length),l=new Uint8Array(n);for(let r=0;r<e.length;r++)l[r]=e.charCodeAt(r);return new Blob([n],{type:t})}function Dt(s,e,t){let{datatype:n}=e,{label:l=null}=e,{headers:r=[]}=e,{values:_=[[]]}=e,{col_count:d}=e,{row_count:f}=e,{editable:i=!0}=e,{wrap:g=!1}=e;const y=He();let c=!1,p=!1,o={};function A(a){let h=a||[];if(d[1]==="fixed"&&h.length<d[0]){const w=Array(d[0]-h.length).fill("").map((v,D)=>`${D+h.length}`);h=h.concat(w)}return!h||h.length===0?Array(d[0]).fill(0).map((w,v)=>{const D=`h-${v}`;return t(10,o[D]={cell:null,input:null},o),{id:D,value:JSON.stringify(v+1)}}):h.map((w,v)=>{const D=`h-${v}`;return t(10,o[D]={cell:null,input:null},o),{id:D,value:w??""}})}function S(a){const h=a.length>0?a.length:f[0];return Array(f[1]==="fixed"||h<f[0]?f[0]:h).fill(0).map((w,v)=>Array(d[1]==="fixed"?d[0]:a[0].length).fill(0).map((D,N)=>{const Y=`${v}-${N}`;return t(10,o[Y]={input:null,cell:null},o),{value:a?.[v]?.[N]??"",id:Y}}))}let u=A(r),k;async function q(){typeof c=="string"?(await K(),o[c]?.input?.focus()):typeof p=="string"&&(await K(),o[p]?.input?.focus())}let b=[[]],F;function J(a,h,w){if(!h)return"none";if(r[h]===a){if(w==="asc")return"ascending";if(w==="des")return"descending"}}function z(a){return b.reduce((h,w,v)=>{const D=w.reduce((N,Y,ue)=>a===Y.id?ue:N,-1);return D===-1?h:[v,D]},[-1,-1])}async function O(a,h){if(!i||c===a)return;if(h){const[v,D]=z(a);t(9,b[v][D].value="",b)}t(6,c=a),await K();const{input:w}=o[a];w?.focus()}async function G(a,h,w,v){let D;switch(a.key){case"ArrowRight":if(c)break;a.preventDefault(),D=b[h][w+1],t(7,p=D?D.id:p);break;case"ArrowLeft":if(c)break;a.preventDefault(),D=b[h][w-1],t(7,p=D?D.id:p);break;case"ArrowDown":if(c)break;a.preventDefault(),D=b[h+1],t(7,p=D?D[w].id:p);break;case"ArrowUp":if(c)break;a.preventDefault(),D=b[h-1],t(7,p=D?D[w].id:p);break;case"Escape":if(!i)break;a.preventDefault(),t(7,p=c),t(6,c=!1);break;case"Enter":if(!i)break;if(a.preventDefault(),a.shiftKey){re(h),await K();const[st]=z(v);t(7,p=b[st+1][w].id)}else c===v?t(6,c=!1):O(v);break;case"Backspace":if(!i)break;c||(a.preventDefault(),t(9,b[h][w].value="",b));break;case"Delete":if(!i)break;c||(a.preventDefault(),t(9,b[h][w].value="",b));break;case"Tab":let N=a.shiftKey?-1:1,Y=b[h][w+N],ue=b?.[h+N]?.[N>0?0:u.length-1],fe=Y||ue;fe&&(a.preventDefault(),t(7,p=fe?fe.id:p)),t(6,c=!1);break;default:(!c||c&&c!==v)&&a.key.length===1&&O(v,!0);break}}async function me(a){c!==a&&p!==a&&(t(6,c=!1),t(7,p=a))}async function be(a,h){if(h==="edit"&&typeof a=="string"&&(await K(),o[a].input?.focus()),h==="edit"&&typeof a=="boolean"&&typeof p=="string"){let w=o[p]?.cell;await K(),w?.focus()}if(h==="select"&&typeof a=="string"){const{cell:w}=o[a];await K(),w?.focus()}}let I,ee;function Je(a,h){h==="asc"?t(9,b=b.sort((w,v)=>w[a].value<v[a].value?-1:1)):h==="des"&&t(9,b=b.sort((w,v)=>w[a].value>v[a].value?-1:1))}function ke(a){typeof ee!="number"||ee!==a?(t(11,I="asc"),t(12,ee=a)):I==="asc"?t(11,I="des"):I==="des"&&t(11,I="asc"),Je(a,I)}let H;function we(){if(typeof p=="string"){const a=o[p].input?.value;if(u.find(h=>h.id===p)){let h=u.find(w=>w.id===p);a&&(h.value=a)}else a&&u.push({id:p,value:a})}}async function ae(a,h){!i||d[1]!=="dynamic"||c===a||(t(13,H=a),await K(),o[a].input?.focus(),h&&o[a].input?.select())}function Ke(a){if(!!i)switch(a.key){case"Escape":case"Enter":case"Tab":a.preventDefault(),t(7,p=H),t(13,H=!1),we();break}}function re(a){f[1]==="dynamic"&&(b.splice(a?a+1:b.length,0,Array(b[0].length).fill(0).map((h,w)=>{const v=`${b.length}-${w}`;return t(10,o[v]={cell:null,input:null},o),{id:v,value:""}})),t(9,b),t(27,_),t(29,F),t(26,r))}async function Ve(){if(d[1]!=="dynamic")return;for(let h=0;h<b.length;h++){const w=`${h}-${b[h].length}`;t(10,o[w]={cell:null,input:null},o),b[h].push({id:w,value:""})}const a=`h-${u.length}`;t(10,o[a]={cell:null,input:null},o),u.push({id:a,value:`Header ${u.length+1}`}),t(9,b),t(27,_),t(29,F),t(26,r),t(8,u),t(26,r),t(28,k),t(27,_),await K(),ae(a,!0)}function Ye(a){typeof c=="string"&&o[c]&&o[c].cell!==a.target&&!o[c].cell?.contains(a?.target)&&t(6,c=!1),typeof H=="string"&&o[H]&&o[H].cell!==a.target&&!o[H].cell?.contains(a.target)&&(t(7,p=H),t(13,H=!1),we(),t(13,H=!1))}function ye(a){const h=new FileReader;function w(v){if(!v?.target?.result||typeof v.target.result!="string")return;const[D]=vt(v.target.result,[",","	"]),[N,...Y]=_t(D).parseRows(v.target.result);t(8,u=A(d[1]==="fixed"?N.slice(0,d[0]):N)),t(27,_=Y),h.removeEventListener("loadend",w)}h.addEventListener("loadend",w),h.readAsText(a)}let ie=!1;function Ge(a,h){s.$$.not_equal(o[h].input,a)&&(o[h].input=a,t(10,o))}const Ie=a=>ae(a),Pe=a=>ke(a);function Ze(a,h){P[a?"unshift":"push"](()=>{o[h].cell=a,t(10,o)})}function je(a,h,w,v){w[v].value=a,t(9,b),t(27,_),t(29,F),t(26,r)}function Qe(a,h){s.$$.not_equal(o[h].input,a)&&(o[h].input=a,t(10,o))}function We(a,h){P[a?"unshift":"push"](()=>{o[h].cell=a,t(10,o)})}const Xe=a=>O(a),xe=a=>me(a),$e=a=>O(a),et=(a,h,w,v)=>G(v,a,h,w);function tt(a){ie=a,t(14,ie)}const lt=a=>ye(At(a.detail.data)),nt=()=>re();return s.$$set=a=>{"datatype"in a&&t(0,n=a.datatype),"label"in a&&t(1,l=a.label),"headers"in a&&t(26,r=a.headers),"values"in a&&t(27,_=a.values),"col_count"in a&&t(2,d=a.col_count),"row_count"in a&&t(3,f=a.row_count),"editable"in a&&t(4,i=a.editable),"wrap"in a&&t(5,g=a.wrap)},s.$$.update=()=>{s.$$.dirty[0]&201326592&&(_&&!Array.isArray(_)?(t(26,r=_.headers),t(27,_=_.data.length===0?[Array(r.length).fill("")]:_.data)):_===null?t(27,_=[Array(r.length).fill("")]):(t(27,_),t(26,r))),s.$$.dirty[0]&335544320&&(se(r,k)||(t(8,u=A(r)),t(28,k=r),q())),s.$$.dirty[0]&671088640&&(se(_,F)||(t(9,b=S(_)),t(29,F=_),q())),s.$$.dirty[0]&768&&u&&y("change",{data:b.map(a=>a.map(({value:h})=>h)),headers:u.map(a=>a.value)}),s.$$.dirty[0]&64&&be(c,"edit"),s.$$.dirty[0]&128&&be(p,"select")},[n,l,d,f,i,g,c,p,u,b,o,I,ee,H,ie,J,O,G,me,ke,ae,Ke,re,Ve,Ye,ye,r,_,k,F,Ge,Ie,Pe,Ze,je,Qe,We,Xe,xe,$e,et,tt,lt,nt]}class Lt extends _e{constructor(e){super(),de(this,e,Dt,yt,he,{datatype:0,label:1,headers:26,values:27,col_count:2,row_count:3,editable:4,wrap:5},null,[-1,-1])}}function Et(s){let e,t,n,l,r;const _=[s[10]];let d={};for(let f=0;f<_.length;f+=1)d=it(d,_[f]);return t=new ut({props:d}),l=new Lt({props:{label:s[7],row_count:s[6],col_count:s[5],values:s[0],headers:s[1],editable:s[4]==="dynamic",wrap:s[8],datatype:s[9]}}),l.$on("change",s[12]),{c(){e=B("div"),Z(t.$$.fragment),n=V(),Z(l.$$.fragment),m(e,"id",s[2]),m(e,"class","relative overflow-hidden svelte-1nw9bhs"),L(e,"hide",!s[3])},m(f,i){M(f,e,i),j(t,e,null),E(e,n),j(l,e,null),r=!0},p(f,[i]){const g=i&1024?ft(_,[ot(f[10])]):{};t.$set(g);const y={};i&128&&(y.label=f[7]),i&64&&(y.row_count=f[6]),i&32&&(y.col_count=f[5]),i&1&&(y.values=f[0]),i&2&&(y.headers=f[1]),i&16&&(y.editable=f[4]==="dynamic"),i&256&&(y.wrap=f[8]),i&512&&(y.datatype=f[9]),l.$set(y),(!r||i&4)&&m(e,"id",f[2]),i&8&&L(e,"hide",!f[3])},i(f){r||(C(t.$$.fragment,f),C(l.$$.fragment,f),r=!0)},o(f){R(t.$$.fragment,f),R(l.$$.fragment,f),r=!1},d(f){f&&T(e),Q(t),Q(l)}}}function qt(s,e,t){let{headers:n=[]}=e,{elem_id:l=""}=e,{visible:r=!0}=e,{value:_={data:[["","",""]],headers:["1","2","3"]}}=e,{mode:d}=e,{col_count:f}=e,{row_count:i}=e,{label:g=null}=e,{wrap:y}=e,{datatype:c}=e;const p=He();let{loading_status:o}=e;async function A(u){t(0,_=u),await K(),p("change",u)}const S=({detail:u})=>A(u);return s.$$set=u=>{"headers"in u&&t(1,n=u.headers),"elem_id"in u&&t(2,l=u.elem_id),"visible"in u&&t(3,r=u.visible),"value"in u&&t(0,_=u.value),"mode"in u&&t(4,d=u.mode),"col_count"in u&&t(5,f=u.col_count),"row_count"in u&&t(6,i=u.row_count),"label"in u&&t(7,g=u.label),"wrap"in u&&t(8,y=u.wrap),"datatype"in u&&t(9,c=u.datatype),"loading_status"in u&&t(10,o=u.loading_status)},[_,n,l,r,d,f,i,g,y,c,o,A,S]}class Bt extends _e{constructor(e){super(),de(this,e,qt,Et,he,{headers:1,elem_id:2,visible:3,value:0,mode:4,col_count:5,row_count:6,label:7,wrap:8,datatype:9,loading_status:10})}}var St=Bt;const zt=["static","dynamic"],Ht=s=>({type:" { data: Array<Array<string | number>>; headers: Array<string> }",description:"hex color code",example_data:s.value??"#000000"});export{St as Component,Ht as document,zt as modes};
//# sourceMappingURL=index.d32bd584.js.map
