import{S as _e,i as de,s as he,e as M,h as p,D as E,k as C,m as P,q as T,I as ge,d as Y,F as le,P as ve,N as Q,c as $,n as me,f as sl,a5 as al,l as L,U as te,t as B,v as V,w as G,b as S,x as W,o as X,p as j,Q as ne,K as Ne,Z as Oe,E as x,a6 as K,a7 as oe,a8 as ce,y as rl,z as il,A as ul,C as fl}from"./index.e56c05a2.js";import{U as ol}from"./Upload.89dba3fa.js";/* empty css                                                   */import{d as cl}from"./dsv.7fe76a93.js";var Ae=Object.prototype.hasOwnProperty;function se(s,e){var l,n;if(s===e)return!0;if(s&&e&&(l=s.constructor)===e.constructor){if(l===Date)return s.getTime()===e.getTime();if(l===RegExp)return s.toString()===e.toString();if(l===Array){if((n=s.length)===e.length)for(;n--&&se(s[n],e[n]););return n===-1}if(!l||typeof s=="object"){n=0;for(l in s)if(Ae.call(s,l)&&++n&&!Ae.call(e,l)||!(l in e)||!se(s[l],e[l]))return!1;return Object.keys(e).length===n}}return s!==s&&e!==e}function De(s){let e,l,n;return{c(){e=M("input"),p(e,"tabindex","-1"),e.value=s[0],p(e,"class","svelte-q8uklq"),E(e,"header",s[3])},m(t,r){C(t,e,r),s[7](e),l||(n=[P(e,"keydown",s[6]),P(e,"blur",s[8])],l=!0)},p(t,r){r&1&&e.value!==t[0]&&(e.value=t[0]),r&8&&E(e,"header",t[3])},d(t){t&&T(e),s[7](null),l=!1,ge(n)}}}function _l(s){let e;return{c(){e=$(s[0])},m(l,n){C(l,e,n)},p(l,n){n&1&&me(e,l[0])},d(l){l&&T(e)}}}function dl(s){let e,l;return{c(){e=new al(!1),l=sl(),e.a=l},m(n,t){e.m(s[0],n,t),C(n,l,t)},p(n,t){t&1&&e.p(n[0])},d(n){n&&T(l),n&&e.d()}}}function hl(s){let e,l,n,t,r=s[2]&&De(s);function _(i,g){return i[4]==="markdown"||i[4]==="html"?dl:_l}let d=_(s),f=d(s);return{c(){r&&r.c(),e=Y(),l=M("span"),f.c(),p(l,"tabindex","-1"),p(l,"role","button"),p(l,"class","svelte-q8uklq"),E(l,"edit",s[2])},m(i,g){r&&r.m(i,g),C(i,e,g),C(i,l,g),f.m(l,null),n||(t=P(l,"dblclick",s[5]),n=!0)},p(i,[g]){i[2]?r?r.p(i,g):(r=De(i),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),d===(d=_(i))&&f?f.p(i,g):(f.d(1),f=d(i),f&&(f.c(),f.m(l,null))),g&4&&E(l,"edit",i[2])},i:le,o:le,d(i){r&&r.d(i),i&&T(e),i&&T(l),f.d(),n=!1,t()}}}function gl(s,e,l){let{edit:n}=e,{value:t=""}=e,{el:r}=e,{header:_=!1}=e,{datatype:d="str"}=e;function f(c){ve.call(this,s,c)}function i(c){ve.call(this,s,c)}function g(c){Q[c?"unshift":"push"](()=>{r=c,l(1,r)})}const y=({currentTarget:c})=>{l(0,t=c.value),c.setAttribute("tabindex","-1")};return s.$$set=c=>{"edit"in c&&l(2,n=c.edit),"value"in c&&l(0,t=c.value),"el"in c&&l(1,r=c.el),"header"in c&&l(3,_=c.header),"datatype"in c&&l(4,d=c.datatype)},[t,r,n,_,d,f,i,g,y]}class Ue extends _e{constructor(e){super(),de(this,e,gl,hl,he,{edit:2,value:0,el:1,header:3,datatype:4})}}function Ee(s,e,l){const n=s.slice();return n[52]=e[l],n[54]=l,n}function Le(s,e,l){const n=s.slice();return n[55]=e[l].value,n[56]=e[l].id,n[57]=e,n[58]=l,n}function qe(s,e,l){const n=s.slice();return n[55]=e[l].value,n[56]=e[l].id,n[59]=e,n[54]=l,n}function Me(s){let e,l;return{c(){e=M("p"),l=$(s[1]),p(e,"class","svelte-1sckpv1")},m(n,t){C(n,e,t),L(e,l)},p(n,t){t[0]&2&&me(l,n[1])},d(n){n&&T(e)}}}function Ce(s){let e,l;return{c(){e=M("caption"),l=$(s[1]),p(e,"class","sr-only")},m(n,t){C(n,e,t),L(e,l)},p(n,t){t[0]&2&&me(l,n[1])},d(n){n&&T(e)}}}function Te(s,e){let l,n,t,r,_,d,f,i,g,y,c,m=e[56],o,A,z;function u(N){e[30](N,e[56])}function k(){return e[31](e[56])}let q={value:e[55],edit:e[13]===e[56],header:!0};e[10][e[56]].input!==void 0&&(q.el=e[10][e[56]].input),t=new Ue({props:q}),Q.push(()=>te(t,"el",u)),t.$on("keydown",e[21]),t.$on("dblclick",k);function b(){return e[32](e[54])}const F=()=>e[33](l,m),H=()=>e[33](null,m);return{key:s,first:null,c(){l=M("th"),n=M("div"),V(t.$$.fragment),_=Y(),d=M("div"),f=x("svg"),i=x("path"),y=Y(),p(i,"d","M4.49999 0L8.3971 6.75H0.602875L4.49999 0Z"),p(f,"width","1em"),p(f,"height","1em"),p(f,"viewBox","0 0 9 7"),p(f,"fill","none"),p(f,"xmlns","http://www.w3.org/2000/svg"),p(f,"class","svelte-1sckpv1"),p(d,"class",g="sort-button "+e[11]+" svelte-1sckpv1"),E(d,"sorted",e[12]===e[54]),E(d,"des",e[12]===e[54]&&e[11]==="des"),p(n,"class","cell-wrap svelte-1sckpv1"),p(l,"aria-sort",c=e[15](e[55],e[12],e[11])),p(l,"class","svelte-1sckpv1"),E(l,"editing",e[13]===e[56]),this.first=l},m(N,R){C(N,l,R),L(l,n),G(t,n,null),L(n,_),L(n,d),L(d,f),L(f,i),L(l,y),F(),o=!0,A||(z=P(d,"click",b),A=!0)},p(N,R){e=N;const I={};R[0]&256&&(I.value=e[55]),R[0]&8448&&(I.edit=e[13]===e[56]),!r&&R[0]&1280&&(r=!0,I.el=e[10][e[56]].input,ne(()=>r=!1)),t.$set(I),(!o||R[0]&2048&&g!==(g="sort-button "+e[11]+" svelte-1sckpv1"))&&p(d,"class",g),R[0]&6400&&E(d,"sorted",e[12]===e[54]),R[0]&6400&&E(d,"des",e[12]===e[54]&&e[11]==="des"),(!o||R[0]&6400&&c!==(c=e[15](e[55],e[12],e[11])))&&p(l,"aria-sort",c),m!==e[56]&&(H(),m=e[56],F()),R[0]&8448&&E(l,"editing",e[13]===e[56])},i(N){o||(B(t.$$.fragment,N),o=!0)},o(N){S(t.$$.fragment,N),o=!1},d(N){N&&T(l),W(t),H(),A=!1,z()}}}function Be(s,e){let l,n,t,r,_,d=e[56],f,i,g;function y(b){e[34](b,e[55],e[57],e[58])}function c(b){e[35](b,e[56])}let m={edit:e[6]===e[56],datatype:Array.isArray(e[0])?e[0][e[58]]:e[0]};e[55]!==void 0&&(m.value=e[55]),e[10][e[56]].input!==void 0&&(m.el=e[10][e[56]].input),t=new Ue({props:m}),Q.push(()=>te(t,"value",y)),Q.push(()=>te(t,"el",c));const o=()=>e[36](l,d),A=()=>e[36](null,d);function z(){return e[37](e[56])}function u(){return e[38](e[56])}function k(){return e[39](e[56])}function q(...b){return e[40](e[54],e[58],e[56],...b)}return{key:s,first:null,c(){l=M("td"),n=M("div"),V(t.$$.fragment),p(n,"class","cell-wrap svelte-1sckpv1"),E(n,"border-transparent",e[7]!==e[56]),p(l,"tabindex","0"),p(l,"class","svelte-1sckpv1"),this.first=l},m(b,F){C(b,l,F),L(l,n),G(t,n,null),o(),f=!0,i||(g=[P(l,"touchstart",z,{passive:!0}),P(l,"click",u),P(l,"dblclick",k),P(l,"keydown",q)],i=!0)},p(b,F){e=b;const H={};F[0]&576&&(H.edit=e[6]===e[56]),F[0]&513&&(H.datatype=Array.isArray(e[0])?e[0][e[58]]:e[0]),!r&&F[0]&512&&(r=!0,H.value=e[55],ne(()=>r=!1)),!_&&F[0]&1536&&(_=!0,H.el=e[10][e[56]].input,ne(()=>_=!1)),t.$set(H),F[0]&640&&E(n,"border-transparent",e[7]!==e[56]),d!==e[56]&&(A(),d=e[56],o())},i(b){f||(B(t.$$.fragment,b),f=!0)},o(b){S(t.$$.fragment,b),f=!1},d(b){b&&T(l),W(t),A(),i=!1,ge(g)}}}function Fe(s,e){let l,n=[],t=new Map,r,_,d=e[52];const f=i=>i[56];for(let i=0;i<d.length;i+=1){let g=Le(e,d,i),y=f(g);t.set(y,n[i]=Be(y,g))}return{key:s,first:null,c(){l=M("tr");for(let i=0;i<n.length;i+=1)n[i].c();r=Y(),p(l,"class","svelte-1sckpv1"),this.first=l},m(i,g){C(i,l,g);for(let y=0;y<n.length;y+=1)n[y].m(l,null);L(l,r),_=!0},p(i,g){e=i,g[0]&460481&&(d=e[52],X(),n=oe(n,g,f,1,e,d,t,l,ce,Be,r,Le),j())},i(i){if(!_){for(let g=0;g<d.length;g+=1)B(n[g]);_=!0}},o(i){for(let g=0;g<n.length;g+=1)S(n[g]);_=!1},d(i){i&&T(l);for(let g=0;g<n.length;g+=1)n[g].d()}}}function ml(s){let e,l,n,t,r=[],_=new Map,d,f,i=[],g=new Map,y,c=s[1]&&s[1].length!==0&&Ce(s),m=s[8];const o=u=>u[56];for(let u=0;u<m.length;u+=1){let k=qe(s,m,u),q=o(k);_.set(q,r[u]=Te(q,k))}let A=s[9];const z=u=>u[52];for(let u=0;u<A.length;u+=1){let k=Ee(s,A,u),q=z(k);g.set(q,i[u]=Fe(q,k))}return{c(){e=M("table"),c&&c.c(),l=Y(),n=M("thead"),t=M("tr");for(let u=0;u<r.length;u+=1)r[u].c();d=Y(),f=M("tbody");for(let u=0;u<i.length;u+=1)i[u].c();p(t,"class","svelte-1sckpv1"),p(n,"class","svelte-1sckpv1"),p(f,"class","svelte-1sckpv1"),p(e,"class","svelte-1sckpv1"),E(e,"dragging",s[14])},m(u,k){C(u,e,k),c&&c.m(e,null),L(e,l),L(e,n),L(n,t);for(let q=0;q<r.length;q+=1)r[q].m(t,null);L(e,d),L(e,f);for(let q=0;q<i.length;q+=1)i[q].m(f,null);y=!0},p(u,k){u[1]&&u[1].length!==0?c?c.p(u,k):(c=Ce(u),c.c(),c.m(e,l)):c&&(c.d(1),c=null),k[0]&3718400&&(m=u[8],X(),r=oe(r,k,o,1,u,m,_,t,ce,Te,null,qe),j()),k[0]&460481&&(A=u[9],X(),i=oe(i,k,z,1,u,A,g,f,ce,Fe,null,Ee),j()),k[0]&16384&&E(e,"dragging",u[14])},i(u){if(!y){for(let k=0;k<m.length;k+=1)B(r[k]);for(let k=0;k<A.length;k+=1)B(i[k]);y=!0}},o(u){for(let k=0;k<r.length;k+=1)S(r[k]);for(let k=0;k<i.length;k+=1)S(i[k]);y=!1},d(u){u&&T(e),c&&c.d();for(let k=0;k<r.length;k+=1)r[k].d();for(let k=0;k<i.length;k+=1)i[k].d()}}}function Re(s){let e,l,n,t=s[3][1]==="dynamic"&&Se(s),r=s[2][1]==="dynamic"&&ze(s);return{c(){e=M("div"),t&&t.c(),l=Y(),r&&r.c(),p(e,"class","controls-wrap svelte-1sckpv1")},m(_,d){C(_,e,d),t&&t.m(e,null),L(e,l),r&&r.m(e,null),n=!0},p(_,d){_[3][1]==="dynamic"?t?(t.p(_,d),d[0]&8&&B(t,1)):(t=Se(_),t.c(),B(t,1),t.m(e,l)):t&&(X(),S(t,1,1,()=>{t=null}),j()),_[2][1]==="dynamic"?r?(r.p(_,d),d[0]&4&&B(r,1)):(r=ze(_),r.c(),B(r,1),r.m(e,null)):r&&(X(),S(r,1,1,()=>{r=null}),j())},i(_){n||(B(t),B(r),n=!0)},o(_){S(t),S(r),n=!1},d(_){_&&T(e),t&&t.d(),r&&r.d()}}}function Se(s){let e,l,n;return l=new Oe({props:{variant:"plain",size:"sm",$$slots:{default:[pl]},$$scope:{ctx:s}}}),l.$on("click",s[43]),{c(){e=M("span"),V(l.$$.fragment),p(e,"class","button-wrap svelte-1sckpv1")},m(t,r){C(t,e,r),G(l,e,null),n=!0},p(t,r){const _={};r[1]&536870912&&(_.$$scope={dirty:r,ctx:t}),l.$set(_)},i(t){n||(B(l.$$.fragment,t),n=!0)},o(t){S(l.$$.fragment,t),n=!1},d(t){t&&T(e),W(l)}}}function pl(s){let e,l,n;return{c(){e=x("svg"),l=x("path"),n=$(`
						New row`),p(l,"fill","currentColor"),p(l,"d","M24.59 16.59L17 24.17V4h-2v20.17l-7.59-7.58L6 18l10 10l10-10l-1.41-1.41z"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),p(e,"aria-hidden","true"),p(e,"role","img"),p(e,"width","1em"),p(e,"height","1em"),p(e,"preserveAspectRatio","xMidYMid meet"),p(e,"viewBox","0 0 32 32"),p(e,"class","svelte-1sckpv1")},m(t,r){C(t,e,r),L(e,l),C(t,n,r)},p:le,d(t){t&&T(e),t&&T(n)}}}function ze(s){let e,l,n;return l=new Oe({props:{variant:"plain",size:"sm",$$slots:{default:[bl]},$$scope:{ctx:s}}}),l.$on("click",s[23]),{c(){e=M("span"),V(l.$$.fragment),p(e,"class","button-wrap svelte-1sckpv1")},m(t,r){C(t,e,r),G(l,e,null),n=!0},p(t,r){const _={};r[1]&536870912&&(_.$$scope={dirty:r,ctx:t}),l.$set(_)},i(t){n||(B(l.$$.fragment,t),n=!0)},o(t){S(l.$$.fragment,t),n=!1},d(t){t&&T(e),W(l)}}}function bl(s){let e,l,n;return{c(){e=x("svg"),l=x("path"),n=$(`
						New column`),p(l,"fill","currentColor"),p(l,"d","m18 6l-1.43 1.393L24.15 15H4v2h20.15l-7.58 7.573L18 26l10-10L18 6z"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),p(e,"aria-hidden","true"),p(e,"role","img"),p(e,"width","1em"),p(e,"height","1em"),p(e,"preserveAspectRatio","xMidYMid meet"),p(e,"viewBox","0 0 32 32"),p(e,"class","svelte-1sckpv1")},m(t,r){C(t,e,r),L(e,l),C(t,n,r)},p:le,d(t){t&&T(e),t&&T(n)}}}function kl(s){let e,l,n,t,r,_,d,f,i,g=s[1]&&s[1].length!==0&&Me(s);function y(o){s[41](o)}let c={flex:!1,center:!1,boundedheight:!1,disable_click:!0,$$slots:{default:[ml]},$$scope:{ctx:s}};s[14]!==void 0&&(c.dragging=s[14]),t=new ol({props:c}),Q.push(()=>te(t,"dragging",y)),t.$on("load",s[42]);let m=s[4]&&Re(s);return{c(){e=M("div"),g&&g.c(),l=Y(),n=M("div"),V(t.$$.fragment),_=Y(),m&&m.c(),p(n,"class","table-wrap scroll-hide svelte-1sckpv1"),E(n,"dragging",s[14]),E(n,"no-wrap",!s[5]),p(e,"class","svelte-1sckpv1"),E(e,"label",s[1]&&s[1].length!==0)},m(o,A){C(o,e,A),g&&g.m(e,null),L(e,l),L(e,n),G(t,n,null),L(e,_),m&&m.m(e,null),d=!0,f||(i=[P(window,"click",s[24]),P(window,"touchstart",s[24])],f=!0)},p(o,A){o[1]&&o[1].length!==0?g?g.p(o,A):(g=Me(o),g.c(),g.m(e,l)):g&&(g.d(1),g=null);const z={};A[0]&32707|A[1]&536870912&&(z.$$scope={dirty:A,ctx:o}),!r&&A[0]&16384&&(r=!0,z.dragging=o[14],ne(()=>r=!1)),t.$set(z),A[0]&16384&&E(n,"dragging",o[14]),A[0]&32&&E(n,"no-wrap",!o[5]),o[4]?m?(m.p(o,A),A[0]&16&&B(m,1)):(m=Re(o),m.c(),B(m,1),m.m(e,null)):m&&(X(),S(m,1,1,()=>{m=null}),j()),A[0]&2&&E(e,"label",o[1]&&o[1].length!==0)},i(o){d||(B(t.$$.fragment,o),B(m),d=!0)},o(o){S(t.$$.fragment,o),S(m),d=!1},d(o){o&&T(e),g&&g.d(),W(t),m&&m.d(),f=!1,ge(i)}}}function wl(s,e){return e.filter(l);function l(n){var t=-1;return s.split(`
`).every(r);function r(_){if(!_)return!0;var d=_.split(n).length;return t<0&&(t=d),t===d&&d>1}}}function yl(s){const e=atob(s.split(",")[1]),l=s.split(",")[0].split(":")[1].split(";")[0],n=new ArrayBuffer(e.length),t=new Uint8Array(n);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return new Blob([n],{type:l})}function vl(s,e,l){let{datatype:n}=e,{label:t=null}=e,{headers:r=[]}=e,{values:_=[[]]}=e,{col_count:d}=e,{row_count:f}=e,{editable:i=!0}=e,{wrap:g=!1}=e;const y=Ne();let c=!1,m=!1,o={};function A(a){let h=a||[];if(d[1]==="fixed"&&h.length<d[0]){const w=Array(d[0]-h.length).fill("").map((v,D)=>`${D+h.length}`);h=h.concat(w)}return!h||h.length===0?Array(d[0]).fill(0).map((w,v)=>{const D=`h-${v}`;return l(10,o[D]={cell:null,input:null},o),{id:D,value:JSON.stringify(v+1)}}):h.map((w,v)=>{const D=`h-${v}`;return l(10,o[D]={cell:null,input:null},o),{id:D,value:w??""}})}function z(a){const h=a.length>0?a.length:f[0];return Array(f[1]==="fixed"||h<f[0]?f[0]:h).fill(0).map((w,v)=>Array(d[1]==="fixed"?d[0]:a[0].length).fill(0).map((D,U)=>{const Z=`${v}-${U}`;return l(10,o[Z]={input:null,cell:null},o),{value:a?.[v]?.[U]??"",id:Z}}))}let u=A(r),k;async function q(){typeof c=="string"?(await K(),o[c]?.input?.focus()):typeof m=="string"&&(await K(),o[m]?.input?.focus())}let b=[[]],F;function H(a,h,w){if(!h)return"none";if(r[h]===a){if(w==="asc")return"ascending";if(w==="des")return"descending"}}function N(a){return b.reduce((h,w,v)=>{const D=w.reduce((U,Z,ue)=>a===Z.id?ue:U,-1);return D===-1?h:[v,D]},[-1,-1])}async function R(a,h){if(!i||c===a)return;if(h){const[v,D]=N(a);l(9,b[v][D].value="",b)}l(6,c=a),await K();const{input:w}=o[a];w?.focus()}async function I(a,h,w,v){let D;switch(a.key){case"ArrowRight":if(c)break;a.preventDefault(),D=b[h][w+1],l(7,m=D?D.id:m);break;case"ArrowLeft":if(c)break;a.preventDefault(),D=b[h][w-1],l(7,m=D?D.id:m);break;case"ArrowDown":if(c)break;a.preventDefault(),D=b[h+1],l(7,m=D?D[w].id:m);break;case"ArrowUp":if(c)break;a.preventDefault(),D=b[h-1],l(7,m=D?D[w].id:m);break;case"Escape":if(!i)break;a.preventDefault(),l(7,m=c),l(6,c=!1);break;case"Enter":if(!i)break;if(a.preventDefault(),a.shiftKey){re(h),await K();const[nl]=N(v);l(7,m=b[nl+1][w].id)}else c===v?l(6,c=!1):R(v);break;case"Backspace":if(!i)break;c||(a.preventDefault(),l(9,b[h][w].value="",b));break;case"Delete":if(!i)break;c||(a.preventDefault(),l(9,b[h][w].value="",b));break;case"Tab":let U=a.shiftKey?-1:1,Z=b[h][w+U],ue=b?.[h+U]?.[U>0?0:u.length-1],fe=Z||ue;fe&&(a.preventDefault(),l(7,m=fe?fe.id:m)),l(6,c=!1);break;default:(!c||c&&c!==v)&&a.key.length===1&&R(v,!0);break}}async function pe(a){c!==a&&m!==a&&(l(6,c=!1),l(7,m=a))}async function be(a,h){if(h==="edit"&&typeof a=="string"&&(await K(),o[a].input?.focus()),h==="edit"&&typeof a=="boolean"&&typeof m=="string"){let w=o[m]?.cell;await K(),w?.focus()}if(h==="select"&&typeof a=="string"){const{cell:w}=o[a];await K(),w?.focus()}}let J,ee;function He(a,h){h==="asc"?l(9,b=b.sort((w,v)=>w[a].value<v[a].value?-1:1)):h==="des"&&l(9,b=b.sort((w,v)=>w[a].value>v[a].value?-1:1))}function ke(a){typeof ee!="number"||ee!==a?(l(11,J="asc"),l(12,ee=a)):J==="asc"?l(11,J="des"):J==="des"&&l(11,J="asc"),He(a,J)}let O;function we(){if(typeof m=="string"){const a=o[m].input?.value;if(u.find(h=>h.id===m)){let h=u.find(w=>w.id===m);a&&(h.value=a)}else a&&u.push({id:m,value:a})}}async function ae(a,h){!i||d[1]!=="dynamic"||c===a||(l(13,O=a),await K(),o[a].input?.focus(),h&&o[a].input?.select())}function Ke(a){if(!!i)switch(a.key){case"Escape":case"Enter":case"Tab":a.preventDefault(),l(7,m=O),l(13,O=!1),we();break}}function re(a){f[1]==="dynamic"&&(b.splice(a?a+1:b.length,0,Array(b[0].length).fill(0).map((h,w)=>{const v=`${b.length}-${w}`;return l(10,o[v]={cell:null,input:null},o),{id:v,value:""}})),l(9,b),l(27,_),l(29,F),l(26,r))}async function Pe(){if(d[1]!=="dynamic")return;for(let h=0;h<b.length;h++){const w=`${h}-${b[h].length}`;l(10,o[w]={cell:null,input:null},o),b[h].push({id:w,value:""})}const a=`h-${u.length}`;l(10,o[a]={cell:null,input:null},o),u.push({id:a,value:`Header ${u.length+1}`}),l(9,b),l(27,_),l(29,F),l(26,r),l(8,u),l(26,r),l(28,k),l(27,_),await K(),ae(a,!0)}function Ye(a){typeof c=="string"&&o[c]&&o[c].cell!==a.target&&!o[c].cell?.contains(a?.target)&&l(6,c=!1),typeof O=="string"&&o[O]&&o[O].cell!==a.target&&!o[O].cell?.contains(a.target)&&(l(7,m=O),l(13,O=!1),we(),l(13,O=!1))}function ye(a){const h=new FileReader;function w(v){if(!v?.target?.result||typeof v.target.result!="string")return;const[D]=wl(v.target.result,[",","	"]),[U,...Z]=cl(D).parseRows(v.target.result);l(8,u=A(d[1]==="fixed"?U.slice(0,d[0]):U)),l(27,_=Z),h.removeEventListener("loadend",w)}h.addEventListener("loadend",w),h.readAsText(a)}let ie=!1;function Ze(a,h){s.$$.not_equal(o[h].input,a)&&(o[h].input=a,l(10,o))}const Ie=a=>ae(a),Je=a=>ke(a);function Qe(a,h){Q[a?"unshift":"push"](()=>{o[h].cell=a,l(10,o)})}function Ve(a,h,w,v){w[v].value=a,l(9,b),l(27,_),l(29,F),l(26,r)}function Ge(a,h){s.$$.not_equal(o[h].input,a)&&(o[h].input=a,l(10,o))}function We(a,h){Q[a?"unshift":"push"](()=>{o[h].cell=a,l(10,o)})}const Xe=a=>R(a),je=a=>pe(a),xe=a=>R(a),$e=(a,h,w,v)=>I(v,a,h,w);function el(a){ie=a,l(14,ie)}const ll=a=>ye(yl(a.detail.data)),tl=()=>re();return s.$$set=a=>{"datatype"in a&&l(0,n=a.datatype),"label"in a&&l(1,t=a.label),"headers"in a&&l(26,r=a.headers),"values"in a&&l(27,_=a.values),"col_count"in a&&l(2,d=a.col_count),"row_count"in a&&l(3,f=a.row_count),"editable"in a&&l(4,i=a.editable),"wrap"in a&&l(5,g=a.wrap)},s.$$.update=()=>{s.$$.dirty[0]&201326592&&(_&&!Array.isArray(_)?(l(26,r=_.headers),l(27,_=_.data.length===0?[Array(r.length).fill("")]:_.data)):_===null?l(27,_=[Array(r.length).fill("")]):(l(27,_),l(26,r))),s.$$.dirty[0]&335544320&&(se(r,k)||(l(8,u=A(r)),l(28,k=r),q())),s.$$.dirty[0]&671088640&&(se(_,F)||(l(9,b=z(_)),l(29,F=_),q())),s.$$.dirty[0]&768&&u&&y("change",{data:b.map(a=>a.map(({value:h})=>h)),headers:u.map(a=>a.value)}),s.$$.dirty[0]&64&&be(c,"edit"),s.$$.dirty[0]&128&&be(m,"select")},[n,t,d,f,i,g,c,m,u,b,o,J,ee,O,ie,H,R,I,pe,ke,ae,Ke,re,Pe,Ye,ye,r,_,k,F,Ze,Ie,Je,Qe,Ve,Ge,We,Xe,je,xe,$e,el,ll,tl]}class Al extends _e{constructor(e){super(),de(this,e,vl,kl,he,{datatype:0,label:1,headers:26,values:27,col_count:2,row_count:3,editable:4,wrap:5},null,[-1,-1])}}function Dl(s){let e,l,n,t,r;const _=[s[10]];let d={};for(let f=0;f<_.length;f+=1)d=rl(d,_[f]);return l=new il({props:d}),t=new Al({props:{label:s[7],row_count:s[6],col_count:s[5],values:s[0],headers:s[1],editable:s[4]==="dynamic",wrap:s[8],datatype:s[9]}}),t.$on("change",s[12]),{c(){e=M("div"),V(l.$$.fragment),n=Y(),V(t.$$.fragment),p(e,"id",s[2]),p(e,"class","relative overflow-hidden svelte-1nw9bhs"),E(e,"hide",!s[3])},m(f,i){C(f,e,i),G(l,e,null),L(e,n),G(t,e,null),r=!0},p(f,[i]){const g=i&1024?ul(_,[fl(f[10])]):{};l.$set(g);const y={};i&128&&(y.label=f[7]),i&64&&(y.row_count=f[6]),i&32&&(y.col_count=f[5]),i&1&&(y.values=f[0]),i&2&&(y.headers=f[1]),i&16&&(y.editable=f[4]==="dynamic"),i&256&&(y.wrap=f[8]),i&512&&(y.datatype=f[9]),t.$set(y),(!r||i&4)&&p(e,"id",f[2]),i&8&&E(e,"hide",!f[3])},i(f){r||(B(l.$$.fragment,f),B(t.$$.fragment,f),r=!0)},o(f){S(l.$$.fragment,f),S(t.$$.fragment,f),r=!1},d(f){f&&T(e),W(l),W(t)}}}function El(s,e,l){let{headers:n=[]}=e,{elem_id:t=""}=e,{visible:r=!0}=e,{value:_={data:[["","",""]],headers:["1","2","3"]}}=e,{mode:d}=e,{col_count:f}=e,{row_count:i}=e,{label:g=null}=e,{wrap:y}=e,{datatype:c}=e;const m=Ne();let{loading_status:o}=e;async function A(u){l(0,_=u),await K(),m("change",u)}const z=({detail:u})=>A(u);return s.$$set=u=>{"headers"in u&&l(1,n=u.headers),"elem_id"in u&&l(2,t=u.elem_id),"visible"in u&&l(3,r=u.visible),"value"in u&&l(0,_=u.value),"mode"in u&&l(4,d=u.mode),"col_count"in u&&l(5,f=u.col_count),"row_count"in u&&l(6,i=u.row_count),"label"in u&&l(7,g=u.label),"wrap"in u&&l(8,y=u.wrap),"datatype"in u&&l(9,c=u.datatype),"loading_status"in u&&l(10,o=u.loading_status)},[_,n,t,r,d,f,i,g,y,c,o,A,z]}class Ll extends _e{constructor(e){super(),de(this,e,El,Dl,he,{headers:1,elem_id:2,visible:3,value:0,mode:4,col_count:5,row_count:6,label:7,wrap:8,datatype:9,loading_status:10})}}var Bl=Ll;const Fl=["static","dynamic"],Rl=s=>({type:" { data: Array<Array<string | number>>; headers: Array<string> }",description:"hex color code",example_data:s.value??"#000000"});export{Bl as Component,Rl as document,Fl as modes};
//# sourceMappingURL=index.cf853891.js.map
